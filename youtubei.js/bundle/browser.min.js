/* eslint-disable */
var ww=Object.defineProperty;var n=(t,e)=>ww(t,"name",{value:e,configurable:!0});var L=(t,e)=>{for(var i in e)ww(t,i,{get:e[i],enumerable:!0})};function kw(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(i[o[s]]=t[o[s]]);return i}n(kw,"__rest");function Iw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(Iw,"__setFunctionName");function y(t,e,i,o){function s(r){return r instanceof i?r:new i(function(u){u(r)})}return n(s,"adopt"),new(i||(i=Promise))(function(r,u){function p(h){try{m(o.next(h))}catch(x){u(x)}}n(p,"fulfilled");function f(h){try{m(o.throw(h))}catch(x){u(x)}}n(f,"rejected");function m(h){h.done?r(h.value):s(h.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(y,"__awaiter");function Tw(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Tw,"__values");function So(t){return this instanceof So?(this.v=t,this):new So(t)}n(So,"__await");function Sw(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),s,r=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(b){o[b]&&(s[b]=function(T){return new Promise(function(S,C){r.push([b,T,S,C])>1||p(b,T)})})}function p(b,T){try{f(o[b](T))}catch(S){x(r[0][3],S)}}function f(b){b.value instanceof So?Promise.resolve(b.value.v).then(m,h):x(r[0][2],b)}function m(b){p("next",b)}function h(b){p("throw",b)}function x(b,T){b(T),r.shift(),r.length&&p(r[0][0],r[0][1])}}n(Sw,"__asyncGenerator");function Cw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Tw=="function"?Tw(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=t[r]&&function(u){return new Promise(function(p,f){u=t[r](u),s(p,f,u.done,u.value)})}}function s(r,u,p,f){Promise.resolve(f).then(function(m){r({value:m,done:p})},u)}}n(Cw,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function k(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i}n(k,"__classPrivateFieldSet");var eb={};L(eb,{ChannelError:()=>Xs,InnertubeError:()=>v,MissingParamError:()=>Bn,OAuth2Error:()=>Ae,ParsingError:()=>It,Platform:()=>U,PlayerError:()=>$t,SessionError:()=>Fn,base64ToU8:()=>wb,concatMemos:()=>Lb,debugFetch:()=>NP,deepCompare:()=>y_,escapeStringRegexp:()=>$b,generateRandomString:()=>Nt,generateSidAuth:()=>Qy,getCookie:()=>Zy,getRandomUserAgent:()=>Ro,getStringBetweenStrings:()=>We,hasKeys:()=>PP,isTextRun:()=>nt,streamToIterable:()=>Ky,throwIfMissing:()=>oe,timeToSeconds:()=>Be,u8ToBase64:()=>ct});var $y={};L($y,{Maybe:()=>Eo,Memo:()=>Oi,SuperParsedResult:()=>ei,YTNode:()=>a,observe:()=>$});var Le,tt=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let s=[`[${this.YTJS_TAG}]`];i&&s.push(`[${i}]`),this.log_map_[e](`${s.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(tt,"Log");Le=tt;tt.YTJS_TAG="YOUTUBEJS";tt.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};tt.log_map_={[Le.Level.ERROR]:(...t)=>console.error(...t),[Le.Level.WARNING]:(...t)=>console.warn(...t),[Le.Level.INFO]:(...t)=>console.info(...t),[Le.Level.DEBUG]:(...t)=>console.debug(...t)};tt.log_level_=[Le.Level.WARNING];tt.one_time_warnings_issued_=new Set;tt.warnOnce=(t,...e)=>{Le.one_time_warnings_issued_.has(t)||(Le.doLog(Le.Level.WARNING,t,e),Le.one_time_warnings_issued_.add(t))};tt.warn=(t,...e)=>Le.doLog(Le.Level.WARNING,t,e);tt.error=(t,...e)=>Le.doLog(Le.Level.ERROR,t,e);tt.info=(t,...e)=>Le.doLog(Le.Level.INFO,t,e);tt.debug=(t,...e)=>Le.doLog(Le.Level.DEBUG,t,e);var B=tt;var Gy,Ew,Me,zy,he,Zt,yi,Co,Pw=Symbol("ObservedArray.isObserved"),a=class{constructor(){Gy.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,Gy,"m",Ew).call(this,i))}as(...e){if(!this.is(...e))throw new It(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new It(`Missing key ${e}`);return new Eo(this[e])}};n(a,"YTNode");Gy=new WeakSet,Ew=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var Eo=class{constructor(e){Me.add(this),zy.set(this,"Maybe"),he.set(this,void 0),k(this,he,e,"f")}get typeof(){return typeof d(this,he,"f")}string(){return d(this,Me,"m",yi).call(this,"string")}isString(){return d(this,Me,"m",Zt).call(this,"string")}number(){return d(this,Me,"m",yi).call(this,"number")}isNumber(){return d(this,Me,"m",Zt).call(this,"number")}bigint(){return d(this,Me,"m",yi).call(this,"bigint")}isBigint(){return d(this,Me,"m",Zt).call(this,"bigint")}boolean(){return d(this,Me,"m",yi).call(this,"boolean")}isBoolean(){return d(this,Me,"m",Zt).call(this,"boolean")}symbol(){return d(this,Me,"m",yi).call(this,"symbol")}isSymbol(){return d(this,Me,"m",Zt).call(this,"symbol")}undefined(){return d(this,Me,"m",yi).call(this,"undefined")}isUndefined(){return d(this,Me,"m",Zt).call(this,"undefined")}null(){if(d(this,he,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,he,"f")}`);return d(this,he,"f")}isNull(){return d(this,he,"f")===null}object(){return d(this,Me,"m",yi).call(this,"object")}isObject(){return d(this,Me,"m",Zt).call(this,"object")}function(){return d(this,Me,"m",yi).call(this,"function")}isFunction(){return d(this,Me,"m",Zt).call(this,"function")}array(){if(!Array.isArray(d(this,he,"f")))throw new TypeError(`Expected array, got ${typeof d(this,he,"f")}`);return d(this,he,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Eo(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,he,"f"))}node(){if(!(d(this,he,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${d(this,he,"f").constructor.name}`);return d(this,he,"f")}isNode(){return d(this,he,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,he,"f")}`);return d(this,he,"f")}isObserved(){var e;return(e=d(this,he,"f"))===null||e===void 0?void 0:e[Pw]}parsed(){if(!(d(this,he,"f")instanceof ei))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,he,"f")}`);return d(this,he,"f")}isParsed(){return d(this,he,"f")instanceof ei}any(){return B.warn(d(this,zy,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,he,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,he,"f").constructor.name}`);return d(this,he,"f")}isInstanceof(e){return d(this,he,"f")instanceof e}};n(Eo,"Maybe");zy=new WeakMap,he=new WeakMap,Me=new WeakSet,Zt=n(function(e){return typeof d(this,he,"f")===e},"_Maybe_checkPrimative"),yi=n(function(e){if(!d(this,Me,"m",Zt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,he,"f")},"_Maybe_assertPrimative");var ei=class{constructor(e){Co.set(this,void 0),k(this,Co,e,"f")}get is_null(){return d(this,Co,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,Co,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,Co,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,Co,"f")}};n(ei,"SuperParsedResult");Co=new WeakMap;function $(t){return new Proxy(t,{get(e,i){return i=="get"?(o,s)=>e.find((r,u)=>{let p=y_(o,r);return p&&s&&e.splice(u,1),p}):i==Pw?!0:i=="getAll"?(o,s)=>e.filter((r,u)=>{let p=y_(o,r);return p&&s&&e.splice(u,1),p}):i=="matchCondition"?o=>e.find(s=>o(s)):i=="filterType"?(...o)=>$(e.filter(s=>!!s.is(...o))):i=="firstOfType"?(...o)=>e.find(s=>!!s.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>$(e.map(s=>{if(s.is(...o))return s;throw new It(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${s.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n($,"observe");var Oi=class extends Map{getType(...e){return e=e.flat(),$(e.flatMap(i=>this.get(i.type)||[]))}};n(Oi,"Memo");var zb={};L(zb,{Author:()=>O,ChildElement:()=>ag,EmojiRun:()=>Li,Format:()=>ix,Text:()=>l,TextRun:()=>Bi,Thumbnail:()=>w,VideoDetails:()=>uo});var se={};L(se,{CLIENTS:()=>le,INNERTUBE_HEADERS_BASE:()=>vC,OAUTH:()=>_C,STREAM_HEADERS:()=>bi,URLS:()=>it});var it=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),_C=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),le=Object.freeze({iOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),bi=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),vC=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var c={};L(c,{addRuntimeParser:()=>Rb,applyCommentsMutations:()=>e1,applyMutations:()=>ZS,getDynamicParsers:()=>CE,getParserByName:()=>Oh,hasParser:()=>Z0,parse:()=>Ke,parseActions:()=>QS,parseArray:()=>$e,parseC:()=>XS,parseFormats:()=>Mb,parseItem:()=>re,parseLC:()=>Vb,parseRR:()=>ox,parseResponse:()=>EE,sanitizeClassName:()=>Lh,setParserErrorHandler:()=>IE,shouldIgnore:()=>qS});var Jo={};L(Jo,{AboutChannel:()=>R_,AboutChannelView:()=>A_,AccountChannel:()=>V_,AccountItemSection:()=>O_,AccountItemSectionHeader:()=>M_,AccountSectionList:()=>D_,AddBannerToLiveChatCommand:()=>Ok,AddChatItemAction:()=>Vg,AddLiveChatTickerItemAction:()=>Dk,Alert:()=>ns,AlertWithButton:()=>W_,AnalyticsMainAppKeyMetrics:()=>Hw,AnalyticsRoot:()=>Jw,AnalyticsShortsCarouselCard:()=>Gw,AnalyticsVideo:()=>J_,AnalyticsVodCarouselCard:()=>zw,AnchoredSection:()=>$0,AppendContinuationItemsAction:()=>Mo,AttributionView:()=>G_,AudioOnlyPlayability:()=>z_,AuthorCommentBadge:()=>Lv,AutomixPreviewVideo:()=>Fi,AvatarView:()=>$_,BackstageImage:()=>K_,BackstagePost:()=>Yi,BackstagePostThread:()=>qw,BrowseFeedActions:()=>X_,BrowserMediaSession:()=>Xw,Button:()=>I,ButtonView:()=>Oo,C4TabbedHeader:()=>Hi,CallToActionButton:()=>Qw,Card:()=>Zw,CardCollection:()=>kv,CarouselHeader:()=>Iv,CarouselItem:()=>eT,CarouselLockup:()=>xv,Channel:()=>Sv,ChannelAboutFullMetadata:()=>rl,ChannelAgeGate:()=>tT,ChannelExternalLinkView:()=>N_,ChannelFeaturedContent:()=>iT,ChannelHeaderLinks:()=>Q_,ChannelHeaderLinksView:()=>Z_,ChannelMetadata:()=>Cv,ChannelMobileHeader:()=>oT,ChannelOptions:()=>Ev,ChannelOwnerEmptyState:()=>nT,ChannelSubMenu:()=>ml,ChannelTagline:()=>wv,ChannelThumbnailWithLink:()=>sT,ChannelVideoPlayer:()=>rT,Chapter:()=>Pv,ChildVideo:()=>aT,ChipBarView:()=>uT,ChipCloud:()=>gt,ChipCloudChip:()=>ye,ChipView:()=>Nv,ClipAdState:()=>iv,ClipCreation:()=>ov,ClipCreationScrubber:()=>tv,ClipCreationTextInput:()=>ev,ClipSection:()=>nv,CollaboratorInfoCardContent:()=>lT,CollageHeroImage:()=>cT,CollectionThumbnailView:()=>Ov,Command:()=>dT,Comment:()=>gs,CommentActionButtons:()=>ss,CommentDialog:()=>sk,CommentReplies:()=>Hv,CommentReplyDialog:()=>ms,CommentSimplebox:()=>$v,CommentThread:()=>Kv,CommentView:()=>Ki,CommentsEntryPointHeader:()=>zv,CommentsEntryPointTeaser:()=>Gv,CommentsHeader:()=>$i,CommentsSimplebox:()=>Jv,CompactChannel:()=>rk,CompactLink:()=>xs,CompactMix:()=>ak,CompactMovie:()=>uk,CompactPlaylist:()=>lk,CompactStation:()=>ck,CompactVideo:()=>ds,ConfirmDialog:()=>dk,ContentMetadataView:()=>ws,ContentPreviewImageView:()=>ls,ContinuationItem:()=>ve,ConversationBar:()=>pk,CopyLink:()=>qv,CreatePlaylistDialog:()=>S_,CreatorHeart:()=>q_,CtaGoToCreatorStudio:()=>$w,DataModelSection:()=>H_,DecoratedAvatarView:()=>Xv,DecoratedPlayerBar:()=>tg,DefaultPromoPanel:()=>fk,DescriptionPreviewView:()=>ig,DidYouMean:()=>og,DimChatItemAction:()=>Lk,DislikeButtonView:()=>ng,DownloadButton:()=>sg,Dropdown:()=>Di,DropdownItem:()=>I_,DynamicTextView:()=>rg,Element:()=>Ts,EmergencyOnebox:()=>mk,EmojiPicker:()=>Wv,EmojiPickerCategory:()=>hk,EmojiPickerCategoryButton:()=>_k,EmojiPickerUpsellCategory:()=>vk,EndScreenPlaylist:()=>lg,EndScreenVideo:()=>cg,Endscreen:()=>ug,EndscreenElement:()=>gk,EngagementPanelSectionList:()=>Wi,EngagementPanelTitleHeader:()=>sv,ExpandableMetadata:()=>pv,ExpandableTab:()=>ks,ExpandableVideoDescriptionBody:()=>lv,ExpandedShelfContents:()=>xk,Factoid:()=>Ui,FancyDismissibleDialog:()=>yk,FeedFilterChipBar:()=>Ti,FeedNudge:()=>bk,FeedTabbedHeader:()=>dg,FlexibleActionsView:()=>pg,GameCard:()=>cv,GameDetails:()=>wk,Grid:()=>Wo,GridChannel:()=>fg,GridHeader:()=>Tk,GridMix:()=>kk,GridMovie:()=>Ik,GridPlaylist:()=>mg,GridShow:()=>Sk,GridVideo:()=>vg,GuideCollapsibleEntry:()=>Ck,GuideCollapsibleSectionEntry:()=>Ek,GuideDownloadsEntry:()=>Pk,GuideEntry:()=>Ho,GuideSection:()=>Is,GuideSubscriptionsSection:()=>gg,HashtagHeader:()=>xg,HashtagTile:()=>Nk,HeatMarker:()=>Qv,Heatmap:()=>Zv,HeroPlaylistThumbnail:()=>Ak,HighlightsCarousel:()=>td,HistorySuggestion:()=>Rk,HorizontalCardList:()=>ji,HorizontalList:()=>dv,HorizontalMovieList:()=>Vk,IconLink:()=>bg,ImageBannerView:()=>wg,IncludingResultsFor:()=>Mk,InfoPanelContainer:()=>kg,InfoPanelContent:()=>Tg,InfoRow:()=>gv,InteractiveTabbedHeader:()=>Ig,ItemSection:()=>be,ItemSectionHeader:()=>Ss,ItemSectionTab:()=>Sg,ItemSectionTabbedHeader:()=>Cs,KidsBlocklistPicker:()=>BS,KidsBlocklistPickerItem:()=>Hs,KidsCategoriesHeader:()=>K0,KidsCategoryTab:()=>Js,KidsHomeScreen:()=>q0,LikeButton:()=>Eg,LikeButtonView:()=>Pg,LiveChat:()=>Ng,LiveChatActionPanel:()=>Og,LiveChatAuthorBadge:()=>uI,LiveChatAutoModMessage:()=>Bk,LiveChatBanner:()=>Rg,LiveChatBannerHeader:()=>Ag,LiveChatBannerPoll:()=>Fk,LiveChatDialog:()=>lI,LiveChatHeader:()=>jg,LiveChatItemList:()=>Ug,LiveChatMembershipItem:()=>Yk,LiveChatMessageInput:()=>cI,LiveChatPaidMessage:()=>jk,LiveChatPaidSticker:()=>Uk,LiveChatParticipant:()=>Wg,LiveChatParticipantsList:()=>Hg,LiveChatPlaceholderItem:()=>Wk,LiveChatProductItem:()=>Hk,LiveChatRestrictedParticipation:()=>Jk,LiveChatTextMessage:()=>Gk,LiveChatTickerPaidMessageItem:()=>Mg,LiveChatTickerPaidStickerItem:()=>zk,LiveChatTickerSponsorItem:()=>$k,LiveChatViewerEngagementMessage:()=>Kk,LockupMetadataView:()=>Jg,LockupView:()=>Gg,MacroMarkersInfoItem:()=>rv,MacroMarkersList:()=>av,MacroMarkersListItem:()=>as,MarkChatItemAsDeletedAction:()=>Xk,MarkChatItemsByAuthorAsDeletedAction:()=>Qk,Menu:()=>j,MenuNavigationItem:()=>zg,MenuPopup:()=>dI,MenuServiceItem:()=>Xi,MenuServiceItemDownload:()=>pI,MerchandiseItem:()=>hI,MerchandiseShelf:()=>Xg,Message:()=>He,MetadataBadge:()=>lt,MetadataRow:()=>_I,MetadataRowContainer:()=>Qg,MetadataRowHeader:()=>vI,MetadataScreen:()=>gI,MicroformatData:()=>ii,Mix:()=>xI,ModalWithTitleAndButton:()=>yI,Movie:()=>bI,MovingThumbnail:()=>wI,MultiMarkersPlayerBar:()=>eg,MultiPageMenu:()=>fI,MultiPageMenuNotificationSection:()=>mI,MusicCardShelf:()=>e0,MusicCardShelfHeaderBasic:()=>Zg,MusicCarouselShelf:()=>Fe,MusicCarouselShelfBasicHeader:()=>t0,MusicDescriptionShelf:()=>Qi,MusicDetailHeader:()=>Vs,MusicDownloadStateBadge:()=>RI,MusicEditablePlaylistDetailHeader:()=>s0,MusicElementHeader:()=>Xp,MusicHeader:()=>Zi,MusicImmersiveHeader:()=>r0,MusicInlineBadge:()=>Es,MusicItemThumbnailOverlay:()=>oi,MusicLargeCardItemCarousel:()=>VI,MusicMenuItemDivider:()=>$g,MusicMultiRowListItem:()=>i0,MusicMultiSelectMenu:()=>Kg,MusicMultiSelectMenuItem:()=>jt,MusicNavigationButton:()=>Ns,MusicPlayButton:()=>Ps,MusicPlaylistEditHeader:()=>MI,MusicPlaylistShelf:()=>zo,MusicQueue:()=>Ms,MusicResponsiveHeader:()=>Os,MusicResponsiveListItem:()=>ni,MusicResponsiveListItemFixedColumn:()=>o0,MusicResponsiveListItemFlexColumn:()=>n0,MusicShelf:()=>ke,MusicSideAlignedItem:()=>u0,MusicSortFilterButton:()=>mf,MusicTastebuilderShelf:()=>c0,MusicTastebuilderShelfThumbnail:()=>l0,MusicThumbnail:()=>Je,MusicTwoRowItem:()=>Rs,MusicVisualHeader:()=>d0,NavigationEndpoint:()=>g,Notification:()=>p0,OpenPopupAction:()=>C_,PageHeader:()=>ri,PageHeaderView:()=>f0,PageIntroduction:()=>m0,PdgCommentChip:()=>Bv,PivotButton:()=>h0,PlayerAnnotationsExpanded:()=>_0,PlayerCaptionsTracklist:()=>v0,PlayerControlsOverlay:()=>OI,PlayerErrorMessage:()=>DI,PlayerLegacyDesktopYpcOffer:()=>LI,PlayerLegacyDesktopYpcTrailer:()=>Af,PlayerLiveStoryboardSpec:()=>y0,PlayerMicroformat:()=>Ct,PlayerOverflow:()=>g0,PlayerOverlay:()=>eo,PlayerOverlayAutoplay:()=>b0,PlayerStoryboardSpec:()=>No,Playlist:()=>ti,PlaylistCustomThumbnail:()=>ys,PlaylistHeader:()=>T0,PlaylistInfoCardContent:()=>BI,PlaylistMetadata:()=>k0,PlaylistPanel:()=>si,PlaylistPanelVideo:()=>ki,PlaylistPanelVideoWrapper:()=>a0,PlaylistSidebar:()=>FI,PlaylistSidebarPrimaryInfo:()=>I0,PlaylistSidebarSecondaryInfo:()=>S0,PlaylistVideo:()=>Ds,PlaylistVideoList:()=>YI,PlaylistVideoThumbnail:()=>bs,Poll:()=>jI,PollHeader:()=>qk,Post:()=>C0,PostMultiImage:()=>UI,ProductList:()=>uv,ProductListHeader:()=>WI,ProductListItem:()=>HI,ProfileColumn:()=>JI,ProfileColumnStats:()=>GI,ProfileColumnStatsEntry:()=>zI,ProfileColumnUserInfo:()=>$I,Quiz:()=>KI,RecognitionShelf:()=>qI,ReelItem:()=>Ls,ReelPlayerHeader:()=>E0,ReelPlayerOverlay:()=>XI,ReelShelf:()=>fs,RelatedChipCloud:()=>P0,RemoveBannerForLiveChatCommand:()=>Zk,RemoveChatItemAction:()=>eI,RemoveChatItemByAuthorAction:()=>tI,ReplaceChatItemAction:()=>iI,ReplayChatItemAction:()=>oI,RichGrid:()=>to,RichItem:()=>QI,RichListHeader:()=>ZI,RichMetadata:()=>cm,RichMetadataRow:()=>pm,RichSection:()=>eS,RichShelf:()=>N0,SearchBox:()=>tS,SearchFilter:()=>A0,SearchFilterGroup:()=>Bs,SearchFilterOptionsDialog:()=>iS,SearchHeader:()=>R0,SearchRefinementCard:()=>Do,SearchSubMenu:()=>V0,SearchSuggestion:()=>yg,SearchSuggestionsSection:()=>M0,SecondarySearchContainer:()=>oS,SectionList:()=>Z,SegmentedLikeDislikeButton:()=>$o,SegmentedLikeDislikeButtonView:()=>Ko,SettingBoolean:()=>nS,SettingsCheckbox:()=>O0,SettingsOptions:()=>Ys,SettingsSidebar:()=>D0,SettingsSwitch:()=>Fs,SharedPost:()=>L0,Shelf:()=>js,ShowCustomThumbnail:()=>hg,ShowLiveChatActionPanelAction:()=>nI,ShowLiveChatDialogAction:()=>sI,ShowLiveChatTooltipCommand:()=>rI,ShowingResultsFor:()=>B0,SimpleCardContent:()=>sS,SimpleCardTeaser:()=>rS,SimpleMenuHeader:()=>qg,SimpleTextSection:()=>aS,SingleActionEmergencySupport:()=>uS,SingleColumnBrowseResults:()=>ai,SingleColumnMusicWatchNextResults:()=>lS,SingleHeroImage:()=>cS,SlimOwner:()=>dS,SlimVideoMetadata:()=>F0,SortFilterHeader:()=>Cg,SortFilterSubMenu:()=>Ft,SponsorCommentBadge:()=>Fv,StatRow:()=>Kw,StructuredDescriptionContent:()=>Bo,StructuredDescriptionPlaylistLockup:()=>yv,SubFeedOption:()=>Y0,SubFeedSelector:()=>pS,SubscribeButton:()=>ze,SubscriptionNotificationToggleButton:()=>Tv,Tab:()=>we,Tabbed:()=>fS,TabbedSearchResults:()=>j0,TextHeader:()=>mS,ThumbnailBadgeView:()=>Rv,ThumbnailHoverOverlayView:()=>Av,ThumbnailLandscapePortrait:()=>hS,ThumbnailOverlayBadgeView:()=>Vv,ThumbnailOverlayBottomPanel:()=>_g,ThumbnailOverlayEndorsement:()=>_S,ThumbnailOverlayHoverText:()=>vS,ThumbnailOverlayInlineUnplayable:()=>gS,ThumbnailOverlayLoadingPreview:()=>xS,ThumbnailOverlayNowPlaying:()=>yS,ThumbnailOverlayPinking:()=>bS,ThumbnailOverlayPlaybackStatus:()=>wS,ThumbnailOverlayResumePlayback:()=>TS,ThumbnailOverlaySidePanel:()=>kS,ThumbnailOverlayTimeStatus:()=>Lo,ThumbnailOverlayToggleButton:()=>IS,ThumbnailView:()=>Mv,TimedMarkerDecoration:()=>SS,TitleAndButtonListHeader:()=>CS,ToggleButton:()=>Ne,ToggleButtonView:()=>qi,ToggleMenuServiceItem:()=>ES,Tooltip:()=>PS,TopicChannelDetails:()=>NS,Transcript:()=>os,TranscriptFooter:()=>L_,TranscriptSearchBox:()=>B_,TranscriptSearchPanel:()=>U_,TranscriptSectionHeader:()=>F_,TranscriptSegment:()=>Y_,TranscriptSegmentList:()=>j_,TwoColumnBrowseResults:()=>ui,TwoColumnSearchResults:()=>U0,TwoColumnWatchNextResults:()=>Us,UniversalWatchCard:()=>H0,UpdateDateTextAction:()=>Dg,UpdateDescriptionAction:()=>Lg,UpdateEngagementPanelAction:()=>Ww,UpdateLiveChatPollAction:()=>aI,UpdateTitleAction:()=>Bg,UpdateToggleButtonTextAction:()=>Fg,UpdateViewershipAction:()=>Yg,UploadTimeFactoid:()=>mv,UpsellDialog:()=>AS,VerticalList:()=>RS,VerticalWatchCardList:()=>VS,Video:()=>us,VideoAttributeView:()=>cs,VideoCard:()=>fv,VideoDescriptionCourseSection:()=>bv,VideoDescriptionHeader:()=>_v,VideoDescriptionInfocardsSection:()=>vv,VideoDescriptionMusicSection:()=>ps,VideoDescriptionTranscriptSection:()=>Ju,VideoInfoCardContent:()=>MS,VideoOwner:()=>Ws,VideoPrimaryInfo:()=>J0,VideoSecondaryInfo:()=>bh,ViewCountFactoid:()=>hv,WatchCardCompactVideo:()=>G0,WatchCardHeroVideo:()=>OS,WatchCardRichHeader:()=>DS,WatchCardSectionSequence:()=>LS,WatchNextEndScreen:()=>w0,WatchNextTabbedResults:()=>z0,YpcTrailer:()=>x0});var Po,b_=class{constructor(e,i){Po.set(this,void 0),k(this,Po,new U.shim.Cache(e,i),"f")}get cache_dir(){return d(this,Po,"f").cache_dir}get(e){return d(this,Po,"f").get(e)}set(e,i){return d(this,Po,"f").set(e,i)}remove(e){return d(this,Po,"f").remove(e)}};n(b_,"UniversalCache");Po=new WeakMap;var gC=b_;var ts,w_=class extends EventTarget{constructor(){super(),ts.set(this,new Map)}emit(e,...i){let o=new U.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(s=>{s instanceof U.shim.CustomEvent?i(...s.detail):i(s)},"wrapper");d(this,ts,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(s=>{s instanceof U.shim.CustomEvent?i(...s.detail):i(s),this.off(e,i)},"wrapper");d(this,ts,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,ts,"f").get(i);o&&(this.removeEventListener(e,o),d(this,ts,"f").delete(i))}};n(w_,"EventEmitterLike");ts=new WeakMap;var pa=w_;var Ao={};L(Ao,{chooseFormat:()=>jw,download:()=>HC,toDash:()=>Yw});var xC={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Nw(t){return t.replace(/([&"<>'])/g,(e,i)=>xC[i])}n(Nw,"escapeXMLString");function yC(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(yC,"normalizeTag");function ce(t,e,...i){let o=i.flat().map(s=>typeof s=="string"?bC(s):s);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:yC(t),props:Object.assign(Object.assign({},e),{children:o})}}n(ce,"createElement");function bC(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(bC,"createTextElement");function Aw(t){return y(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return Nw(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${Nw(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>Aw(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(Aw,"renderElementToString");function Rw(t){return y(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Aw(yield t)}`})}n(Rw,"renderToString");function Vw(t){return t.children}n(Vw,"Fragment");var fa=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((s,r)=>{let[u,p,f,m,h,x,b,T]=s.split("#");o.searchParams.set("sigh",T);let S=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(h,10)));return{type:"vod",template_url:o.toString().replace("$L",r).replace("$N",b),thumbnail_width:parseInt(u,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(x,10),columns:parseInt(m,10),rows:parseInt(h,10),storyboard_count:S}})}};n(fa,"PlayerStoryboardSpec");fa.type="PlayerStoryboardSpec";var No=fa;var TC="StreamingInfo";function kC(t,e){var i,o,s;let r=new Map,u=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let f=p.mime_type.split(";")[0],m=(i=We(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],h=p.color_info?Object.values(p.color_info).join("-"):"",x=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",b=p.is_drc?"drc":"",T=`${f}-${m}-${h}-${x}-${b}`;r.has(T)||r.set(T,[]),(s=r.get(T))===null||s===void 0||s.push(p)}return{groups:Array.from(r.values()),has_multiple_audio_tracks:u}}n(kC,"getFormatGroupings");function Ow(t,e){if(t.length>1&&new Set(t.map(i=>We(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),We(t[0].mime_type,'codecs="','"')}n(Ow,"hoistCodecsIfPossible");function Dw(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(Dw,"hoistNumberAttributeIfPossible");function IC(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(IC,"hoistAudioChannelsIfPossible");function SC(t,e){return y(this,void 0,void 0,function*(){var i;let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:bi,redirect:"follow"}),s=o.url.replace("&rn=0","").replace("&sq=0",""),r=yield o.text(),u=(i=We(r,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!u)throw new v("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of u){let m=f.trim();if(m.length===0)continue;let h,x=We(m,"(r=",")");x&&(h=parseInt(x)),p.push({duration:parseInt(m),repeat_count:h})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:p}})}n(SC,"getOTFSegmentTemplate");function Lw(t,e){return y(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:bi,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),s=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(s))throw new v("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:s}})}n(Lw,"getPostLiveDvrInfo");function CC(t,e,i,o,s,r){return y(this,void 0,void 0,function*(){if(!t.item){let u=new URL(e.decipher(s));u.searchParams.set("cpn",r||"");let p=i(u).toString();t.item=yield Lw(p,o)}return t.item.duration})}n(CC,"getPostLiveDvrDuration");function Bw(t,e,i,o,s,r){let u=new URL(t.decipher(o));u.searchParams.set("cpn",s||"");let p=e(u).toString();if(t.is_type_otf){if(!i)throw new v("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return SC(p,i)}}}if(r){if(!i)throw new v("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let m=t.target_duration_dec;if(typeof m!="number")throw new v("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return y(this,void 0,void 0,function*(){return r.item||(r.item=yield Lw(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:m*1e3,repeat_count:r.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new v("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(Bw,"getSegmentInfo");function EC(t,e,i,o,s,r,u){new URL(t.decipher(s)).searchParams.set("cpn",r||"");let f=[t.itag.toString()];return t.audio_track&&f.push(t.audio_track.id),t.is_drc&&f.push("drc"),{uid:f.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:We(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:Bw(t,i,o,s,r,u)}}n(EC,"getAudioRepresentation");function PC(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}n(PC,"getTrackRoles");function NC(t,e,i,o,s,r,u){var p;let f=t[0],{audio_track:m}=f,h=[],x=!!u,b;return m?x&&f.is_drc?b=u.label_drc_mutiple(m.display_name):b=m.display_name:x&&(b=f.is_drc?u.label_drc:u.label_original),{mime_type:f.mime_type.split(";")[0],language:(p=f.language)!==null&&p!==void 0?p:void 0,codecs:Ow(t,h),audio_sample_rate:Dw(t,"audio_sample_rate",h),track_name:b,track_roles:PC(f,x),channels:IC(t,h),representations:t.map(S=>EC(S,h,e,i,o,s,r))}}n(NC,"getAudioSet");var AC={BT709:"1",BT2020:"9"},Mw={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},RC={BT709:"1",BT2020_NCL:"14"};function VC(t){var e;let i=t.color_info,o,s,r;if(i){if(i.primaries&&(o=AC[i.primaries]),i.transfer_characteristics&&(s=Mw[i.transfer_characteristics]),i.matrix_coefficients&&(r=RC[i.matrix_coefficients],!r)){let p=new URL(t.url),f=JSON.parse(JSON.stringify(t));f.url="REDACTED",f.signature_cipher="REDACTED",f.cipher="REDACTED",B.warn(TC,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${U.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,f)}}else!((e=We(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(s=Mw.BT709);return{primaries:o,transfer_characteristics:s,matrix_coefficients:r}}n(VC,"getColorInfo");function MC(t,e,i,o,s,r,u){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:We(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:Bw(t,e,s,o,r,u)}}n(MC,"getVideoRepresentation");function OC(t,e,i,o,s,r){let u=t[0],p=VC(u),f=[];return{mime_type:u.mime_type.split(";")[0],color_info:p,codecs:Ow(t,f),fps:Dw(t,"fps",f),representations:t.map(h=>MC(h,e,f,i,o,s,r))}}n(OC,"getVideoSet");function DC(t){var e;let i=new Map,o=t.is(No)?t.boards:[t.board];for(let s of o){let r=new URL(s.template_url).pathname.split(".").pop(),u=`image/${r==="jpg"?"jpeg":r}`;i.has(u)||i.set(u,[]),(e=i.get(u))===null||e===void 0||e.push(s)}return i}n(DC,"getStoryboardInfo");function LC(t,e,i,o,s){return y(this,void 0,void 0,function*(){let r=e.template_url,u=i(new URL(r.replace("$M","0"))),p=s.response?s.response:t.session.http.fetch_function(u,{method:"HEAD",headers:bi});return s.response=p,(yield p).headers.get("Content-Type")||o})}n(LC,"getStoryboardMimeType");function BC(t,e,i){return y(this,void 0,void 0,function*(){let o=e.template_url,s=[],r=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let m=0;m<r;m++){let h=new URL(o.replace("$M",m.toString())),x=m===0&&i.response?i.response:t.session.http.fetch_function(h,{method:"HEAD",headers:bi});m===0&&(i.response=x),s.push(x)}let u=yield Promise.all(s),p=[];for(let m of u)p.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(BC,"getStoryboardBitrate");function FC(t,e,i,o,s){let r=i.template_url,u=new URL(r.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return BC(e,i,s)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:o(u).toString(),getURL(m){return u.toString().replace("$Number$",m.toString())}}}n(FC,"getImageRepresentation");function YC(t,e,i,o){let s=DC(i),r={};return Array.from(s.entries()).map(([u,p])=>({probable_mime_type:u,getMimeType(){return LC(e,p[0],o,u,r)},representations:p.map(f=>FC(t,e,f,o,r))}))}n(YC,"getImageSets");function jC(t,e,i){let o=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(s=>{let r=new URL(s.base_url);r.searchParams.set("fmt",e);let u=["caption"];return r.searchParams.has("tlang")&&u.push("dub"),{mime_type:o,language:s.language_code,track_name:s.name.toString(),track_roles:u,representation:{uid:`text-${s.vss_id}`,base_url:i(r).toString()}}})}n(jC,"getTextSets");function T_(t,e=!1,i=h=>h,o,s,r,u,p,f,m){if(!t)throw new v("Streaming data not available");let h=o?t.adaptive_formats.filter(K=>!o(K)):t.adaptive_formats,x,b;if(e){if(b={},!u)throw new v("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");x=n(()=>b?CC(b,h[0],i,u,r,s):Promise.resolve(0),"getDuration")}else{let K=h[0].approx_duration_ms/1e3;x=n(()=>Promise.resolve(K),"getDuration")}let{groups:T,has_multiple_audio_tracks:S}=kC(h,e),{video_groups:C,audio_groups:P}=T.reduce((K,xe)=>xe[0].has_audio?(S&&!xe[0].audio_track||K.audio_groups.push(xe),K):(K.video_groups.push(xe),K),{video_groups:[],audio_groups:[]}),R;P.flat().some(K=>K.is_drc)&&(R={label_original:(m==null?void 0:m.label_original)||"Original",label_drc:(m==null?void 0:m.label_drc)||"Stable Volume",label_drc_mutiple:(m==null?void 0:m.label_drc_mutiple)||(K=>`${K} (Stable Volume)`)});let V=P.map(K=>NC(K,i,u,r,s,b,R)),H=C.map(K=>OC(K,i,r,u,s,b)),_e=[];if(p&&u){let K;if(p.is(No))K=h[0].approx_duration_ms/1e3;else{let xe=h[0].target_duration_dec;if(typeof xe!="number")throw new v("Format is missing target_duration_dec",{format:h[0]});K=xe}_e=YC(K,u,p,i)}let me=[];if(f&&(m==null?void 0:m.captions_format)){if(m.captions_format!=="vtt"&&m.captions_format!=="ttml")throw new v("Invalid captions format",m.captions_format);me=jC(f,m.captions_format,i)}return{getDuration:x,audio_sets:V,video_sets:H,image_sets:_e,text_sets:me}}n(T_,"getStreamingInfo");function UC(t){return y(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return ce("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},ce("segment-timeline",null,i.timeline.map(o=>ce("s",{d:o.duration,r:o.repeat_count}))))})}n(UC,"OTFPostLiveDvrSegmentInfo");function Fw({info:t}){return t.is_oft||t.is_post_live_dvr?ce(UC,{info:t}):ce(Vw,null,ce("base-url",null,t.base_url),ce("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ce("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(Fw,"SegmentInfo");function WC(t){return y(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:o,rejectFormat:s,cpn:r,player:u,actions:p,storyboards:f,captionTracks:m,options:h}){let{getDuration:x,audio_sets:b,video_sets:T,image_sets:S,text_sets:C}=T_(e,i,o,s,r,u,p,f,m,h);return ce("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ce("period",null,b.map((P,R)=>ce("adaptation-set",{id:R,mimeType:P.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:P.language,codecs:P.codecs,audioSamplingRate:P.audio_sample_rate,contentType:"audio"},P.track_roles&&P.track_roles.map(V=>ce("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:V})),P.track_name&&ce("label",{id:R},P.track_name),P.channels&&ce("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:P.channels}),P.representations.map(V=>ce("representation",{id:V.uid,bandwidth:V.bitrate,codecs:V.codecs,audioSamplingRate:V.audio_sample_rate},V.channels&&ce("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:V.channels}),ce(Fw,{info:V.segment_info}))))),T.map((P,R)=>ce("adaptation-set",{id:R+b.length,mimeType:P.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:P.codecs,maxPlayoutRate:"1",frameRate:P.fps,contentType:"video"},P.color_info.primaries&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:P.color_info.primaries}),P.color_info.transfer_characteristics&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:P.color_info.transfer_characteristics}),P.color_info.matrix_coefficients&&ce("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:P.color_info.matrix_coefficients}),P.representations.map(V=>ce("representation",{id:V.uid,bandwidth:V.bitrate,width:V.width,height:V.height,codecs:V.codecs,frameRate:V.fps},ce(Fw,{info:V.segment_info}))))),S.map((P,R)=>y(this,void 0,void 0,function*(){return ce("adaptation-set",{id:R+b.length+T.length,mimeType:yield P.getMimeType(),contentType:"image"},P.representations.map(V=>y(this,void 0,void 0,function*(){return ce("representation",{id:`thumbnails_${V.thumbnail_width}x${V.thumbnail_height}`,bandwidth:yield V.getBitrate(),width:V.sheet_width,height:V.sheet_height},ce("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${V.columns}x${V.rows}`}),ce("segment-template",{media:V.template_url,duration:V.template_duration,startNumber:"0"}))})))})),C.map((P,R)=>ce("adaptation-set",{id:R+b.length+T.length+S.length,mimeType:P.mime_type,lang:P.language,contentType:"text"},P.track_roles.map(V=>ce("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:V})),ce("label",{id:R+b.length},P.track_name),ce("representation",{id:P.representation.uid,bandwidth:"0"},ce("base-url",null,P.representation.base_url))))))})}n(WC,"DashManifest");function Yw(t,e=!1,i=h=>h,o,s,r,u,p,f,m){if(!t)throw new v("Streaming data not available");return Rw(ce(WC,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:m,rejectFormat:o,cpn:s,player:r,actions:u,storyboards:p,captionTracks:f}))}n(Yw,"toDash");function HC(t,e,i,o,s,r){return y(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new v("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new v("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new v("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let u=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=jw(u,o),f=p.decipher(s);if(u.type==="video+audio"&&!t.range){let C=yield e.session.http.fetch_function(`${f}&cpn=${r}`,{method:"GET",headers:bi,redirect:"follow"});if(!C.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:C});let P=C.body;if(!P)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:C});return P}let m=1048576*10,h=t.range?t.range.start:0,x=t.range?t.range.end:m,b=!1,T;return new U.shim.ReadableStream({start(){},pull:C=>y(this,void 0,void 0,function*(){if(b){C.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(b=!0),new Promise((P,R)=>y(this,void 0,void 0,function*(){var V,H,_e,me;try{T=new AbortController;let X=yield e.session.http.fetch_function(`${f}&cpn=${r}&range=${h}-${x||""}`,{method:"GET",headers:Object.assign({},bi),signal:T.signal});if(!X.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:X});let q=X.body;if(!q)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:X});try{for(var Se=!0,K=Cw(Ky(q)),xe;xe=yield K.next(),V=xe.done,!V;Se=!0){me=xe.value,Se=!1;let ee=me;C.enqueue(ee)}}catch(ee){H={error:ee}}finally{try{!Se&&!V&&(_e=K.return)&&(yield _e.call(K))}finally{if(H)throw H.error}}h=x+1,x+=m,P()}catch(X){R(X)}}))}),cancel(C){return y(this,void 0,void 0,function*(){T.abort(C)})}},{highWaterMark:1,size(C){return C.byteLength}})})}n(HC,"download");function jw(t,e){if(!e)throw new v("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,s=t.type?t.type.includes("video"):!0,r=t.language||"original",u=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(u),m=u!=="best",h=i.filter(x=>o&&!x.has_audio||s&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!f&&x.quality_label!==u?!1:(x.width&&p<x.width&&(p=x.width),!0));if(!h.length)throw new v("No matching formats found",{options:t});if(f&&s&&(h=h.filter(x=>x.width===p)),o&&!s){let x=h.filter(b=>r!=="original"?!b.has_video&&!b.has_text&&b.language===r:!b.has_video&&!b.has_text&&b.is_original);x.length>0&&(h=x)}return m?h.sort((x,b)=>x.bitrate-b.bitrate):h.sort((x,b)=>b.bitrate-x.bitrate),h[0]}n(jw,"chooseFormat");var qy,Lt,is,ma,Uw,k_=class{constructor(e,i,o){qy.add(this),Lt.set(this,void 0),is.set(this,void 0),ma.set(this,void 0),k(this,Lt,e,"f"),k(this,is,i,"f"),k(this,ma,o||U.shim.fetch,"f")}get fetch_function(){return d(this,ma,"f")}fetch(e,i){return y(this,void 0,void 0,function*(){let o=it.API.PRODUCTION_1+d(this,Lt,"f").api_version,s=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),u=(i==null?void 0:i.headers)||(e instanceof U.shim.Request?e.headers:new U.shim.Headers)||new U.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof U.shim.Request?e.body:void 0),f=new U.shim.Headers(u);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,Lt,"f").context.client.visitorData||""),f.set("X-Youtube-Client-Version",d(this,Lt,"f").context.client.clientVersion||"");let m=Object.values(le).find(P=>P.NAME===d(this,Lt,"f").context.client.clientName);m&&f.set("X-Youtube-Client-Name",m.NAME_ID),U.shim.server&&(f.set("User-Agent",Ro("desktop")),f.set("Origin",r.origin)),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let h=f.get("Content-Type"),x=p,b=!1,T=s===o||s===it.YT_UPLOAD;if(h==="application/json"&&T&&typeof p=="string"){let P=JSON.parse(p),R=Object.assign(Object.assign({},P),{context:JSON.parse(JSON.stringify(d(this,Lt,"f").context))});d(this,qy,"m",Uw).call(this,R.context,R.client),f.set("X-Youtube-Client-Version",R.context.client.clientVersion);let V=Object.values(le).find(H=>H.NAME===R.context.client.clientName);V&&f.set("X-Youtube-Client-Name",V.NAME_ID),delete R.client,R.context.client.clientName==="ANDROID"||R.context.client.clientName==="ANDROID_MUSIC"?(f.set("User-Agent",le.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2")):R.context.client.clientName==="iOS"&&f.set("User-Agent",le.iOS.USER_AGENT),b=R.context.client.clientName==="WEB_KIDS",x=JSON.stringify(R)}else h==="application/x-protobuf"&&U.shim.server&&(f.set("User-Agent",le.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2"),f.delete("X-Youtube-Client-Version"));if(d(this,Lt,"f").logged_in&&T&&!b){let P=d(this,Lt,"f").oauth;if(P.oauth2_tokens&&(P.shouldRefreshToken()&&(yield P.refreshAccessToken()),f.set("Authorization",`Bearer ${P.oauth2_tokens.access_token}`)),d(this,is,"f")){let R=Zy(d(this,is,"f"),"SAPISID");R&&(f.set("Authorization",yield Qy(R)),f.set("X-Goog-Authuser",d(this,Lt,"f").account_index.toString())),f.set("Cookie",d(this,is,"f"))}}let S=new U.shim.Request(r,e instanceof U.shim.Request?e:i),C=yield d(this,ma,"f").call(this,S,Object.assign({body:x,headers:f,redirect:e instanceof U.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},U.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(C.ok)return C;throw new v(`Request to ${C.url} failed with status ${C.status}`,yield C.text())})}};n(k_,"HTTPClient");Lt=new WeakMap,is=new WeakMap,ma=new WeakMap,qy=new WeakSet,Uw=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=le.ANDROID.SDK_VERSION,e.client.userAgent=le.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=le.iOS.DEVICE_MODEL,e.client.clientVersion=le.iOS.VERSION,e.client.clientName=le.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=le.YTMUSIC.VERSION,e.client.clientName=le.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=le.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=le.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=le.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=le.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=le.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=le.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=le.TV_EMBEDDED.NAME,e.client.clientVersion=le.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:it.YT_BASE};break;case"YTKIDS":e.client.clientVersion=le.WEB_KIDS.VERSION,e.client.clientName=le.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Xy=k_;var Bt={};L(Bt,{compress:()=>JC,decompress:()=>GC});function JC(t){let e=[],i={};for(let r=0;r<256;r++)i[String.fromCharCode(r)]=r;let o="",s=256;for(let r=0;r<t.length;r++){let u=t[r],p=o+u;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=s++,o=u)}return o!==""&&e.push(i[o]),e.map(r=>String.fromCharCode(r)).join("")}n(JC,"compress");function GC(t){let e={},i=t.split(""),o=[i.shift()],s=i.length>>>0,r=256,u=o[0],p=u;for(let f=0;f<s;++f){let m=i[f].charCodeAt(0),h=m<256?i[f]:e[m]?e[m]:p+u;o.push(h),u=h.charAt(0),e[r++]=p+u,p=h}return o.join("")}n(GC,"decompress");var ha=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new l(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(ha,"Button");ha.type="Button";var I=ha;var _a=class extends a{constructor(e){var i;super(),this.label=new l(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new l(e.descriptionText))}};n(_a,"DropdownItem");_a.type="DropdownItem";var I_=_a;var va=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,I_)}};n(va,"Dropdown");va.type="Dropdown";var Di=va;var ga=class extends a{constructor(e){super(),this.title=new l(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,Di),this.create_button=c.parseItem(e.cancelButton,I),this.cancel_button=c.parseItem(e.cancelButton,I)}};n(ga,"CreatePlaylistDialog");ga.type="CreatePlaylistDialog";var S_=ga;var xa=class extends a{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(xa,"OpenPopupAction");xa.type="OpenPopupAction";var C_=xa;var Vo=class extends a{constructor(e){var i,o,s,r,u,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new C_(e.openPopupAction));let h=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=h?Reflect.get(e,h):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=c.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Vo(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(u=e==null?void 0:e.commandMetadata)===null||u===void 0?void 0:u.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):h&&(this.metadata.api_url=this.getEndpoint(h)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,S_))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Vo,"NavigationEndpoint");Vo.type="NavigationEndpoint";var g=Vo;var w=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new w(o)).sort((o,s)=>s.width-o.width):[]}};n(w,"Thumbnail");var Li=class{constructor(e){var i,o,s,r,u,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((s=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||s===void 0?void 0:s[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((u=e.emoji)===null||u===void 0?void 0:u.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=E_(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Li,"EmojiRun");var Bi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=E_(this.text),s=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let u=this.endpoint.toURL();if(u)return`<a href="${u}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${s}</a>`}return s}};n(Bi,"TextRun");function E_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(E_,"escape");var ya="Text",l=class{constructor(e){var i,o,s,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(u=>u.emoji?new Li(u):new Bi(u)),this.text=this.runs.map(u=>u.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(s=this.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.endpoint)}static fromAttributed(e){var i,o,s;let{content:r,styleRuns:u,commandRuns:p,attachmentRuns:f}=e,m=[{text:r,startIndex:0}];if(u||p||f){if(u)for(let h of u)if(h.italic||h.strikethrough==="LINE_STYLE_SINGLE"||h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD"){let x=tb(m,h);if(!x){B.warn(ya,"Unable to find matching run for style run. Skipping...",{style_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(m))});continue}P_(m,x,h,{bold:h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD",italics:h.italic,strikethrough:h.strikethrough==="LINE_STYLE_SINGLE"})}else B.debug(ya,"Skipping style run as it is doesn't have any information that we parse.",{style_run:h,input_data:e});if(p)for(let h of p)if(h.onTap){let x=tb(m,h);if(!x){B.warn(ya,"Unable to find matching run for command run. Skipping...",{command_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(m))});continue}P_(m,x,h,{navigationEndpoint:h.onTap})}else B.debug(ya,'Skipping command run as it is missing the "doTap" property.',{command_run:h,input_data:e});if(f)for(let h of f){let x=tb(m,h);if(!x){B.warn(ya,"Unable to find matching run for attachment run. Skipping...",{attachment_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(m))});continue}if(h.length===0)x.attachment=h;else{let b=h.startIndex-x.startIndex,T=x.text.substring(b,b+h.length),S=/^:[^:]+:$/.test(T);if(((s=(o=(i=h.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||s===void 0?void 0:s.image)&&(S||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(T))){let C={image:h.element.type.imageType.image,isCustomEmoji:S,shortcuts:S?[T]:void 0};P_(m,x,h,{emoji:C})}else P_(m,x,h,{attachment:h})}}}return new l({runs:m})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(l,"Text");function tb(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(tb,"findMatchingRun");function P_(t,e,i,o){let s=t.indexOf(e),r=[],u=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&r.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,u)})),r.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(u,u+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&r.push(Object.assign(Object.assign({},e),{text:e.text.substring(u+i.length),startIndex:i.startIndex+i.length})),t.splice(s,1,...r)}n(P_,"insertSubRun");var ba=class extends a{constructor(e){super(),this.title=l.fromAttributed(e.title),this.link=l.fromAttributed(e.link),this.favicon=w.fromResponse(e.favicon)}};n(ba,"ChannelExternalLinkView");ba.type="ChannelExternalLinkView";var N_=ba;var wa=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=l.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=l.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=l.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=l.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new g(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=l.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,N_):this.links=[]}};n(wa,"AboutChannelView");wa.type="AboutChannelView";var A_=wa;var Ta=class extends a{constructor(e){super(),this.metadata=c.parseItem(e.metadata,A_),this.share_channel=c.parseItem(e.shareChannel,I)}};n(Ta,"AboutChannel");Ta.type="AboutChannel";var R_=Ta;var ka=class extends a{constructor(e){super(),this.title=new l(e.title),this.endpoint=new g(e.navigationEndpoint)}};n(ka,"AccountChannel");ka.type="AccountChannel";var V_=ka;var Ia=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Ia,"AccountItemSectionHeader");Ia.type="AccountItemSectionHeader";var M_=Ia;var Sa=class extends a{constructor(e){super(),this.account_name=new l(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new l(e.accountByline)}};n(Sa,"AccountItem");Sa.type="AccountItem";var Ca=class extends a{constructor(e){super(),this.contents=$(e.contents.map(i=>new Sa(i.accountItem))),this.header=c.parseItem(e.header,M_)}};n(Ca,"AccountItemSection");Ca.type="AccountItemSection";var O_=Ca;var Ea=class extends a{constructor(e){super(),this.contents=c.parseItem(e.contents[0],O_),this.footers=c.parseItem(e.footers[0],V_)}};n(Ea,"AccountSectionList");Ea.type="AccountSectionList";var D_=Ea;var Pa=class extends a{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n(Pa,"AppendContinuationItemsAction");Pa.type="AppendContinuationItemsAction";var Mo=Pa;var Na=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,s;return{title:i.title,selected:i.selected,continuation:(s=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Na,"SortFilterSubMenu");Na.type="SortFilterSubMenu";var Ft=Na;var Aa=class extends a{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,Ft)}};n(Aa,"TranscriptFooter");Aa.type="TranscriptFooter";var L_=Aa;var Ra=class extends a{constructor(e){super(),this.formatted_placeholder=new l(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,I),this.endpoint=new g(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,I)}};n(Ra,"TranscriptSearchBox");Ra.type="TranscriptSearchBox";var B_=Ra;var Va=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new l(e.snippet)}};n(Va,"TranscriptSectionHeader");Va.type="TranscriptSectionHeader";var F_=Va;var Ma=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new l(e.snippet),this.start_time_text=new l(e.startTimeText),this.target_id=e.targetId}};n(Ma,"TranscriptSegment");Ma.type="TranscriptSegment";var Y_=Ma;var Oa=class extends a{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[Y_,F_]),this.no_result_label=new l(e.noResultLabel),this.retry_label=new l(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Oa,"TranscriptSegmentList");Oa.type="TranscriptSegmentList";var j_=Oa;var Da=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,B_),this.body=c.parseItem(e.body,j_),this.footer=c.parseItem(e.footer,L_),this.target_id=e.targetId}};n(Da,"TranscriptSearchPanel");Da.type="TranscriptSearchPanel";var U_=Da;var La=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,U_)}};n(La,"Transcript");La.type="Transcript";var os=La;var Ba=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,os)}};n(Ba,"UpdateEngagementPanelAction");Ba.type="UpdateEngagementPanelAction";var Ww=Ba;var Fa=class extends a{constructor(e){super(),this.text=new l(e.text),this.alert_type=e.type}};n(Fa,"Alert");Fa.type="Alert";var ns=Fa;var Ya=class extends a{constructor(e){super(),this.text=new l(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,I)}};n(Ya,"AlertWithButton");Ya.type="AlertWithButton";var W_=Ya;var ja=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(ja,"DataModelSection");ja.type="DataModelSection";var H_=ja;var Ua=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new H_(o))}};n(Ua,"AnalyticsMainAppKeyMetrics");Ua.type="AnalyticsMainAppKeyMetrics";var Hw=Ua;var Wa=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Wa,"AnalyticsRoot");Wa.type="AnalyticsRoot";var Jw=Wa;var Ha=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};n(Ha,"AnalyticsShortsCarouselCard");Ha.type="AnalyticsShortsCarouselCard";var Gw=Ha;var Ja=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Ja,"AnalyticsVideo");Ja.type="AnalyticsVideo";var J_=Ja;var Ga=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new J_(i)))}};n(Ga,"AnalyticsVodCarouselCard");Ga.type="AnalyticsVodCarouselCard";var zw=Ga;var za=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(za,"CtaGoToCreatorStudio");za.type="CtaGoToCreatorStudio";var $w=za;var $a=class extends a{constructor(e){super(),this.title=new l(e.title),this.contents=new l(e.contents)}};n($a,"StatRow");$a.type="StatRow";var Kw=$a;var Ka=class extends a{constructor(e){super(),this.text=l.fromAttributed(e.text),this.suffix=l.fromAttributed(e.suffix)}};n(Ka,"AttributionView");Ka.type="AttributionView";var G_=Ka;var qa=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(qa,"AudioOnlyPlayability");qa.type="AudioOnlyPlayability";var z_=qa;var Xa=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(Xa,"AutomixPreviewVideo");Xa.type="AutomixPreviewVideo";var Fi=Xa;var Qa=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(Qa,"AvatarView");Qa.type="AvatarView";var $_=Qa;var Za=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new g(e.command)}};n(Za,"BackstageImage");Za.type="BackstageImage";var K_=Za;var eu=class extends a{constructor(e){var i,o,s,r,u,p,f,m,h;super(),this.text=new l(e.defaultText),this.toggled_text=new l(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((r=(s=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||s===void 0?void 0:s.accessibilityData)===null||r===void 0?void 0:r.label)||((p=(u=e==null?void 0:e.accessibilityData)===null||u===void 0?void 0:u.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new l(e.defaultText).toString()),this.endpoint=!((h=(m=e.defaultServiceEndpoint)===null||m===void 0?void 0:m.commandExecutorCommand)===null||h===void 0)&&h.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(eu,"ToggleButton");eu.type="ToggleButton";var Ne=eu;var tu=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(tu,"CreatorHeart");tu.type="CreatorHeart";var q_=tu;var iu=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Ne),this.dislike_button=c.parseItem(e.dislikeButton,Ne),this.reply_button=c.parseItem(e.replyButton,I),this.creator_heart=c.parseItem(e.creatorHeart,q_)}};n(iu,"CommentActionButtons");iu.type="CommentActionButtons";var ss=iu;var ou=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(ou,"Menu");ou.type="Menu";var j=ou;var nu=class extends a{constructor(e){super(),this.id=e.postId,this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new l(e.contentText),this.published=new l(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new l(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,j)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,ss)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(nu,"BackstagePost");nu.type="BackstagePost";var Yi=nu;var su=class extends a{constructor(e){super(),this.post=c.parseItem(e.post)}};n(su,"BackstagePostThread");su.type="BackstagePostThread";var qw=su;var ru=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(ru,"BrowseFeedActions");ru.type="BrowseFeedActions";var X_=ru;var au=class extends a{constructor(e){super(),this.album=new l(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};n(au,"BrowserMediaSession");au.type="BrowserMediaSession";var Xw=au;var uu=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new g(e.onTap)}};n(uu,"ButtonView");uu.type="ButtonView";var Oo=uu;var rs=class extends a{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new l(e.title)}};n(rs,"HeaderLink");rs.type="HeaderLink";var lu=class extends a{constructor(e){var i,o;super(),this.primary=$(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>new rs(s)))||[]),this.secondary=$(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(s=>new rs(s)))||[])}};n(lu,"ChannelHeaderLinks");lu.type="ChannelHeaderLinks";var Q_=lu;var cu=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=l.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=l.fromAttributed(e.more))}};n(cu,"ChannelHeaderLinksView");cu.type="ChannelHeaderLinksView";var Z_=cu;var du=class extends a{constructor(e){super(),this.placeholder_text=new l(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(du,"ClipCreationTextInput");du.type="ClipCreationTextInput";var ev=du;var pu=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(r=(s=e.endAccessibility)===null||s===void 0?void 0:s.accessibilityData)===null||r===void 0?void 0:r.label,this.duration_label=(p=(u=e.durationAccessibility)===null||u===void 0?void 0:u.accessibilityData)===null||p===void 0?void 0:p.label}};n(pu,"ClipCreationScrubber");pu.type="ClipCreationScrubber";var tv=pu;var fu=class extends a{constructor(e){super(),this.title=new l(e.title),this.body=new l(e.body)}};n(fu,"ClipAdState");fu.type="ClipAdState";var iv=fu;var mu=class extends a{constructor(e){super(),this.user_avatar=w.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[ev]),this.scrubber=c.parseItem(e.scrubber,[tv]),this.save_button=c.parseItem(e.saveButton,[I]),this.display_name=new l(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[I]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[iv]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(mu,"ClipCreation");mu.type="ClipCreation";var ov=mu;var hu=class extends a{constructor(e){super(),this.contents=c.parse(e.contents,!0,[ov])}};n(hu,"ClipSection");hu.type="ClipSection";var nv=hu;var _u=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,I)),this.endpoint=new g(e.continuationEndpoint)}};n(_u,"ContinuationItem");_u.type="ContinuationItem";var ve=_u;var vu=class extends a{constructor(e){super(),this.title=new l(e.title),this.visibility_button=c.parseItem(e.visibilityButton,I)}};n(vu,"EngagementPanelTitleHeader");vu.type="EngagementPanelTitleHeader";var sv=vu;var gu=class extends a{constructor(e){super(),this.info_text=new l(e.infoText),this.menu=c.parseItem(e.menu,j)}};n(gu,"MacroMarkersInfoItem");gu.type="MacroMarkersInfoItem";var rv=gu;var xu=class extends a{constructor(e){super(),this.title=new l(e.title),this.time_description=new l(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(xu,"MacroMarkersListItem");xu.type="MacroMarkersListItem";var as=xu;var yu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,[rv,as]),this.sync_button_label=new l(e.syncButtonLabel)}};n(yu,"MacroMarkersList");yu.type="MacroMarkersList";var av=yu;var bu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(bu,"ProductList");bu.type="ProductList";var uv=bu;var wu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(wu,"SectionList");wu.type="SectionList";var Z=wu;var Tu=class extends a{constructor(e){var i;super(),this.show_more_text=new l(e.showMoreText),this.show_less_text=new l(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Tu,"ExpandableVideoDescriptionBody");Tu.type="ExpandableVideoDescriptionBody";var lv=Tu;var ku=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new l(e.query).toString()}};n(ku,"SearchRefinementCard");ku.type="SearchRefinementCard";var Do=ku;var Iu=class extends a{constructor(e){super(),this.game=c.parseItem(e.game)}};n(Iu,"GameCard");Iu.type="GameCard";var cv=Iu;var Su=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Su,"HorizontalList");Su.type="HorizontalList";var dv=Su;var Cu=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new l(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new l(e.header.collapsedLabel),expanded_title:new l(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[ji,dv]),this.expand_button=c.parseItem(e.expandButton,I),this.collapse_button=c.parseItem(e.collapseButton,I)}};n(Cu,"ExpandableMetadata");Cu.type="ExpandableMetadata";var pv=Cu;var Eu=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Eu,"MetadataBadge");Eu.type="MetadataBadge";var lt=Eu;var Pu=class extends a{constructor(e){super(),this.text=new l(e.text).toString(),this.style=e.style}};n(Pu,"ThumbnailOverlayTimeStatus");Pu.type="ThumbnailOverlayTimeStatus";var Lo=Pu;var Nu=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new l(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new l(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(u=>({text:new l(u.snippetText),hover_text:new l(u.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,pv),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new O(e.ownerText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=c.parseArray(e.badges,lt),this.endpoint=new g(e.navigationEndpoint),this.published=new l(e.publishedTimeText),this.view_count=new l(e.viewCountText),this.short_view_count=new l(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new l(e.lengthText).toString():new l(r).toString(),seconds:Be(e.lengthText?new l(e.lengthText).toString():new l(r).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,j),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Lo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Nu,"Video");Nu.type="Video";var us=Nu;var Au=class extends us{constructor(e){super(e)}};n(Au,"VideoCard");Au.type="VideoCard";var fv=Au;var Ru=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(Ru,"ContentPreviewImageView");Ru.type="ContentPreviewImageView";var ls=Ru;var Vu=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=w.fromResponse(e.image):this.image=c.parseItem(e.image,ls),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new g(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(Vu,"VideoAttributeView");Vu.type="VideoAttributeView";var cs=Vu;var Mu=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards,[cs,Do,as,cv,fv]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}};n(Mu,"HorizontalCardList");Mu.type="HorizontalCardList";var ji=Mu;var Ou=class extends a{constructor(e){super(),this.label=new l(e.label),this.value=new l(e.value),this.accessibility_text=e.accessibilityText}};n(Ou,"Factoid");Ou.type="Factoid";var Ui=Ou;var Du=class extends a{constructor(e){super(),this.factoid=c.parseItem(e.factoid,Ui)}};n(Du,"UploadTimeFactoid");Du.type="UploadTimeFactoid";var mv=Du;var Lu=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[Ui]),this.view_count_type=e.viewCountType}};n(Lu,"ViewCountFactoid");Lu.type="ViewCountFactoid";var hv=Lu;var Bu=class extends a{constructor(e){super(),this.title=new l(e.title),this.channel=new l(e.channel),this.channel_navigation_endpoint=new g(e.channelNavigationEndpoint),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.publish_date=new l(e.publishDate),this.views=new l(e.views),this.factoids=c.parseArray(e.factoid,[Ui,hv,mv])}};n(Bu,"VideoDescriptionHeader");Bu.type="VideoDescriptionHeader";var _v=Bu;var Fu=class extends a{constructor(e){super(),this.section_title=new l(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,I),this.creator_about_button=c.parseItem(e.creatorAboutButton,I),this.section_subtitle=new l(e.sectionSubtitle),this.channel_avatar=w.fromResponse(e.channelAvatar),this.channel_endpoint=new g(e.channelEndpoint)}};n(Fu,"VideoDescriptionInfocardsSection");Fu.type="VideoDescriptionInfocardsSection";var vv=Fu;var Yu=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new l(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new l(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Yu,"InfoRow");Yu.type="InfoRow";var gv=Yu;var ju=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new l(e.title),this.author=new O(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new l(e.viewCountText),this.short_view_count=new l(e.shortViewCountText),this.published=new l(e.publishedTimeText),this.badges=c.parseArray(e.badges,lt),this.duration={text:new l(e.lengthText).toString(),seconds:Be(new l(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=c.parseItem(e.menu,j)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(ju,"CompactVideo");ju.type="CompactVideo";var ds=ju;var Uu=class extends a{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,gv),this.video_lockup=c.parseItem(e.videoLockup,ds)}};n(Uu,"CarouselLockup");Uu.type="CarouselLockup";var xv=Uu;var Wu=class extends a{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,xv),this.section_title=new l(e.sectionTitle)}};n(Wu,"VideoDescriptionMusicSection");Wu.type="VideoDescriptionMusicSection";var ps=Wu;var Hu=class extends a{constructor(e){super(),this.section_title=new l(e.sectionTitle),this.sub_header_text=new l(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,I)}};n(Hu,"VideoDescriptionTranscriptSection");Hu.type="VideoDescriptionTranscriptSection";var Ju=Hu;var Gu=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new l(e.title),this.short_byline_text=new l(e.shortBylineText),this.video_count_short_text=new l(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Gu,"StructuredDescriptionPlaylistLockup");Gu.type="StructuredDescriptionPlaylistLockup";var yv=Gu;var zu=class extends a{constructor(e){super(),this.section_title=new l(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[yv])}};n(zu,"VideoDescriptionCourseSection");zu.type="VideoDescriptionCourseSection";var bv=zu;var $u=class extends a{constructor(e){super(),this.title=new l(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};n($u,"ReelShelf");$u.type="ReelShelf";var fs=$u;var Ku=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[_v,lv,ps,vv,bv,Ju,Ju,ji,fs])}};n(Ku,"StructuredDescriptionContent");Ku.type="StructuredDescriptionContent";var Bo=Ku;var qu=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,sv),this.content=c.parseItem(e.content,[cs,Z,ve,nv,Bo,av,uv]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(qu,"EngagementPanelSectionList");qu.type="EngagementPanelSectionList";var Wi=qu;var Xu=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Wi),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new g(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(Xu,"ChannelTagline");Xu.type="ChannelTagline";var wv=Xu;var Qu=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Qu,"SubscriptionNotificationToggleButton");Qu.type="SubscriptionNotificationToggleButton";var Tv=Qu;var Zu=class extends a{constructor(e){var i,o;super(),this.title=new l(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new l(e.subscribedButtonText),this.unsubscribed_text=new l(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,Tv),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(Zu,"SubscribeButton");Zu.type="SubscribeButton";var ze=Zu;var el=class extends a{constructor(e){super(),this.author=new O({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=w.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=w.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new l(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new l(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[ze,I])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[Q_,Z_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new l(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,wv))}};n(el,"C4TabbedHeader");el.type="C4TabbedHeader";var Hi=el;var tl=class extends a{constructor(e){super(),this.label=new l(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(tl,"CallToActionButton");tl.type="CallToActionButton";var Qw=tl;var il=class extends a{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(il,"Card");il.type="Card";var Zw=il;var ol=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new l(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(ol,"CardCollection");ol.type="CardCollection";var kv=ol;var nl=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(nl,"CarouselHeader");nl.type="CarouselHeader";var Iv=nl;var sl=class extends a{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(sl,"CarouselItem");sl.type="CarouselItem";var eT=sl;var Ji=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new l(e.subscriberCountText),this.video_count=new l(e.videoCountText),this.long_byline=new l(e.longBylineText),this.short_byline=new l(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[ze,I]),this.description_snippet=new l(e.descriptionSnippet)}get subscribers(){return B.warnOnce(Ji.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return B.warnOnce(Ji.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(Ji,"Channel");Ji.type="Channel";var Sv=Ji;var Gi=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new l(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(s=>({endpoint:new g(s.navigationEndpoint),icon:w.fromResponse(s.icon),title:new l(s.title)})))!==null&&o!==void 0?o:[],this.view_count=new l(e.viewCountText),this.joined_date=new l(e.joinedDateText),this.description=new l(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new l(e.country),this.buttons=c.parseArray(e.actionButtons,I)}get views(){return B.warnOnce(Gi.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return B.warnOnce(Gi.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(Gi,"ChannelAboutFullMetadata");Gi.type="ChannelAboutFullMetadata";var rl=Gi;var al=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new l(e.header),this.main_text=new l(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,I),this.secondary_text=new l(e.secondaryText)}};n(al,"ChannelAgeGate");al.type="ChannelAgeGate";var tT=al;var ul=class extends a{constructor(e){super(),this.title=new l(e.title),this.items=c.parseArray(e.items)}};n(ul,"ChannelFeaturedContent");ul.type="ChannelFeaturedContent";var iT=ul;var ll=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(ll,"ChannelMetadata");ll.type="ChannelMetadata";var Cv=ll;var cl=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(cl,"ChannelMobileHeader");cl.type="ChannelMobileHeader";var oT=cl;var dl=class extends a{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new l(i))}};n(dl,"ChannelOptions");dl.type="ChannelOptions";var Ev=dl;var pl=class extends a{constructor(e){super(),this.illustration=w.fromResponse(e.illustration),this.description=new l(e.description)}};n(pl,"ChannelOwnerEmptyState");pl.type="ChannelOwnerEmptyState";var nT=pl;var fl=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(fl,"ChannelSubMenu");fl.type="ChannelSubMenu";var ml=fl;var hl=class extends a{constructor(e){var i,o;super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(hl,"ChannelThumbnailWithLink");hl.type="ChannelThumbnailWithLink";var sT=hl;var zi=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.title),this.description=new l(e.description),this.view_count=new l(e.viewCountText),this.published_time=new l(e.publishedTimeText)}get views(){return B.warnOnce(zi.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return B.warnOnce(zi.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(zi,"ChannelVideoPlayer");zi.type="ChannelVideoPlayer";var rT=zi;var _l=class extends a{constructor(e){super(),this.title=new l(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};n(_l,"Chapter");_l.type="Chapter";var Pv=_l;var vl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.title),this.duration={text:e.lengthText.simpleText,seconds:Be(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};n(vl,"ChildVideo");vl.type="ChildVideo";var aT=vl;var gl=class extends a{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new g(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};n(gl,"ChipView");gl.type="ChipView";var Nv=gl;var xl=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,Nv)}};n(xl,"ChipBarView");xl.type="ChipBarView";var uT=xl;var yl=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.text=new l(e.text).toString()}};n(yl,"ChipCloudChip");yl.type="ChipCloudChip";var ye=yl;var bl=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,ye),this.next_button=c.parseItem(e.nextButton,I),this.previous_button=c.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};n(bl,"ChipCloud");bl.type="ChipCloud";var gt=bl;var wl=class extends a{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new l(e.customText),this.channel_name=new l(e.channelName),this.subscriber_count=new l(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};n(wl,"CollaboratorInfoCardContent");wl.type="CollaboratorInfoCardContent";var lT=wl;var Tl=class extends a{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};n(Tl,"CollageHeroImage");Tl.type="CollageHeroImage";var cT=Tl;var kl=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=l.fromAttributed(e.text),this.style=e.style}};n(kl,"ThumbnailHoverOverlayView");kl.type="ThumbnailHoverOverlayView";var Av=kl;var Il=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(Il,"ThumbnailBadgeView");Il.type="ThumbnailBadgeView";var Rv=Il;var Sl=class extends a{constructor(e){super(),this.badges=c.parseArray(e.thumbnailBadges,Rv),this.position=e.position}};n(Sl,"ThumbnailOverlayBadgeView");Sl.type="ThumbnailOverlayBadgeView";var Vv=Sl;var Cl=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.overlays=c.parseArray(e.overlays,[Vv,Av]),this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(Cl,"ThumbnailView");Cl.type="ThumbnailView";var Mv=Cl;var El=class extends a{constructor(e){super(),this.primary_thumbnail=c.parseItem(e.primaryThumbnail,Mv),this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme}}};n(El,"CollectionThumbnailView");El.type="CollectionThumbnailView";var Ov=El;var Pl=class extends a{constructor(e){super(),this.endpoint=new g(e)}};n(Pl,"Command");Pl.type="Command";var dT=Pl;var Dv,Nl=class extends a{constructor(e){super(),Dv.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),k(this,Dv,e,"f")}get orig_badge(){return d(this,Dv,"f")}};n(Nl,"AuthorCommentBadge");Dv=new WeakMap;Nl.type="AuthorCommentBadge";var Lv=Nl;var Al=class extends a{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new l(e.placeholderText),this.error_message=new l(e.errorMessage)}};n(Al,"CommentReplyDialog");Al.type="CommentReplyDialog";var ms=Al;var Rl=class extends a{constructor(e){var i,o;super(),this.text=new l(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Rl,"PdgCommentChip");Rl.type="PdgCommentChip";var Bv=Rl;var Vl=class extends a{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Vl,"SponsorCommentBadge");Vl.type="SponsorCommentBadge";var Fv=Vl;var St={};L(St,{decodeVisitorData:()=>cb,encodeChannelAnalyticsParams:()=>db,encodeCommentActionParams:()=>Fo,encodeCommentParams:()=>_b,encodeCommentsSectionParams:()=>hb,encodeCustomThumbnailPayload:()=>xb,encodeHashtag:()=>yb,encodeMessageParams:()=>mb,encodeMusicSearchFilters:()=>fb,encodeNotificationPref:()=>vb,encodeReelSequence:()=>bb,encodeSearchFilters:()=>pb,encodeShortsParam:()=>xE,encodeVideoMetadataPayload:()=>gb,encodeVisitorData:()=>lb});var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var W=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+jv(ib(this),Yv).toString(!1);let s=[],r=new W(i,o);for(;KC(r,zC);){let[u,p]=$C(r);s.push(p),r=u}return s.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new W(0);if(e.length<10)return i<0?jv(ib(new W(-i)),Yv):new W(i);let s=new W,r=Yv;for(let u of e.split("").reverse())parseInt(u)&&(s=jv(s,pT(new W(parseInt(u)),r))),r=pT(r,new W(10));return o?jv(ib(s),Yv):s}};n(W,"Long");var zC=new W(0),Yv=new W(1);function Uv(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Uv,"makeChunk");function jv(t,e){let[i,o,s,r]=Uv(t),[u,p,f,m]=Uv(e),h=0,x=0,b=0,T=0;return T+=i+u,b+=T>>>16,T&=65535,b+=o+p,x+=b>>>16,b&=65535,x+=s+f,h+=x>>>16,x&=65535,h+=r+m,h&=65535,new W(b<<16|T,h<<16|x)}n(jv,"add");function pT(t,e){let[i,o,s,r]=Uv(t),[u,p,f,m]=Uv(e),h=0,x=0,b=0,T=0;return T+=i*u,b+=T>>>16,T&=65535,b+=i*p+o*u,x+=b>>>16,b&=65535,x+=i*f+s*u+o*p,h+=x>>>16,x&=65535,h+=i*m+o*f+s*p+r*u,h&=65535,new W(b<<16|T,h<<16|x)}n(pT,"mul");function $C(t){let[e,i]=t;return[new W((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n($C,"divByTen");function KC(t,e){let[i,o]=t,[s,r]=e;return o!==r?o-r:i-s}n(KC,"compare");function ib(t){let[e,i]=t;return new W(~e,~i)}n(ib,"negate");function hs(t){let e=[],s=typeof t=="number"?new W(t):t;for(;s[0]||s[1];){let[r,u]=s,p=r&127,f=u>>>7,m=r>>>7|(u&127)<<32-7;s=new W(m,f);let h=s[0]||s[1]?p|128:p;e.push(h)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(hs,"encode");function _s(t){let e=new W(0),i=0;for(;;){let o=t.getUint8(i);if(e=qC(e,XC(new W(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(_s,"decode");function qC(t,e){return new W(t[0]|e[0],t[1]|e[1])}n(qC,"or");function XC(t,e){return e===0?t:e>=32?new W(0,t[0]<<e-32):new W(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(XC,"leftshift");function A(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(hs(i<<3|o.type)),o.type){case N.Varint:e.push(hs(o.value));break;case N.Fixed64:{let s=new Uint8Array(8),r=new DataView(s.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(s);break}case N.LengthDelimited:e.push(hs(o.value.byteLength)),e.push(o.value);break;case N.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,o.value,!0),e.push(s);break}}}),ob(e)}n(A,"serialize");function ob(t){let e=t.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(e);return t.reduce((o,s)=>(i.set(s,o),o+s.byteLength),0),i}n(ob,"concat");function nb(t){if(t instanceof W){let e=new W(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new W(4294967295,4294967295):new W;return new W(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(nb,"encode");function sb(t){if(t instanceof W){let e=new W(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new W(4294967295,4294967295):new W;return new W(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(sb,"decode");var rb={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>sb(t[0]),sint64:t=>sb(t).toString(!0),bool:t=>t[0]!==0},ab={int32:t=>new W(t),int64:t=>W.parse(t),uint32:t=>new W(t),uint64:t=>W.parse(t),sint32:t=>nb(new W(t)),sint64:t=>nb(W.parse(t)),bool:t=>new W(+t)},QC=Object.fromEntries(Object.entries(rb).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),ZC=Object.fromEntries(Object.entries(ab).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),J=Object.assign(Object.assign({},QC),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),E=Object.assign(Object.assign({},ZC),{double:t=>{let e=new W;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:W.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:W.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),eE=Object.fromEntries(Object.keys(rb).map(t=>[t,function*(e){for(let i of e){let o=J[t](i);if(o!=null)yield o;else for(let s of nE(i))yield rb[t](s)}}])),QF=Object.assign(Object.assign({},eE),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*iE(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*oE(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let o of fT(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let o of mT(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let o of fT(e))yield o|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let o of mT(e))yield o.toString(!0)}}}),tE=Object.fromEntries(Object.keys(ab).map(t=>[t,function(e){return{type:N.LengthDelimited,value:ob(e.map(i=>{let o=ab[t](i);return hs(o)}))}}]));function vs(t,e){return n(function(o){let s=new Uint8Array(o.length*t),r=new DataView(s.buffer);for(let u=0;u<o.length;++u)e(r,u*t,o[u]);return{type:N.LengthDelimited,value:s}},"pack")}n(vs,"getFixedPackFn");var ZF=Object.assign(Object.assign({},tE),{double:vs(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:vs(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:vs(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:vs(8,(t,e,i)=>{let o=W.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:vs(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:vs(8,(t,e,i)=>{let o=W.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*iE(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat64(i,!0);i+=4,yield s}}n(iE,"unpackDouble");function*oE(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getFloat32(i,!0);i+=4,yield s}}n(oE,"unpackFloat");function*nE(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let s=_s(new DataView(e.buffer,o+i));i+=s[0],yield s[1]}}n(nE,"unpackVarint");function*fT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4,yield s}}n(fT,"unpackFixed32");function*mT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let s=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new W(s,r)}}n(mT,"unpackFixed64");function G(t){let e=0,i=t.byteOffset,o=[],s=new DataView(t.buffer,i);for(;e<t.length;){let r=_s(new DataView(t.buffer,i+e)),u=r[1][0];e+=r[0];let p=u&7,f=u>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[x,b]=_s(new DataView(t.buffer,i+e));o.push([f,{type:p,value:b}]),e+=x;break}case N.Fixed64:let m=s.getUint32(e,!0),h=s.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new W(m,h)}]);break;case N.LengthDelimited:{let[x,b]=_s(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=x,e+=b[0])}]);break}case N.StartGroup:case N.EndGroup:o.push([f,{type:p}]);break;case N.Fixed32:o.push([f,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return o}n(G,"deserialize");function sE(){return{id:"",timestamp:0}}n(sE,"getDefaultValue");function hT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,E.int32(i)])}return A(e)}n(hT,"encodeBinary");function _T(t){let e=sE(),i=G(t),o=new Map(i);e:{let s=o.get(1);if(s===void 0)break e;let r=J.string(s);if(r===void 0)break e;e.id=r}e:{let s=o.get(5);if(s===void 0)break e;let r=J.int32(s);if(r===void 0)break e;e.timestamp=r}return e}n(_T,"decodeBinary");function vT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,E.string(i)])}return A(e)}n(vT,"encodeBinary");function gT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:vT(i)}])}return A(e)}n(gT,"encodeBinary");function xT(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,E.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,E.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,E.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,E.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,E.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,E.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,E.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,E.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,E.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,E.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,E.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,E.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,E.int32(i)])}return A(e)}n(xT,"encodeBinary");function yT(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,E.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:xT(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,E.int32(i)])}return A(e)}n(yT,"encodeBinary");function bT(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,E.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,E.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,E.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,E.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,E.int32(i)])}return A(e)}n(bT,"encodeBinary");function wT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:bT(i)}])}return A(e)}n(wT,"encodeBinary");function TT(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:wT(i)}])}return A(e)}n(TT,"encodeBinary");function kT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return A(e)}n(kT,"encodeBinary");function IT(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:kT(i)}])}return A(e)}n(IT,"encodeBinary");function ST(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:IT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,E.int32(i)])}return A(e)}n(ST,"encodeBinary");function CT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return A(e)}n(CT,"encodeBinary");function ET(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,E.int32(i)])}return A(e)}n(ET,"encodeBinary");function PT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:ET(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,E.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,E.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,E.int32(i)])}return A(e)}n(PT,"encodeBinary");function NT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,E.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,E.int32(i)])}return A(e)}n(NT,"encodeBinary");function AT(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,E.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:PT(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:NT(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,E.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,E.string(i)])}return A(e)}n(AT,"encodeBinary");function RT(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:CT(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,E.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:AT(i)}])}return A(e)}n(RT,"encodeBinary");function VT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return A(e)}n(VT,"encodeBinary");function MT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:VT(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,E.int32(i)])}return A(e)}n(MT,"encodeBinary");function OT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return A(e)}n(OT,"encodeBinary");function DT(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:OT(i)}])}return A(e)}n(DT,"encodeBinary");function LT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:DT(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,E.string(i)])}return A(e)}n(LT,"encodeBinary");function BT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,E.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,E.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,E.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:LT(i)}])}return A(e)}n(BT,"encodeBinary");function FT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return A(e)}n(FT,"encodeBinary");function YT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:FT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,E.int32(i)])}return A(e)}n(YT,"encodeBinary");function jT(t){let e=[];if(t.deviceMake!==void 0){let i=t.deviceMake;e.push([12,E.string(i)])}if(t.deviceModel!==void 0){let i=t.deviceModel;e.push([13,E.string(i)])}if(t.nameId!==void 0){let i=t.nameId;e.push([16,E.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,E.string(i)])}if(t.osName!==void 0){let i=t.osName;e.push([18,E.string(i)])}if(t.osVersion!==void 0){let i=t.osVersion;e.push([19,E.string(i)])}if(t.acceptLanguage!==void 0){let i=t.acceptLanguage;e.push([21,E.string(i)])}if(t.acceptRegion!==void 0){let i=t.acceptRegion;e.push([22,E.string(i)])}if(t.androidSdkVersion!==void 0){let i=t.androidSdkVersion;e.push([34,E.int32(i)])}if(t.windowWidthPoints!==void 0){let i=t.windowWidthPoints;e.push([37,E.int32(i)])}if(t.windowHeightPoints!==void 0){let i=t.windowHeightPoints;e.push([38,E.int32(i)])}return A(e)}n(jT,"encodeBinary");function UT(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:jT(i)}])}return A(e)}n(UT,"encodeBinary");function WT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return A(e)}n(WT,"encodeBinary");function HT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return A(e)}n(HT,"encodeBinary");function JT(t){let e=[];for(let i of t.list)e.push([1,E.string(i)]);return A(e)}n(JT,"encodeBinary");function GT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.int32(i)])}return A(e)}n(GT,"encodeBinary");function zT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.string(i)])}return A(e)}n(zT,"encodeBinary");function $T(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,E.bytes(i)])}return A(e)}n($T,"encodeBinary");function KT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:$T(i)}])}return A(e)}n(KT,"encodeBinary");function qT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}return A(e)}n(qT,"encodeBinary");function XT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return A(e)}n(XT,"encodeBinary");function QT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return A(e)}n(QT,"encodeBinary");function ub(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:UT(i)}])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:WT(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:HT(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:JT(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:GT(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:zT(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:KT(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:qT(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:XT(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:QT(i)}])}return A(e)}n(ub,"encodeBinary");function ZT(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,E.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,E.int32(i)])}return A(e)}n(ZT,"encodeBinary");function ek(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:ZT(i)}])}return A(e)}n(ek,"encodeBinary");function tk(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,E.int32(i)])}return A(e)}n(tk,"encodeBinary");function ik(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:tk(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,E.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,E.int32(i)])}return A(e)}n(ik,"encodeBinary");function ok(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,E.int32(i)])}return A(e)}n(ok,"encodeBinary");function nk(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:N.LengthDelimited,value:ok(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,E.int32(i)])}return A(e)}n(nk,"encodeBinary");function lb(t,e){let i=hT({id:t,timestamp:e});return encodeURIComponent(ct(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(lb,"encodeVisitorData");function cb(t){return _T(wb(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(cb,"decodeVisitorData");function db(t){let e=gT({params:{channelId:t}});return encodeURIComponent(ct(e))}n(db,"encodeChannelAnalyticsParams");function pb(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},s={relevance:void 0,rating:1,upload_date:2,view_count:3},r={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},u={};if(t?u.filters={}:u.noFilter=0,u.filters&&(t.upload_date&&(u.filters.uploadDate=e[t.upload_date]),t.type&&(u.filters.type=i[t.type]),t.duration&&(u.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(u.sortBy=s[t.sort_by]),t.features))for(let f of t.features)u.filters[r[f]]=1;let p=yT(u);return encodeURIComponent(ct(p))}n(pb,"encodeSearchFilters");function fb(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=TT(i);return encodeURIComponent(ct(o))}n(fb,"encodeMusicSearchFilters");function mb(t,e){let i=ST({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ct(i)))}n(mb,"encodeMessageParams");function hb(t,e={}){let o=RT({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(ct(o))}n(hb,"encodeCommentsSectionParams");function _b(t){let e=MT({videoId:t,params:{index:0},number:7});return encodeURIComponent(ct(e))}n(_b,"encodeCommentParams");function Fo(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=BT(i);return encodeURIComponent(ct(o))}n(Fo,"encodeCommentActionParams");function vb(t,e){let i=YT({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ct(i))}n(vb,"encodeNotificationPref");function gb(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:le.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:le.ANDROID.VERSION}},videoId:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),ub(i)}n(gb,"encodeVideoMetadataPayload");function xb(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:le.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:le.ANDROID.VERSION}},videoId:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return ub(i)}n(xb,"encodeCustomThumbnailPayload");function yb(t){let e=ek({params:{hashtag:t,type:1}});return encodeURIComponent(ct(e))}n(yb,"encodeHashtag");function bb(t){let e=ik({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(ct(e))}n(bb,"encodeReelSequence");function xE(){let t=nk({f1:{p1:1},p59:1});return encodeURIComponent(ct(t))}n(xE,"encodeShortsParam");var Yt,Ml=class extends a{constructor(e){var i,o,s,r,u,p,f;super(),Yt.set(this,void 0),this.content=new l(e.contentText),this.published=new l(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,Fv),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,Bv),this.author_badge=c.parseItem(e.authorCommentBadge,Lv),this.author=new O(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,j),this.action_buttons=c.parseItem(e.actionButtons,ss),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new l(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((u=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||u===void 0)&&u.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return y(this,void 0,void 0,function*(){var e;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new v("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Yt,"f"),{parse:!1})})}dislike(){return y(this,void 0,void 0,function*(){var e;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new v("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Yt,"f"),{parse:!1})})}reply(e){return y(this,void 0,void 0,function*(){var i,o,s;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new v("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((s=r.endpoint)===null||s===void 0)&&s.dialog))throw new v("Reply button endpoint did not have a dialog.");let p=r.endpoint.dialog.as(ms).reply_button;if(!p)throw new v("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new v("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,Yt,"f"),{commentText:e})})}translate(e){return y(this,void 0,void 0,function*(){var i,o,s,r,u,p;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},h=Fo(22,m),x=yield d(this,Yt,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),b=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(u=(r=(s=b==null?void 0:b[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||u===void 0?void 0:u.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:T})})}setActions(e){k(this,Yt,e,"f")}};n(Ml,"Comment");Yt=new WeakMap;Ml.type="Comment";var gs=Ml;var Ol=class extends a{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new l(e.searchPlaceholderText),this.search_no_results=new l(e.searchNoResultsText),this.pick_skin_tone=new l(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Ol,"EmojiPicker");Ol.type="EmojiPicker";var Wv=Ol;var Dl=class extends a{constructor(e){super(),this.editable_text=new l(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.placeholder=new l(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,I),this.emoji_picker=c.parseItem(e.emojiPicker,Wv)}};n(Dl,"CommentDialog");Dl.type="CommentDialog";var sk=Dl;var Ll=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,I),this.hide_replies=c.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(Ll,"CommentReplies");Ll.type="CommentReplies";var Hv=Ll;var Bl=class extends a{constructor(e){super(),this.simplebox_avatar=w.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new l(e.simpleboxPlaceholder)}};n(Bl,"CommentsSimplebox");Bl.type="CommentsSimplebox";var Jv=Bl;var Fl=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new l(e.teaserContent))}};n(Fl,"CommentsEntryPointTeaser");Fl.type="CommentsEntryPointTeaser";var Gv=Fl;var Yl=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new l(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new l(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new l(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[Gv,Jv])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new l(e.simpleboxPlaceholder))}};n(Yl,"CommentsEntryPointHeader");Yl.type="CommentsEntryPointHeader";var zv=Yl;var jl=class extends a{constructor(e){super(),this.title=new l(e.titleText),this.count=new l(e.countText),this.comments_count=new l(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,Ft),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(jl,"CommentsHeader");jl.type="CommentsHeader";var $i=jl;var Ul=class extends a{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new l(e.placeholderText),this.avatar_size=e.avatarSize}};n(Ul,"CommentSimplebox");Ul.type="CommentSimplebox";var $v=Ul;var ot,Wl=class extends a{constructor(e){super(),ot.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=l.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new O({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new g(o.likeCommand),this.dislike_command=new g(o.dislikeCommand),this.unlike_command=new g(o.unlikeCommand),this.undislike_command=new g(o.undislikeCommand),this.reply_command=new g(o.replyCommand))}like(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.like_command)throw new v("Like command not found.");if(this.is_liked)throw new v("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(d(this,ot,"f"))})}dislike(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.dislike_command)throw new v("Dislike command not found.");if(this.is_disliked)throw new v("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(d(this,ot,"f"))})}unlike(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.unlike_command)throw new v("Unlike command not found.");if(!this.is_liked)throw new v("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(d(this,ot,"f"))})}undislike(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.undislike_command)throw new v("Undislike command not found.");if(!this.is_disliked)throw new v("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(d(this,ot,"f"))})}reply(e){return y(this,void 0,void 0,function*(){var i;if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.reply_command)throw new v("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(ms);if(!o)throw new v("Reply dialog not found.");let s=o.reply_button;if(!s)throw new v("Reply button not found in the dialog.");if(!s.endpoint)throw new v("Reply button endpoint not found.");return s.endpoint.call(d(this,ot,"f"),{commentText:e})})}translate(e){return y(this,void 0,void 0,function*(){var i,o,s,r,u,p;if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.content)throw new v("Comment content not found.",{comment_id:this.comment_id});let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},h=Fo(22,m),x=yield d(this,ot,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),b=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(u=(r=(s=b==null?void 0:b[0])===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||u===void 0?void 0:u.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:T})})}setActions(e){k(this,ot,e,"f")}};n(Wl,"CommentView");ot=new WeakMap;Wl.type="CommentView";var Ki=Wl;var wi,Yo,Hl=class extends a{constructor(e){super(),wi.set(this,void 0),Yo.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=c.parseItem(e.commentViewModel,Ki):this.comment=c.parseItem(e.comment,gs),this.comment_replies_data=c.parseItem(e.replies,Hv),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return y(this,void 0,void 0,function*(){var e;if(!d(this,wi,"f"))throw new v("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new v("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ve);if(!i)throw new v("Replies continuation not found.");let o=yield i.endpoint.call(d(this,wi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=$(o.on_response_received_endpoints_memo.getType(gs,Ki).map(s=>(s.setActions(d(this,wi,"f")),s))),k(this,Yo,o==null?void 0:o.on_response_received_endpoints_memo.getType(ve).first(),"f"),this})}getContinuation(){return y(this,void 0,void 0,function*(){var e;if(!this.replies)throw new v("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,Yo,"f"))throw new v("Continuation not found.");if(!d(this,wi,"f"))throw new v("Actions instance not set for this thread.");let i=(e=d(this,Yo,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new v('"Load more" button not found.');let o=yield i.endpoint.call(d(this,wi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=$(o.on_response_received_endpoints_memo.getType(gs,Ki).map(s=>(s.setActions(d(this,wi,"f")),s))),k(this,Yo,o.on_response_received_endpoints_memo.getType(ve).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new v("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,Yo,"f")}setActions(e){k(this,wi,e,"f")}};n(Hl,"CommentThread");wi=new WeakMap,Yo=new WeakMap;Hl.type="CommentThread";var Kv=Hl;var Jl=class extends a{constructor(e){super(),this.title=new l(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new l(e.displayName),this.video_count=new l(e.videoCountText),this.subscriber_count=new l(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,j)}};n(Jl,"CompactChannel");Jl.type="CompactChannel";var rk=Jl;var Gl=class extends a{constructor(e){super(),this.title=new l(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};n(Gl,"CompactLink");Gl.type="CompactLink";var xs=Gl;var zl=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(zl,"PlaylistCustomThumbnail");zl.type="PlaylistCustomThumbnail";var ys=zl;var $l=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n($l,"PlaylistVideoThumbnail");$l.type="PlaylistVideoThumbnail";var bs=$l;var Kl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new l(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new l(e.shortBylineText):new O(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new l(e.thumbnailText),this.video_count_short=new l(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[bs,ys])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new l(e.viewPlaylistText))}};n(Kl,"Playlist");Kl.type="Playlist";var ti=Kl;var ql=class extends ti{constructor(e){super(e)}};n(ql,"CompactMix");ql.type="CompactMix";var ak=ql;var Xl=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new l(e.title),this.top_metadata_items=new l(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new O(e.shortBylineText);let s=e.lengthText?new l(e.lengthText).toString():new l(o).toString();this.duration={text:s,seconds:Be(s)},this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,j)}};n(Xl,"CompactMovie");Xl.type="CompactMovie";var uk=Xl;var Ql=class extends ti{constructor(e){super(e)}};n(Ql,"CompactPlaylist");Ql.type="CompactPlaylist";var lk=Ql;var Zl=class extends a{constructor(e){super(),this.title=new l(e.title),this.description=new l(e.description),this.video_count=new l(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Zl,"CompactStation");Zl.type="CompactStation";var ck=Zl;var ec=class extends a{constructor(e){super(),this.title=new l(e.title),this.confirm_button=c.parseItem(e.confirmButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new l(i))}};n(ec,"ConfirmDialog");ec.type="ConfirmDialog";var dk=ec;var tc=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(s=>({text:l.fromAttributed(s.text)}))}}),this.delimiter=e.delimiter}};n(tc,"ContentMetadataView");tc.type="ContentMetadataView";var ws=tc;var ic=class extends a{constructor(e){super(),this.text=new l(e.text)}};n(ic,"Message");ic.type="Message";var He=ic;var oc=class extends a{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,He)}};n(oc,"ConversationBar");oc.type="ConversationBar";var pk=oc;var nc=class extends a{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};n(nc,"CopyLink");nc.type="CopyLink";var qv=nc;var sc=class extends a{constructor(e){var i,o;super(),this.avatar=c.parseItem(e.avatar,$_),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap))}};n(sc,"DecoratedAvatarView");sc.type="DecoratedAvatarView";var Xv=sc;var rc=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(rc,"HeatMarker");rc.type="HeatMarker";var Qv=rc;var ac=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,Qv),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(ac,"Heatmap");ac.type="Heatmap";var Zv=ac;var uc=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,Zv)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,Pv)))}};n(uc,"Marker");uc.type="Marker";var lc=class extends a{constructor(e){var i;super(),this.markers_map=$(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new uc(o)))||[])}};n(lc,"MultiMarkersPlayerBar");lc.type="MultiMarkersPlayerBar";var eg=lc;var cc=class extends a{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,eg),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,I)}};n(cc,"DecoratedPlayerBar");cc.type="DecoratedPlayerBar";var tg=cc;var dc=class extends a{constructor(e){super(),this.title=new l(e.title),this.description=new l(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(dc,"DefaultPromoPanel");dc.type="DefaultPromoPanel";var fk=dc;var pc=class extends a{constructor(e){var i,o,s,r,u,p;if(super(),this.description=l.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=l.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((s=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||s===void 0)&&s.showEngagementPanelEndpoint){let f=(p=(u=(r=e.rendererContext.commandContext)===null||r===void 0?void 0:r.onTap)===null||u===void 0?void 0:u.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:c.parseItem(f.engagementPanel,Wi),engagement_panel_popup_type:f.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:f.identifier.surface,tag:f.identifier.tag}}}}}};n(pc,"DescriptionPreviewView");pc.type="DescriptionPreviewView";var ig=pc;var fc=class extends a{constructor(e){super(),this.text=new l(e.didYouMean).toString(),this.corrected_query=new l(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(fc,"DidYouMean");fc.type="DidYouMean";var og=fc;var mc=class extends a{constructor(e){super(),this.default_button=c.parseItem(e.defaultButtonViewModel,Oo),this.toggled_button=c.parseItem(e.toggledButtonViewModel,Oo),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(mc,"ToggleButtonView");mc.type="ToggleButtonView";var qi=mc;var hc=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,qi),this.dislike_entity_key=e.dislikeEntityKey}};n(hc,"DislikeButtonView");hc.type="DislikeButtonView";var ng=hc;var _c=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};n(_c,"DownloadButton");_c.type="DownloadButton";var sg=_c;var vc=class extends a{constructor(e){super(),this.text=l.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(vc,"DynamicTextView");vc.type="DynamicTextView";var rg=vc;var jo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new jo(o)))}};n(jo,"ChildElement");jo.type="ChildElement";var ag=jo;var Uo=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,Uo);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=$(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(s=>new ag(s)))||[]))}};n(Uo,"Element");Uo.type="Element";var Ts=Uo;var gc=class extends a{constructor(e){super(),this.title=new l(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,j)}};n(gc,"EmergencyOnebox");gc.type="EmergencyOnebox";var mk=gc;var xc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new l(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(xc,"EmojiPickerCategory");xc.type="EmojiPickerCategory";var hk=xc;var yc=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(yc,"EmojiPickerCategoryButton");yc.type="EmojiPickerCategoryButton";var _k=yc;var bc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new l(e.title),this.upsell=new l(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};n(bc,"EmojiPickerUpsellCategory");bc.type="EmojiPickerUpsellCategory";var vk=bc;var wc=class extends a{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(wc,"Endscreen");wc.type="Endscreen";var ug=wc;var Tc=class extends a{constructor(e){super(),this.style=e.style,this.title=new l(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=w.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=w.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new l(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new l(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new l(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Tc,"EndscreenElement");Tc.type="EndscreenElement";var gk=Tc;var kc=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new l(e.title),this.author=new l(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new l(e.videoCountText)}};n(kc,"EndScreenPlaylist");kc.type="EndScreenPlaylist";var lg=kc;var Ic=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new O(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new l(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new l(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Ic,"EndScreenVideo");Ic.type="EndScreenVideo";var cg=Ic;var Sc=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(Sc,"ExpandableTab");Sc.type="ExpandableTab";var ks=Sc;var Cc=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Cc,"ExpandedShelfContents");Cc.type="ExpandedShelfContents";var xk=Cc;var Ec=class extends a{constructor(e){super(),this.dialog_message=new l(e.dialogMessage),this.confirm_label=new l(e.confirmLabel)}};n(Ec,"FancyDismissibleDialog");Ec.type="FancyDismissibleDialog";var yk=Ec;var Pc=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,ye)}};n(Pc,"FeedFilterChipBar");Pc.type="FeedFilterChipBar";var Ti=Pc;var Nc=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.endpoint=new g(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Nc,"FeedNudge");Nc.type="FeedNudge";var bk=Nc;var Ac=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Ac,"FeedTabbedHeader");Ac.type="FeedTabbedHeader";var dg=Ac;var Rc=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,[Oo,qi])})),this.style=e.style}};n(Rc,"FlexibleActionsView");Rc.type="FlexibleActionsView";var pg=Rc;var Vc=class extends a{constructor(e){super(),this.title=new l(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new l(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Vc,"GameDetails");Vc.type="GameDetails";var wk=Vc;var Mc=class extends a{constructor(e){var i,o,s;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};n(Mc,"Grid");Mc.type="Grid";var Wo=Mc;var Oc=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new l(e.subscriberCountText),this.video_count=new l(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(Oc,"GridChannel");Oc.type="GridChannel";var fg=Oc;var Dc=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Dc,"GridHeader");Dc.type="GridHeader";var Tk=Dc;var Lc=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new l(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new l(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new l(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new l(e.videoCountText),this.video_count_short=new l(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Lc,"GridMix");Lc.type="GridMix";var kk=Lc;var Bc=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new l(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new l(e.lengthText):o!=null&&o.text?new l(o.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges,lt),this.metadata=new l(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Bc,"GridMovie");Bc.type="GridMovie";var Ik=Bc;var Fc=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new l(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new O(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new l(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>w.fromResponse(o)))||[])||null,this.video_count=new l(e.thumbnailText),this.video_count_short=new l(e.videoCountShortText)}};n(Fc,"GridPlaylist");Fc.type="GridPlaylist";var mg=Fc;var Yc=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(Yc,"ShowCustomThumbnail");Yc.type="ShowCustomThumbnail";var hg=Yc;var jc=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new l(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(jc,"ThumbnailOverlayBottomPanel");jc.type="ThumbnailOverlayBottomPanel";var _g=jc;var Uc=class extends a{constructor(e){super(),this.title=new l(e.title),this.thumbnail_renderer=re(e.thumbnailRenderer,hg),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new l(e.longBylineText),this.thumbnail_overlays=$e(e.thumbnailOverlays,_g),this.author=new O(e.shortBylineText,void 0)}};n(Uc,"GridShow");Uc.type="GridShow";var Sk=Uc;var Wc=class extends a{constructor(e){var i,o;super();let s=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new l(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new l(e.publishedTimeText),this.duration=e.lengthText?new l(e.lengthText):s!=null&&s.text?new l(s.text):null,this.author=e.shortBylineText&&new O(e.shortBylineText,e.ownerBadges),this.views=new l(e.viewCountText),this.short_view_count=new l(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=c.parseItem(e.menu,j),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new l(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(Wc,"GridVideo");Wc.type="GridVideo";var vg=Wc;var Hc=class extends a{constructor(e){super(),this.title=new l(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(Hc,"GuideEntry");Hc.type="GuideEntry";var Ho=Hc;var Jc=class extends a{constructor(e){super(),this.expander_item=re(e.expanderItem,Ho),this.collapser_item=re(e.collapserItem,Ho),this.expandable_items=$e(e.expandableItems)}};n(Jc,"GuideCollapsibleEntry");Jc.type="GuideCollapsibleEntry";var Ck=Jc;var Gc=class extends a{constructor(e){super(),this.header_entry=re(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=$e(e.sectionItems)}};n(Gc,"GuideCollapsibleSectionEntry");Gc.type="GuideCollapsibleSectionEntry";var Ek=Gc;var zc=class extends Ho{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(zc,"GuideDownloadsEntry");zc.type="GuideDownloadsEntry";var Pk=zc;var $c=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new l(e.formattedTitle)),this.items=$e(e.items)}};n($c,"GuideSection");$c.type="GuideSection";var Is=$c;var Kc=class extends Is{};n(Kc,"GuideSubscriptionsSection");Kc.type="GuideSubscriptionsSection";var gg=Kc;var qc=class extends a{constructor(e){super(),this.hashtag=new l(e.hashtag),this.hashtag_info=new l(e.hashtagInfoText)}};n(qc,"HashtagHeader");qc.type="HashtagHeader";var xg=qc;var Xc=class extends a{constructor(e){super(),this.hashtag=new l(e.hashtag),this.hashtag_info_text=new l(e.hashtagInfoText),this.hashtag_thumbnail=w.fromResponse(e.hashtagThumbnail),this.endpoint=new g(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new l(e.hashtagVideoCount),this.hashtag_channel_count=new l(e.hashtagChannelCount)}};n(Xc,"HashtagTile");Xc.type="HashtagTile";var Nk=Xc;var Qc=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};n(Qc,"HeroPlaylistThumbnail");Qc.type="HeroPlaylistThumbnail";var Ak=Qc;var Zc=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:w.fromResponse(e.thumbnail.image),endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:w.fromResponse(e.backgroundImage.image),gradient_image:w.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};n(Zc,"Panel");Zc.type="Panel";var ed=class extends a{constructor(e){super(),this.panels=$(e.highlightsCarousel.panels.map(i=>new Zc(i)))}};n(ed,"HighlightsCarousel");ed.type="HighlightsCarousel";var td=ed;var id=class extends a{constructor(e){super(),this.suggestion=new l(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};n(id,"SearchSuggestion");id.type="SearchSuggestion";var yg=id;var od=class extends yg{constructor(e){super(e)}};n(od,"HistorySuggestion");od.type="HistorySuggestion";var Rk=od;var nd=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}get contents(){return this.items}};n(nd,"HorizontalMovieList");nd.type="HorizontalMovieList";var Vk=nd;var sd=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new l(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};n(sd,"IconLink");sd.type="IconLink";var bg=sd;var rd=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.style=e.style}};n(rd,"ImageBannerView");rd.type="ImageBannerView";var wg=rd;var ad=class extends a{constructor(e){super(),this.including_results_for=new l(e.includingResultsFor),this.corrected_query=new l(e.correctedQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new l(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new l(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new g(e.originalQueryEndpoint):void 0}};n(ad,"IncludingResultsFor");ad.type="IncludingResultsFor";var Mk=ad;var ud=class extends a{constructor(e){super(),this.title=new l(e.title),this.source=new l(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new l(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>l.fromAttributed(i))),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(ud,"InfoPanelContent");ud.type="InfoPanelContent";var Tg=ud;var ld=class extends a{constructor(e){var i;super(),this.title=new l(e.title),this.menu=c.parseItem(e.menu,j),this.content=c.parseItem(e.content,Tg),e.headerEndpoint&&(this.header_endpoint=new g(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(ld,"InfoPanelContainer");ld.type="InfoPanelContainer";var kg=ld;var cd=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new l(e.title),this.description=new l(e.description),this.metadata=new l(e.metadata),this.badges=c.parseArray(e.badges,lt),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[ze,I]),this.auto_generated=new l(e.autoGenerated)}};n(cd,"InteractiveTabbedHeader");cd.type="InteractiveTabbedHeader";var Ig=cd;var dd=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(dd,"ItemSectionHeader");dd.type="ItemSectionHeader";var Ss=dd;var pd=class extends a{constructor(e){super(),this.title=new l(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};n(pd,"ItemSectionTab");pd.type="Tab";var Sg=pd;var fd=class extends a{constructor(e){super(),this.title=new l(e.title),this.tabs=c.parseArray(e.tabs,Sg),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(fd,"ItemSectionTabbedHeader");fd.type="ItemSectionTabbedHeader";var Cs=fd;var md=class extends a{constructor(e){super(),this.filter_menu=c.parseItem(e.filterMenu,Jo.SortFilterSubMenu)}};n(md,"SortFilterHeader");md.type="SortFilterHeader";var Cg=md;var hd=class extends a{constructor(e){var i,o,s;super(),this.header=c.parseItem(e.header,[$i,Ss,Cs,Cg]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(hd,"ItemSection");hd.type="ItemSection";var be=hd;var _d=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};n(_d,"LikeButton");_d.type="LikeButton";var Eg=_d;var vd=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,qi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(vd,"LikeButtonView");vd.type="LikeButtonView";var Pg=vd;var gd=class extends a{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new l(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new l(e.clientMessages.unableToReconnectMessage),fatal_error:new l(e.clientMessages.fatalError),reconnected_message:new l(e.clientMessages.reconnectedMessage),generic_error:new l(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(gd,"LiveChat");gd.type="LiveChat";var Ng=gd;var xd=class extends a{constructor(e){super(),this.text=new l(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(xd,"LiveChatBannerHeader");xd.type="LiveChatBannerHeader";var Ag=xd;var yd=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,Ag),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(yd,"LiveChatBanner");yd.type="LiveChatBanner";var Rg=yd;var bd=class extends a{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,Rg)}};n(bd,"AddBannerToLiveChatCommand");bd.type="AddBannerToLiveChatCommand";var Ok=bd;var wd=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(wd,"AddChatItemAction");wd.type="AddChatItemAction";var Vg=wd;var Td=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(Td,"AddLiveChatTickerItemAction");Td.type="AddLiveChatTickerItemAction";var Dk=Td;var kd=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(kd,"DimChatItemAction");kd.type="DimChatItemAction";var Lk=kd;var Id=class extends a{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,I),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new l(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Id,"LiveChatAutoModMessage");Id.type="LiveChatAutoModMessage";var Bk=Id;var Sd=class extends a{constructor(e){super(),this.poll_question=new l(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new l(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Sd,"LiveChatBannerPoll");Sd.type="LiveChatBannerPoll";var Fk=Sd;var Cd=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new l(e.headerSubtext),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Cd,"LiveChatMembershipItem");Cd.type="LiveChatMembershipItem";var Yk=Cd;var Ed=class extends a{constructor(e){super(),this.message=new l(e.message),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new l(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new l(e.timestampText).toString(),this.id=e.id}};n(Ed,"LiveChatPaidMessage");Ed.type="LiveChatPaidMessage";var jk=Ed;var Pd=class extends a{constructor(e){super(),this.id=e.id,this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new l(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Pd,"LiveChatPaidSticker");Pd.type="LiveChatPaidSticker";var Uk=Pd;var Nd=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Nd,"LiveChatPlaceholderItem");Nd.type="LiveChatPlaceholderItem";var Wk=Nd;var Ad=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new l(e.creatorCustomMessage)}};n(Ad,"LiveChatProductItem");Ad.type="LiveChatProductItem";var Hk=Ad;var Rd=class extends a{constructor(e){super(),this.message=new l(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Rd,"LiveChatRestrictedParticipation");Rd.type="LiveChatRestrictedParticipation";var Jk=Rd;var Go=class extends a{constructor(e){super(),this.message=new l(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Go,"LiveChatMessageBase");Go.type="LiveChatMessageBase";var Vd=class extends Go{constructor(e){super(e),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Vd,"LiveChatTextMessage");Vd.type="LiveChatTextMessage";var Gk=Vd;var Md=class extends a{constructor(e){var i,o;super(),this.author=new O(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new l(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};n(Md,"LiveChatTickerPaidMessageItem");Md.type="LiveChatTickerPaidMessageItem";var Mg=Md;var Od=class extends Mg{};n(Od,"LiveChatTickerPaidStickerItem");Od.type="LiveChatTickerPaidStickerItem";var zk=Od;var Dd=class extends a{constructor(e){super(),this.id=e.id,this.detail=new l(e.detailText),this.author=new O(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Dd,"LiveChatTickerSponsorItem");Dd.type="LiveChatTickerSponsorItem";var $k=Dd;var Ld=class extends Go{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n(Ld,"LiveChatViewerEngagementMessage");Ld.type="LiveChatViewerEngagementMessage";var Kk=Ld;var Bd=class extends a{constructor(e){super(),this.poll_question=new l(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new l(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Bd,"PollHeader");Bd.type="PollHeader";var qk=Bd;var Fd=class extends a{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n(Fd,"LiveChatActionPanel");Fd.type="LiveChatActionPanel";var Og=Fd;var Yd=class extends a{constructor(e){super(),this.deleted_state_message=new l(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Yd,"MarkChatItemAsDeletedAction");Yd.type="MarkChatItemAsDeletedAction";var Xk=Yd;var jd=class extends a{constructor(e){super(),this.deleted_state_message=new l(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(jd,"MarkChatItemsByAuthorAsDeletedAction");jd.type="MarkChatItemsByAuthorAsDeletedAction";var Qk=jd;var Ud=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Ud,"RemoveBannerForLiveChatCommand");Ud.type="RemoveBannerForLiveChatCommand";var Zk=Ud;var Wd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Wd,"RemoveChatItemAction");Wd.type="RemoveChatItemAction";var eI=Wd;var Hd=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(Hd,"RemoveChatItemByAuthorAction");Hd.type="RemoveChatItemByAuthorAction";var tI=Hd;var Jd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(Jd,"ReplaceChatItemAction");Jd.type="ReplaceChatItemAction";var iI=Jd;var Gd=class extends a{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(Gd,"ReplayChatItemAction");Gd.type="ReplayChatItemAction";var oI=Gd;var zd=class extends a{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,Og)}};n(zd,"ShowLiveChatActionPanelAction");zd.type="ShowLiveChatActionPanelAction";var nI=zd;var $d=class extends a{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n($d,"ShowLiveChatDialogAction");$d.type="ShowLiveChatDialogAction";var sI=$d;var Kd=class extends a{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(Kd,"ShowLiveChatTooltipCommand");Kd.type="ShowLiveChatTooltipCommand";var rI=Kd;var qd=class extends a{constructor(e){super(),this.date_text=new l(e.dateText).toString()}};n(qd,"UpdateDateTextAction");qd.type="UpdateDateTextAction";var Dg=qd;var Xd=class extends a{constructor(e){super(),this.description=new l(e.description)}};n(Xd,"UpdateDescriptionAction");Xd.type="UpdateDescriptionAction";var Lg=Xd;var Qd=class extends a{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n(Qd,"UpdateLiveChatPollAction");Qd.type="UpdateLiveChatPollAction";var aI=Qd;var Zd=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Zd,"UpdateTitleAction");Zd.type="UpdateTitleAction";var Bg=Zd;var ep=class extends a{constructor(e){super(),this.default_text=new l(e.defaultText).toString(),this.toggled_text=new l(e.toggledText).toString(),this.button_id=e.buttonId}};n(ep,"UpdateToggleButtonTextAction");ep.type="UpdateToggleButtonTextAction";var Fg=ep;var tp=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new l(i.viewCount),this.extra_short_view_count=new l(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new l(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(tp,"UpdateViewershipAction");tp.type="UpdateViewershipAction";var Yg=tp;var ip=class extends lt{constructor(e){super(e),this.custom_thumbnail=w.fromResponse(e.customThumbnail)}};n(ip,"LiveChatAuthorBadge");ip.type="LiveChatAuthorBadge";var uI=ip;var op=class extends a{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new l(i))}};n(op,"LiveChatDialog");op.type="LiveChatDialog";var lI=op;var np=class extends a{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,j),this.collapse_button=c.parseItem(e.collapseButton,I),this.view_selector=c.parseItem(e.viewSelector,Ft)}};n(np,"LiveChatHeader");np.type="LiveChatHeader";var jg=np;var sp=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,I)}};n(sp,"LiveChatItemList");sp.type="LiveChatItemList";var Ug=sp;var rp=class extends a{constructor(e){super(),this.author_name=new l(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,I),this.target_id=e.targetId}};n(rp,"LiveChatMessageInput");rp.type="LiveChatMessageInput";var cI=rp;var ap=class extends a{constructor(e){super(),this.name=new l(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(ap,"LiveChatParticipant");ap.type="LiveChatParticipant";var Wg=ap;var up=class extends a{constructor(e){super(),this.title=new l(e.title),this.participants=c.parseArray(e.participants,Wg)}};n(up,"LiveChatParticipantsList");up.type="LiveChatParticipantsList";var Hg=up;var lp=class extends a{constructor(e){super(),this.title=l.fromAttributed(e.title),this.metadata=c.parseItem(e.metadata,ws)}};n(lp,"LockupMetadataView");lp.type="LockupMetadataView";var Jg=lp;var cp=class extends a{constructor(e){super(),this.content_image=c.parseItem(e.contentImage,Ov),this.metadata=c.parseItem(e.metadata,Jg),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap)}};n(cp,"LockupView");cp.type="LockupView";var Gg=cp;var dp=class extends I{constructor(e){super(e)}};n(dp,"MenuNavigationItem");dp.type="MenuNavigationItem";var zg=dp;var pp=class extends I{constructor(e){super(e)}};n(pp,"MenuServiceItem");pp.type="MenuServiceItem";var Xi=pp;var fp=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[zg,Xi])}};n(fp,"MenuPopup");fp.type="MenuPopup";var dI=fp;var mp=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};n(mp,"MenuServiceItemDownload");mp.type="MenuServiceItemDownload";var pI=mp;var hp=class extends a{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(hp,"MultiPageMenu");hp.type="MultiPageMenu";var fI=hp;var _p=class extends a{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(_p,"MultiPageMenuNotificationSection");_p.type="MultiPageMenuNotificationSection";var mI=_p;var vp=class extends a{constructor(e){super()}};n(vp,"MusicMenuItemDivider");vp.type="MusicMenuItemDivider";var $g=vp;var gp=class extends a{constructor(e){super(),this.title=new l(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};n(gp,"MusicMultiSelectMenuItem");gp.type="MusicMultiSelectMenuItem";var jt=gp;var xp=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new l((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[jt,$g])}};n(xp,"MusicMultiSelectMenu");xp.type="MusicMultiSelectMenu";var Kg=xp;var yp=class extends a{constructor(e){super(),this.title=new l(e.title),this.buttons=c.parse(e.buttons)}};n(yp,"SimpleMenuHeader");yp.type="SimpleMenuHeader";var qg=yp;var bp=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};n(bp,"MerchandiseItem");bp.type="MerchandiseItem";var hI=bp;var wp=class extends a{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(wp,"MerchandiseShelf");wp.type="MerchandiseShelf";var Xg=wp;var Tp=class extends a{constructor(e){super(),this.title=new l(e.title),this.contents=e.contents.map(i=>new l(i))}};n(Tp,"MetadataRow");Tp.type="MetadataRow";var _I=Tp;var kp=class extends a{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(kp,"MetadataRowContainer");kp.type="MetadataRowContainer";var Qg=kp;var Ip=class extends a{constructor(e){super(),this.content=new l(e.content),this.has_divider_line=e.hasDividerLine}};n(Ip,"MetadataRowHeader");Ip.type="MetadataRowHeader";var vI=Ip;var Sp=class extends a{constructor(e){super(),this.section_list=c.parseItem(e)}};n(Sp,"MetadataScreen");Sp.type="MetadataScreen";var gI=Sp;var Cp=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=w.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Cp,"MicroformatData");Cp.type="MicroformatData";var ii=Cp;var Ep=class extends ti{constructor(e){super(e)}};n(Ep,"Mix");Ep.type="Mix";var xI=Ep;var Pp=class extends a{constructor(e){super(),this.title=new l(e.title),this.content=new l(e.content),this.button=c.parseItem(e.button,I)}};n(Pp,"ModalWithTitleAndButton");Pp.type="ModalWithTitleAndButton";var yI=Pp;var Np=class extends a{constructor(e){var i,o,s;super();let r=((i=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new l(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new l(e.descriptionSnippet)),this.top_metadata_items=new l(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new O(e.longBylineText,e.ownerBadges,(s=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new l(e.lengthText).toString():new l(r).toString(),seconds:Be(e.lengthText?new l(e.lengthText).toString():new l(r).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,j)}};n(Np,"Movie");Np.type="Movie";var bI=Np;var Ap=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new w(o)).sort((o,s)=>s.width-o.width)}};n(Ap,"MovingThumbnail");Ap.type="MovingThumbnail";var wI=Ap;var Rp=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Rp,"MusicCardShelfHeaderBasic");Rp.type="MusicCardShelfHeaderBasic";var Zg=Rp;var Vp=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Vp,"MusicInlineBadge");Vp.type="MusicInlineBadge";var Es=Vp;var Mp=class extends a{constructor(e){var i,o;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(Mp,"MusicPlayButton");Mp.type="MusicPlayButton";var Ps=Mp;var Op=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,Ps),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Op,"MusicItemThumbnailOverlay");Op.type="MusicItemThumbnailOverlay";var oi=Op;var Dp=class extends a{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};n(Dp,"MusicThumbnail");Dp.type="MusicThumbnail";var Je=Dp;var Lp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,Je),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.buttons=c.parseArray(e.buttons,I),this.menu=c.parseItem(e.menu,j),this.on_tap=new g(e.onTap),this.header=c.parseItem(e.header,Zg),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,Es),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,oi),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(Lp,"MusicCardShelf");Lp.type="MusicCardShelf";var e0=Lp;var Bp=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"strapline")&&(this.strapline=new l(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,Je)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,bg))}};n(Bp,"MusicCarouselShelfBasicHeader");Bp.type="MusicCarouselShelfBasicHeader";var t0=Bp;var Fp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,Je),this.overlay=c.parseItem(e.overlay,oi),this.on_tap=new g(e.onTap),this.menu=c.parseItem(e.menu,j),this.subtitle=new l(e.subtitle),this.title=new l(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new l(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new l(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(Fp,"MusicMultiRowListItem");Fp.type="MusicMultiRowListItem";var i0=Fp;var Yp=class extends a{constructor(e){super(),this.button_text=new l(e.buttonText).toString(),this.endpoint=new g(e.clickCommand)}};n(Yp,"MusicNavigationButton");Yp.type="MusicNavigationButton";var Ns=Yp;var jp=class extends a{constructor(e){super(),this.title=new l(e.text),this.display_priority=e.displayPriority}};n(jp,"MusicResponsiveListItemFixedColumn");jp.type="musicResponsiveListItemFlexColumnRenderer";var o0=jp;var Up=class extends a{constructor(e){super(),this.title=new l(e.text),this.display_priority=e.displayPriority}};n(Up,"MusicResponsiveListItemFlexColumn");Up.type="MusicResponsiveListItemFlexColumn";var n0=Up;var xt,As,Tb,II,TI,kI,SI,CI,EI,PI,NI,AI,Wp=class extends a{constructor(e){var i,o,s,r,u,p;super(),xt.add(this),As.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,n0),this.fixed_columns=c.parseArray(e.fixedColumns,o0),k(this,As,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint));let f=(p=(u=(r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||u===void 0?void 0:u.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(h=>{var x,b,T,S;return((S=(T=(b=(x=h.title.endpoint)===null||x===void 0?void 0:x.payload)===null||b===void 0?void 0:b.browseEndpointContextSupportedConfigs)===null||T===void 0?void 0:T.browseEndpointContextMusicConfig)===null||S===void 0?void 0:S.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,xt,"m",NI).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,xt,"m",AI).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,xt,"m",SI).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,xt,"m",CI).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,xt,"m",EI).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",d(this,xt,"m",PI).call(this);break;default:this.flex_columns[1]?d(this,xt,"m",II).call(this):d(this,xt,"m",Tb).call(this)}Reflect.has(e,"index")&&(this.index=new l(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,Je)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,j)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,oi))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Wp,"MusicResponsiveListItem");As=new WeakMap,xt=new WeakSet,Tb=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),II=n(function(){var e,i,o,s,r,u,p;switch((p=(u=(r=(s=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.watchEndpointMusicSupportedConfigs)===null||u===void 0?void 0:u.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",d(this,xt,"m",kI).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",d(this,xt,"m",TI).call(this);break;default:d(this,xt,"m",Tb).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),TI=n(function(){var e,i,o,s,r,u,p,f,m,h,x,b,T,S,C;this.id=d(this,As,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let P=((r=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(H=>/^\d+$/.test(H.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((p=(u=this.fixed_columns.first())===null||u===void 0?void 0:u.title)===null||p===void 0?void 0:p.toString());P&&(this.duration={text:P,seconds:Be(P)});let R=((m=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(H=>nt(H)&&H.endpoint&&H.endpoint.payload.browseId.startsWith("MPR")))||((x=(h=this.flex_columns.at(2))===null||h===void 0?void 0:h.title.runs)===null||x===void 0?void 0:x.find(H=>nt(H)&&H.endpoint&&H.endpoint.payload.browseId.startsWith("MPR")));R&&nt(R)&&(this.album={id:(T=(b=R.endpoint)===null||b===void 0?void 0:b.payload)===null||T===void 0?void 0:T.browseId,name:R.text,endpoint:R.endpoint});let V=(C=(S=this.flex_columns.at(1))===null||S===void 0?void 0:S.title.runs)===null||C===void 0?void 0:C.filter(H=>nt(H)&&H.endpoint&&H.endpoint.payload.browseId.startsWith("UC"));V&&(this.artists=V.map(H=>{var _e,me;return{name:H.text,channel_id:nt(H)?(me=(_e=H.endpoint)===null||_e===void 0?void 0:_e.payload)===null||me===void 0?void 0:me.browseId:void 0,endpoint:nt(H)?H.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),kI=n(function(){var e,i,o,s,r,u,p,f,m,h;this.id=d(this,As,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(r=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||r===void 0?void 0:r.filter(T=>nt(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(T=>{var S,C;return{name:T.text,channel_id:nt(T)?(C=(S=T.endpoint)===null||S===void 0?void 0:S.payload)===null||C===void 0?void 0:C.browseId:void 0,endpoint:nt(T)?T.endpoint:void 0}}));let b=((p=(u=this.flex_columns[1].title.runs)===null||u===void 0?void 0:u.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((h=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||h===void 0?void 0:h.text);b&&(this.duration={text:b,seconds:Be(b)})},"_MusicResponsiveListItem_parseVideo"),SI=n(function(){var e,i,o,s,r,u;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((u=(r=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||r===void 0?void 0:r.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||u===void 0?void 0:u.text)||""},"_MusicResponsiveListItem_parseArtist"),CI=n(function(){var e,i,o,s;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((s=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),EI=n(function(){var e,i;this.id=d(this,As,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),PI=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),NI=n(function(){var e,i,o,s,r,u,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(x=>nt(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));h&&nt(h)&&(this.author={name:h.text,channel_id:(u=(r=h.endpoint)===null||r===void 0?void 0:r.payload)===null||u===void 0?void 0:u.browseId,endpoint:h.endpoint}),this.year=(m=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),AI=n(function(){var e,i,o,s,r,u,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(s=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||s===void 0?void 0:s.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let h=(u=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||u===void 0?void 0:u.find(x=>nt(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));h&&nt(h)&&(this.author={name:h.text,channel_id:(f=(p=h.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:h.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Wp.type="MusicResponsiveListItem";var ni=Wp;var Hp=class extends a{constructor(e){var i,o,s,r,u,p,f,m,h,x,b,T,S,C,P,R,V,H,_e,me,Se,K;switch(super(),this.title=new l(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new l(e.subtitle),this.badges=c.parse(e.subtitleBadges),(m=(f=(p=(u=this.endpoint)===null||u===void 0?void 0:u.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(h=this.endpoint)===null||h===void 0?void 0:h.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((b=this.subtitle.runs)===null||b===void 0)&&b[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((S=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find(X=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(X.text)))===null||S===void 0?void 0:S.text)||"";else if(this.item_type=="playlist"){let X=(C=this.subtitle.runs)===null||C===void 0?void 0:C.find(q=>q.text.match(/\d+ songs|song/));this.item_count=X?X.text:null}else if(this.item_type=="album"){let X=(P=this.subtitle.runs)===null||P===void 0?void 0:P.filter(q=>{var ee,ue;return(ue=(ee=q.endpoint)===null||ee===void 0?void 0:ee.payload)===null||ue===void 0?void 0:ue.browseId.startsWith("UC")});X&&(this.artists=X.map(q=>{var ee,ue;return{name:q.text,channel_id:(ue=(ee=q.endpoint)===null||ee===void 0?void 0:ee.payload)===null||ue===void 0?void 0:ue.browseId,endpoint:q.endpoint}})),this.year=(R=this.subtitle.runs)===null||R===void 0?void 0:R.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((H=(V=this===null||this===void 0?void 0:this.subtitle.runs)===null||V===void 0?void 0:V.find(q=>q==null?void 0:q.text.match(/(.*?) views/)))===null||H===void 0?void 0:H.text)||"N/A";let X=(_e=this.subtitle.runs)===null||_e===void 0?void 0:_e.find(q=>{var ee,ue,De;return(De=(ue=(ee=q.endpoint)===null||ee===void 0?void 0:ee.payload)===null||ue===void 0?void 0:ue.browseId)===null||De===void 0?void 0:De.startsWith("UC")});X&&(this.author={name:X==null?void 0:X.text,channel_id:(Se=(me=X==null?void 0:X.endpoint)===null||me===void 0?void 0:me.payload)===null||Se===void 0?void 0:Se.browseId,endpoint:X==null?void 0:X.endpoint})}else if(this.item_type=="song"){let X=(K=this.subtitle.runs)===null||K===void 0?void 0:K.filter(q=>{var ee,ue;return(ue=(ee=q.endpoint)===null||ee===void 0?void 0:ee.payload)===null||ue===void 0?void 0:ue.browseId.startsWith("UC")});X&&(this.artists=X.map(q=>{var ee,ue;return{name:q==null?void 0:q.text,channel_id:(ue=(ee=q==null?void 0:q.endpoint)===null||ee===void 0?void 0:ee.payload)===null||ue===void 0?void 0:ue.browseId,endpoint:q==null?void 0:q.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,oi),this.menu=c.parseItem(e.menu,j)}};n(Hp,"MusicTwoRowItem");Hp.type="MusicTwoRowItem";var Rs=Hp;var Jp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,t0),this.contents=c.parseArray(e.contents,[Rs,ni,i0,Ns]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Jp,"MusicCarouselShelf");Jp.type="MusicCarouselShelf";var Fe=Jp;var Gp=class extends a{constructor(e){super(),this.description=new l(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new l(e.footer)}};n(Gp,"MusicDescriptionShelf");Gp.type="MusicDescriptionShelf";var Qi=Gp;var zp=class extends a{constructor(e){var i,o,s,r,u,p,f,m,h;super(),this.title=new l(e.title),this.description=new l(e.description),this.subtitle=new l(e.subtitle),this.second_subtitle=new l(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((p=(u=this.second_subtitle.runs)===null||u===void 0?void 0:u[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let x=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(b=>{var T,S;return(S=(T=b==null?void 0:b.endpoint)===null||T===void 0?void 0:T.payload)===null||S===void 0?void 0:S.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(h=(m=x.endpoint)===null||m===void 0?void 0:m.payload)===null||h===void 0?void 0:h.browseId,endpoint:x.endpoint}),this.menu=c.parseItem(e.menu)}};n(zp,"MusicDetailHeader");zp.type="MusicDetailHeader";var Vs=zp;var $p=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n($p,"MusicDownloadStateBadge");$p.type="MusicDownloadStateBadge";var RI=$p;var Kp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.edit_header=c.parseItem(e.editHeader),this.playlist_id=e.playlistId}};n(Kp,"MusicEditablePlaylistDetailHeader");Kp.type="MusicEditablePlaylistDetailHeader";var s0=Kp;var qp=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,Ts):null}};n(qp,"MusicElementHeader");qp.type="MusicElementHeader";var Xp=qp;var Qp=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new l(e.title))}};n(Qp,"MusicHeader");Qp.type="MusicHeader";var Zi=Qp;var Zp=class extends a{constructor(e){super(),this.title=new l(e.title),this.description=new l(e.description),this.thumbnail=c.parseItem(e.thumbnail,Je)}};n(Zp,"MusicImmersiveHeader");Zp.type="MusicImmersiveHeader";var r0=Zp;var ef=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(ef,"ActionButton");ef.type="ActionButton";var tf=class{constructor(e){this.image=w.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new ef(i))}};n(tf,"Panel");tf.type="Panel";var of=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new tf(i))}};n(of,"MusicLargeCardItemCarousel");of.type="MusicLargeCardItemCarousel";var VI=of;var nf=class extends a{constructor(e){super(),this.title=new l(e.title),this.edit_title=new l(e.editTitle),this.edit_description=new l(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new g(e.collaborationSettingsCommand),this.privacy_dropdown=c.parseItem(e.privacyDropdown,Di)}};n(nf,"MusicPlaylistEditHeader");nf.type="MusicPlaylistEditHeader";var MI=nf;var sf=class extends a{constructor(e){var i,o,s;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,ni),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(sf,"MusicPlaylistShelf");sf.type="MusicPlaylistShelf";var zo=sf;var rf=class extends a{constructor(e){var i,o,s,r,u;super(),this.title=new l(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new l(e.lengthText).toString(),seconds:Be(new l(e.lengthText).toString())};let p=(i=new l(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var h,x,b;return(b=(x=(h=m.endpoint)===null||h===void 0?void 0:h.payload)===null||x===void 0?void 0:x.browseId)===null||b===void 0?void 0:b.startsWith("MPR")}),f=(o=new l(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var h,x,b;return(b=(x=(h=m.endpoint)===null||h===void 0?void 0:h.payload)===null||x===void 0?void 0:x.browseId)===null||b===void 0?void 0:b.startsWith("UC")});this.author=new l(e.shortBylineText).toString(),p&&(this.album={id:(r=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.browseId,name:p.text,year:(u=new l(e.longBylineText).runs)===null||u===void 0?void 0:u.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var h,x;return{name:m.text,channel_id:(x=(h=m.endpoint)===null||h===void 0?void 0:h.payload)===null||x===void 0?void 0:x.browseId,endpoint:m.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(rf,"PlaylistPanelVideo");rf.type="PlaylistPanelVideo";var ki=rf;var af=class extends a{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,ki),Reflect.has(e,"counterpart")&&(this.counterpart=$(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,ki))||[]))}};n(af,"PlaylistPanelVideoWrapper");af.type="PlaylistPanelVideoWrapper";var a0=af;var uf=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.title=e.title,this.title_text=new l(e.titleText),this.contents=c.parseArray(e.contents,[a0,ki,Fi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(u=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(uf,"PlaylistPanel");uf.type="PlaylistPanel";var si=uf;var lf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,si)}};n(lf,"MusicQueue");lf.type="MusicQueue";var Ms=lf;var cf=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,Je),this.buttons=c.parseArray(e.buttons,[sg,Ne,Ps,I,j]),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.strapline_text_one=new l(e.straplineTextOne),this.strapline_thumbnail=c.parseItem(e.straplineThumbnail,Je),this.second_subtitle=new l(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=c.parseArray(e.subtitleBadge,Es)),Reflect.has(e,"description")&&(this.description=c.parseItem(e.description,Qi))}};n(cf,"MusicResponsiveHeader");cf.type="MusicResponsiveHeader";var Os=cf;var df=class extends a{constructor(e){var i,o,s,r;super(),this.title=new l(e.title),this.contents=c.parseArray(e.contents,ni),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new l(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(df,"MusicShelf");df.type="MusicShelf";var ke=df;var pf=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(pf,"MusicSideAlignedItem");pf.type="MusicSideAlignedItem";var u0=pf;var ff=class extends a{constructor(e){super(),this.title=new l(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,Kg)}};n(ff,"MusicSortFilterButton");ff.type="MusicSortFilterButton";var mf=ff;var hf=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};n(hf,"MusicTastebuilderShelfThumbnail");hf.type="MusicTastebuilderShelfThumbnail";var l0=hf;var _f=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,l0),this.primary_text=new l(e.primaryText),this.secondary_text=new l(e.secondaryText),this.action_button=c.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};n(_f,"MusicTasteBuilderShelf");_f.type="MusicTasteBuilderShelf";var c0=_f;var vf=class extends a{constructor(e){var i,o;super(),this.title=new l(e.title),this.thumbnail=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,j),this.foreground_thumbnail=e.foregroundThumbnail?w.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(vf,"MusicVisualHeader");vf.type="MusicVisualHeader";var d0=vf;var gf=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new l(e.shortMessage),this.sent_time=new l(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(gf,"Notification");gf.type="Notification";var p0=gf;var xf=class extends a{constructor(e){super(),this.title=c.parseItem(e.title,rg),this.image=c.parseItem(e.image,[ls,Xv]),this.metadata=c.parseItem(e.metadata,ws),this.actions=c.parseItem(e.actions,pg),this.description=c.parseItem(e.description,ig),this.attributation=c.parseItem(e.attributation,G_),this.banner=c.parseItem(e.banner,wg)}};n(xf,"PageHeaderView");xf.type="PageHeaderView";var f0=xf;var yf=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,f0)}};n(yf,"PageHeader");yf.type="PageHeader";var ri=yf;var bf=class extends a{constructor(e){super(),this.header_text=new l(e.headerText).toString(),this.body_text=new l(e.bodyText).toString(),this.page_title=new l(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(bf,"PageIntroduction");bf.type="PageIntroduction";var m0=bf;var wf=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new g(e.onClickCommand),this.content_description=new l(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new l(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(wf,"PivotButton");wf.type="PivotButton";var h0=wf;var Tf=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Tf,"PlayerAnnotationsExpanded");Tf.type="PlayerAnnotationsExpanded";var _0=Tf;var kf=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new l(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new l(i.languageName)})))}};n(kf,"PlayerCaptionsTracklist");kf.type="PlayerCaptionsTracklist";var v0=kf;var If=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(If,"PlayerOverflow");If.type="PlayerOverflow";var g0=If;var Sf=class extends a{constructor(e){super(),this.overflow=c.parseItem(e.overflow,g0)}};n(Sf,"PlayerControlsOverlay");Sf.type="PlayerControlsOverlay";var OI=Sf;var Cf=class extends a{constructor(e){super(),this.subreason=new l(e.subreason),this.reason=new l(e.reason),this.proceed_button=c.parseItem(e.proceedButton,I),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Cf,"PlayerErrorMessage");Cf.type="PlayerErrorMessage";var DI=Cf;var Ef=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(Ef,"PlayerLegacyDesktopYpcOffer");Ef.type="PlayerLegacyDesktopYpcOffer";var LI=Ef;var Pf=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Pf,"YpcTrailer");Pf.type="YpcTrailer";var x0=Pf;var Nf=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,x0)}};n(Nf,"PlayerLegacyDesktopYpcTrailer");Nf.type="PlayerLegacyDesktopYpcTrailer";var Af=Nf;var Rf=class extends a{constructor(e){super();let[i,o,s,r,u]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(s,10),columns:parseInt(r,10),rows:parseInt(u,10)}}};n(Rf,"PlayerLiveStoryboardSpec");Rf.type="PlayerLiveStoryboardSpec";var y0=Rf;var Vf=class extends a{constructor(e){var i,o;super(),this.title=new l(e.title),this.description=new l(e.description),this.thumbnails=w.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(Vf,"PlayerMicroformat");Vf.type="PlayerMicroformat";var Ct=Vf;var Mf=class extends a{constructor(e){super(),this.title=new l(e.title),this.video_id=e.videoId,this.video_title=new l(e.videoTitle),this.short_view_count=new l(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new l(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new O(e.byline),this.cancel_button=c.parseItem(e.cancelButton,I),this.next_button=c.parseItem(e.nextButton,I),this.close_button=c.parseItem(e.closeButton,I)}};n(Mf,"PlayerOverlayAutoplay");Mf.type="PlayerOverlayAutoplay";var b0=Mf;var Of=class extends a{constructor(e){super(),this.results=c.parseArray(e.results,[cg,lg]),this.title=new l(e.title).toString()}};n(Of,"WatchNextEndScreen");Of.type="WatchNextEndScreen";var w0=Of;var Df=class extends a{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,w0),this.autoplay=c.parseItem(e.autoplay,b0),this.share_button=c.parseItem(e.shareButton,I),this.add_to_menu=c.parseItem(e.addToMenu,j),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,tg)}};n(Df,"PlayerOverlay");Df.type="PlayerOverlay";var eo=Df;var Lf=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new l(e.title),this.subtitle=e.subtitle?new l(e.subtitle):null,this.stats=e.stats.map(i=>new l(i)),this.brief_stats=e.briefStats.map(i=>new l(i)),this.author=e.ownerText||e.ownerEndpoint?new O(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new l(e.descriptionText),this.num_videos=new l(e.numVideosText),this.view_count=new l(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(Lf,"PlaylistHeader");Lf.type="PlaylistHeader";var T0=Lf;var Bf=class extends a{constructor(e){super(),this.title=new l(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new l(e.playlistVideoCount),this.channel_name=new l(e.channelName),this.endpoint=new g(e.action)}};n(Bf,"PlaylistInfoCardContent");Bf.type="PlaylistInfoCardContent";var BI=Bf;var Ff=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Ff,"PlaylistMetadata");Ff.type="PlaylistMetadata";var k0=Ff;var Yf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Yf,"PlaylistSidebar");Yf.type="PlaylistSidebar";var FI=Yf;var jf=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new l(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new l(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new l(e.description)}};n(jf,"PlaylistSidebarPrimaryInfo");jf.type="PlaylistSidebarPrimaryInfo";var I0=jf;var Uf=class extends a{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(Uf,"PlaylistSidebarSecondaryInfo");Uf.type="PlaylistSidebarSecondaryInfo";var S0=Uf;var Wf=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new l(e.index),this.title=new l(e.title),this.author=new O(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,j),this.video_info=new l(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new l(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Lo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Lo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Wf,"PlaylistVideo");Wf.type="PlaylistVideo";var Ds=Wf;var Hf=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(Hf,"PlaylistVideoList");Hf.type="PlaylistVideoList";var YI=Hf;var Jf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new l(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new l(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new l(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new l(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Jf,"Poll");Jf.type="Poll";var jI=Jf;var Gf=class extends Yi{constructor(e){super(e)}};n(Gf,"Post");Gf.type="Post";var C0=Gf;var zf=class extends a{constructor(e){super(),this.images=c.parseArray(e.images,K_)}};n(zf,"PostMultiImage");zf.type="PostMultiImage";var UI=zf;var $f=class extends a{constructor(e){super(),this.title=new l(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n($f,"ProductListHeader");$f.type="ProductListHeader";var WI=$f;var Kf=class extends a{constructor(e){super(),this.title=new l(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new g(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,I)}};n(Kf,"ProductListItem");Kf.type="ProductListItem";var HI=Kf;var qf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(qf,"ProfileColumn");qf.type="ProfileColumn";var JI=qf;var Xf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Xf,"ProfileColumnStats");Xf.type="ProfileColumnStats";var GI=Xf;var Qf=class extends a{constructor(e){super(),this.label=new l(e.label),this.value=new l(e.value)}};n(Qf,"ProfileColumnStatsEntry");Qf.type="ProfileColumnStatsEntry";var zI=Qf;var Zf=class extends a{constructor(e){super(),this.title=new l(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};n(Zf,"ProfileColumnUserInfo");Zf.type="ProfileColumnUserInfo";var $I=Zf;var em=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new l(i.text),is_correct:i.isCorrect})),this.total_votes=new l(e.totalVotes)}};n(em,"Quiz");em.type="Quiz";var KI=em;var tm=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=c.parseItem(e.button,I),this.surface=e.surface}};n(tm,"RecognitionShelf");tm.type="RecognitionShelf";var qI=tm;var im=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new l(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(im,"ReelItem");im.type="ReelItem";var Ls=im;var om=class extends a{constructor(e){super(),this.reel_title_text=new l(e.reelTitleText),this.timestamp_text=new l(e.timestampText),this.channel_title_text=new l(e.channelTitleText),this.channel_thumbnail=w.fromResponse(e.channelThumbnail),this.author=new O(e.channelNavigationEndpoint,void 0)}};n(om,"ReelPlayerHeader");om.type="ReelPlayerHeader";var E0=om;var nm=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Eg),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,E0),this.menu=c.parseItem(e.menu,j),this.next_item_button=c.parseItem(e.nextItemButton,I),this.prev_item_button=c.parseItem(e.prevItemButton,I),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,I),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,I),this.share_button=c.parseItem(e.shareButton,I),this.pivot_button=c.parseItem(e.pivotButton,h0),this.info_panel=c.parseItem(e.infoPanel,kg)}};n(nm,"ReelPlayerOverlay");nm.type="ReelPlayerOverlay";var XI=nm;var sm=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(sm,"RelatedChipCloud");sm.type="RelatedChipCloud";var P0=sm;var rm=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(rm,"RichGrid");rm.type="RichGrid";var to=rm;var am=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(am,"RichItem");am.type="RichItem";var QI=am;var um=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(um,"RichListHeader");um.type="RichListHeader";var ZI=um;var lm=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.call_to_action=new l(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};n(lm,"RichMetadata");lm.type="RichMetadata";var cm=lm;var dm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(dm,"RichMetadataRow");dm.type="RichMetadataRow";var pm=dm;var fm=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(fm,"RichSection");fm.type="RichSection";var eS=fm;var mm=class extends a{constructor(e){super(),this.title=new l(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};n(mm,"RichShelf");mm.type="RichShelf";var N0=mm;var hm=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=c.parseItem(e.searchButton,I),this.clear_button=c.parseItem(e.clearButton,I),this.placeholder_text=new l(e.placeholderText)}};n(hm,"SearchBox");hm.type="SearchBox";var tS=hm;var _m=class extends a{constructor(e){super(),this.label=new l(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(_m,"SearchFilter");_m.type="SearchFilter";var A0=_m;var vm=class extends a{constructor(e){super(),this.title=new l(e.title),this.filters=c.parseArray(e.filters,A0)}};n(vm,"SearchFilterGroup");vm.type="SearchFilterGroup";var Bs=vm;var gm=class extends a{constructor(e){super(),this.title=new l(e.title),this.groups=c.parseArray(e.groups,Bs)}};n(gm,"SearchFilterOptionsDialog");gm.type="SearchFilterOptionsDialog";var iS=gm;var xm=class extends a{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,gt),this.search_filter_button=c.parseItem(e.searchFilterButton,I)}};n(xm,"SearchHeader");xm.type="SearchHeader";var R0=xm;var ym=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new l(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,Bs)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Ne))}};n(ym,"SearchSubMenu");ym.type="SearchSubMenu";var V0=ym;var bm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(bm,"SearchSuggestionsSection");bm.type="SearchSuggestionsSection";var M0=bm;var wm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(wm,"SecondarySearchContainer");wm.type="SecondarySearchContainer";var oS=wm;var Tm=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Ne,I]),this.dislike_button=c.parseItem(e.dislikeButton,[Ne,I])}};n(Tm,"SegmentedLikeDislikeButton");Tm.type="SegmentedLikeDislikeButton";var $o=Tm;var km=class extends a{constructor(e){if(super(),this.like_button=c.parseItem(e.likeButtonViewModel,Pg),this.dislike_button=c.parseItem(e.dislikeButtonViewModel,ng),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(km,"SegmentedLikeDislikeButtonView");km.type="SegmentedLikeDislikeButtonView";var Ko=km;var Im=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new l(e.title)),Reflect.has(e,"summary")&&(this.summary=new l(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Im,"SettingBoolean");Im.type="SettingBoolean";var nS=Im;var Sm=class extends a{constructor(e){super(),this.title=new l(e.title),this.help_text=new l(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Sm,"SettingsCheckbox");Sm.type="SettingsCheckbox";var O0=Sm;var Cm=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};n(Cm,"SettingsSwitch");Cm.type="SettingsSwitch";var Fs=Cm;var Em=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"text")&&(this.text=new l(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[Fs,Di,qv,O0,Ev]))}};n(Em,"SettingsOptions");Em.type="SettingsOptions";var Ys=Em;var Pm=class extends a{constructor(e){super(),this.title=new l(e.title),this.items=c.parseArray(e.items,xs)}get contents(){return this.items}};n(Pm,"SettingsSidebar");Pm.type="SettingsSidebar";var D0=Pm;var Nm=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new l(e.content),this.published=new l(e.publishedTimeText),this.menu=re(e.actionMenu,j),this.original_post=re(e.originalPost,Yi),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=re(e.expandButton,I),this.author=new O(e.displayName,void 0)}};n(Nm,"SharedPost");Nm.type="SharedPost";var L0=Nm;var Am=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,I))}};n(Am,"Shelf");Am.type="Shelf";var js=Am;var Rm=class extends a{constructor(e){super(),this.corrected_query=new l(e.correctedQuery),this.original_query=new l(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new l(e.searchInsteadFor),this.showing_results_for=new l(e.showingResultsFor)}};n(Rm,"ShowingResultsFor");Rm.type="ShowingResultsFor";var B0=Rm;var Vm=class extends a{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new l(e.title),this.display_domain=new l(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new l(e.callToAction),this.endpoint=new g(e.command)}};n(Vm,"SimpleCardContent");Vm.type="SimpleCardContent";var sS=Vm;var Mm=class extends a{constructor(e){super(),this.message=new l(e.message),this.prominent=e.prominent}};n(Mm,"SimpleCardTeaser");Mm.type="SimpleCardTeaser";var rS=Mm;var Om=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new l(i)),this.style=e.layoutStyle}};n(Om,"SimpleTextSection");Om.type="SimpleTextSection";var aS=Om;var Dm=class extends a{constructor(e){super(),this.action_text=new l(e.actionText),this.nav_text=new l(e.navigationText),this.details=new l(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};n(Dm,"SingleActionEmergencySupport");Dm.type="SingleActionEmergencySupport";var uS=Dm;var Lm=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=c.parseItem(e.content,[Z,Ms,to])}};n(Lm,"Tab");Lm.type="Tab";var we=Lm;var Bm=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,we)}};n(Bm,"SingleColumnBrowseResults");Bm.type="SingleColumnBrowseResults";var ai=Bm;var Fm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Fm,"SingleColumnMusicWatchNextResults");Fm.type="SingleColumnMusicWatchNextResults";var lS=Fm;var Ym=class extends a{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};n(Ym,"SingleHeroImage");Ym.type="SingleHeroImage";var cS=Ym;var jm=class extends a{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new l(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,ze)}};n(jm,"SlimOwner");jm.type="SlimOwner";var dS=jm;var Um=class extends a{constructor(e){super(),this.title=new l(e.title),this.collapsed_subtitle=new l(e.collapsedSubtitle),this.expanded_subtitle=new l(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new l(e.description),this.video_id=e.videoId,this.date=new l(e.dateText)}};n(Um,"SlimVideoMetadata");Um.type="SlimVideoMetadata";var F0=Um;var Wm=class extends a{constructor(e){super(),this.name=new l(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};n(Wm,"SubFeedOption");Wm.type="SubFeedOption";var Y0=Wm;var Hm=class extends a{constructor(e){super(),this.title=new l(e.title),this.options=c.parseArray(e.options,Y0)}};n(Hm,"SubFeedSelector");Hm.type="SubFeedSelector";var pS=Hm;var Jm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Jm,"Tabbed");Jm.type="Tabbed";var fS=Jm;var Gm=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,we)}};n(Gm,"TabbedSearchResults");Gm.type="TabbedSearchResults";var j0=Gm;var zm=class extends a{constructor(e){super(),this.title=new l(e.title),this.style=e.style}};n(zm,"TextHeader");zm.type="TextHeader";var mS=zm;var $m=class extends a{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};n($m,"ThumbnailLandscapePortrait");$m.type="ThumbnailLandscapePortrait";var hS=$m;var Km=class extends a{constructor(e){super(),this.text=new l(e.text).toString()}};n(Km,"ThumbnailOverlayEndorsement");Km.type="ThumbnailOverlayEndorsement";var _S=Km;var qm=class extends a{constructor(e){super(),this.text=new l(e.text),this.icon_type=e.icon.iconType}};n(qm,"ThumbnailOverlayHoverText");qm.type="ThumbnailOverlayHoverText";var vS=qm;var Xm=class extends a{constructor(e){super(),this.text=new l(e.text).toString(),this.icon_type=e.icon.iconType}};n(Xm,"ThumbnailOverlayInlineUnplayable");Xm.type="ThumbnailOverlayInlineUnplayable";var gS=Xm;var Qm=class extends a{constructor(e){super(),this.text=new l(e.text)}};n(Qm,"ThumbnailOverlayLoadingPreview");Qm.type="ThumbnailOverlayLoadingPreview";var xS=Qm;var Zm=class extends a{constructor(e){super(),this.text=new l(e.text).toString()}};n(Zm,"ThumbnailOverlayNowPlaying");Zm.type="ThumbnailOverlayNowPlaying";var yS=Zm;var eh=class extends a{constructor(e){super(),this.hack=e.hack}};n(eh,"ThumbnailOverlayPinking");eh.type="ThumbnailOverlayPinking";var bS=eh;var th=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new l(i))}};n(th,"ThumbnailOverlayPlaybackStatus");th.type="ThumbnailOverlayPlaybackStatus";var wS=th;var ih=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(ih,"ThumbnailOverlayResumePlayback");ih.type="ThumbnailOverlayResumePlayback";var TS=ih;var oh=class extends a{constructor(e){super(),this.text=new l(e.text),this.icon_type=e.icon.iconType}};n(oh,"ThumbnailOverlaySidePanel");oh.type="ThumbnailOverlaySidePanel";var kS=oh;var nh=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new g(e.toggledServiceEndpoint),this.untoggled_endpoint=new g(e.untoggledServiceEndpoint)}};n(nh,"ThumbnailOverlayToggleButton");nh.type="ThumbnailOverlayToggleButton";var IS=nh;var sh=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new l(e.label),this.icon=e.icon}};n(sh,"TimedMarkerDecoration");sh.type="TimedMarkerDecoration";var SS=sh;var rh=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(rh,"TitleAndButtonListHeader");rh.type="TitleAndButtonListHeader";var CS=rh;var ah=class extends a{constructor(e){super(),this.text=new l(e.defaultText),this.toggled_text=new l(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};n(ah,"ToggleMenuServiceItem");ah.type="ToggleMenuServiceItem";var ES=ah;var uh=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new l(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(uh,"Tooltip");uh.type="Tooltip";var PS=uh;var lh=class extends a{constructor(e){var i;super(),this.title=new l(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new l(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,ze),this.endpoint=new g(e.navigationEndpoint)}};n(lh,"TopicChannelDetails");lh.type="TopicChannelDetails";var NS=lh;var ch=class extends a{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(ch,"TwoColumnBrowseResults");ch.type="TwoColumnBrowseResults";var ui=ch;var dh=class extends a{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(dh,"TwoColumnSearchResults");dh.type="TwoColumnSearchResults";var U0=dh;var W0,kb,ph=class extends a{constructor(e){var i,o,s,r,u;super(),W0.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((r=p.shortBylineText)===null||r===void 0)&&r.simpleText?new l(p.shortBylineText):new O(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,j)});let f=(u=e.autoplay)===null||u===void 0?void 0:u.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>d(this,W0,"m",kb).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>d(this,W0,"m",kb).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(ph,"TwoColumnWatchNextResults");W0=new WeakSet,kb=n(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");ph.type="TwoColumnWatchNextResults";var Us=ph;var fh=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new l(e.collapsedLabel))}};n(fh,"UniversalWatchCard");fh.type="UniversalWatchCard";var H0=fh;var mh=class extends a{constructor(e){super(),this.message_title=new l(e.dialogMessageTitle),this.message_text=new l(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,I),this.dismiss_button=c.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};n(mh,"UpsellDialog");mh.type="UpsellDialog";var AS=mh;var hh=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new l(e.collapsedStateButtonText)}get contents(){return this.items}};n(hh,"VerticalList");hh.type="VerticalList";var RS=hh;var _h=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new l(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};n(_h,"VerticalWatchCardList");_h.type="VerticalWatchCardList";var VS=_h;var vh=class extends a{constructor(e){super(),this.title=new l(e.videoTitle),this.channel_name=new l(e.channelName),this.view_count=new l(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new l(e.lengthString),this.endpoint=new g(e.action)}};n(vh,"VideoInfoCardContent");vh.type="VideoInfoCardContent";var MS=vh;var gh=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new l(e.subscriberCountText),this.author=new O(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(gh,"VideoOwner");gh.type="VideoOwner";var Ws=gh;var xh=class extends a{constructor(e){var i,o,s,r;super(),this.title=new l(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new l(e.superTitleLink)),this.view_count=new l((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new l((r=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=c.parseArray(e.badges,lt),this.published=new l(e.dateText),this.relative_date=new l(e.relativeDateText),this.menu=c.parseItem(e.videoActions,j)}};n(xh,"VideoPrimaryInfo");xh.type="VideoPrimaryInfo";var J0=xh;var yh=class extends a{constructor(e){super(),this.owner=c.parseItem(e.owner,Ws),this.description=new l(e.description),Reflect.has(e,"attributedDescription")&&(this.description=l.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[ze,I]),this.metadata=c.parseItem(e.metadataRowContainer,Qg),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(yh,"VideoSecondaryInfo");yh.type="VideoSecondaryInfo";var bh=yh;var wh=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.duration={text:new l(e.lengthText).toString(),seconds:Be(e.lengthText.simpleText)},this.style=e.style}};n(wh,"WatchCardCompactVideo");wh.type="WatchCardCompactVideo";var G0=wh;var Th=class extends a{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Th,"WatchCardHeroVideo");Th.type="WatchCardHeroVideo";var OS=Th;var kh=class extends a{constructor(e){super(),this.title=new l(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new l(e.subtitle),this.author=new O(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(kh,"WatchCardRichHeader");kh.type="WatchCardRichHeader";var DS=kh;var Ih=class extends a{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(Ih,"WatchCardSectionSequence");Ih.type="WatchCardSectionSequence";var LS=Ih;var Sh=class extends ui{constructor(e){super(e)}};n(Sh,"WatchNextTabbedResults");Sh.type="WatchNextTabbedResults";var z0=Sh;var Ch=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,Z),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Ch,"AnchoredSection");Ch.type="AnchoredSection";var $0=Ch;var Eh,Ph=class extends a{constructor(e){super(),Eh.set(this,void 0),this.child_display_name=new l(e.childDisplayName),this.child_account_description=new l(e.childAccountDescription),this.avatar=w.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Ne]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return y(this,void 0,void 0,function*(){if(!d(this,Eh,"f"))throw new v("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new v("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new v("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,Eh,"f"),{parse:!1})})}setActions(e){k(this,Eh,e,"f")}};n(Ph,"KidsBlocklistPickerItem");Eh=new WeakMap;Ph.type="KidsBlocklistPickerItem";var Hs=Ph;var Nh=class extends a{constructor(e){super(),this.title=new l(e.title),this.child_rows=c.parse(e.childRows,!0,[Hs]),this.done_button=c.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new l(e.successfulToastActionMessage)}};n(Nh,"KidsBlocklistPicker");Nh.type="KidsBlocklistPicker";var BS=Nh;var Ah=class extends a{constructor(e){var i,o;super(),this.title=new l(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};n(Ah,"KidsCategoryTab");Ah.type="KidsCategoryTab";var Js=Ah;var Rh=class extends a{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,Js),this.privacy_button=c.parseItem(e.privacyButtonRenderer,I)}};n(Rh,"KidsCategoriesHeader");Rh.type="kidsCategoriesHeader";var K0=Rh;var Vh=class extends a{constructor(e){super(),this.anchors=c.parseArray(e.anchors,$0)}};n(Vh,"KidsHomeScreen");Vh.type="kidsHomeScreen";var q0=Vh;var Ab={};L(Ab,{camelToSnake:()=>qo,createRuntimeClass:()=>$S,generateRuntimeClass:()=>Dh,generateTypescriptClass:()=>Q0,inferType:()=>X0,introspect:()=>Cb,isArrayType:()=>GS,isIgnoredKey:()=>zS,isMiscType:()=>JS,isRenderer:()=>Sb,isRendererList:()=>HS,mergeKeyInfo:()=>Mh,parse:()=>Nb,toParser:()=>Pb,toTypeDeclaration:()=>Eb});var yE=new Set(["trackingParams","accessibility","accessibilityData"]),Ib={};function qo(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(qo,"camelToSnake");function X0(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Sb(e))return Ib[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=HS(e)){for(let[s,r]of Object.entries(i))Ib[s]=r;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=JS(t,e))||(i=GS(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([s,r])=>[s,X0(s,r)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(X0,"inferType");function HS(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>Sb(o))?Object.fromEntries(t.map(o=>{let s=Reflect.ownKeys(o)[0].toString();return[Lh(s),o[s]]})):!1}n(HS,"isRendererList");function JS(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new g(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new l(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(JS,"isMiscType");function Sb(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return Lh(o)}return!1}n(Sb,"isRenderer");function GS(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(r=>typeof r);if(!e.every(r=>r===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let s=[];for(let r=0;r<t.length;r++){let u=Object.entries(t[r]).map(([p,f])=>[p,X0(p,f)]);if(r===0){s=u;continue}s=Mh(s,u).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:s,optional:!1},optional:!1}}n(GS,"isArrayType");function bE(t){if(typeof t!="object"||t===null)throw new v("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!zS(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),s=X0(i,o);return[i,s]})}n(bE,"introspectKeysFirstPass");function wE(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),s=new Set,r=o[0],u;if(r){s.add(r[0]);let f=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),h=(e=f.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],x=t.find(([T])=>T===h),b=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;b&&h&&s.add(h),u={type:"misc",misc_type:"Author",optional:!1,params:[r[0],b?h:void 0]}}return u&&t.push(["author",u]),t.filter(([p])=>!s.has(p))}n(wE,"introspectKeysSecondPass");function TE(t){let e=bE(t);return wE(e)}n(TE,"introspect2");function Cb(t){let e=TE(t),i=new Map;for(let[,s]of e)if(s.type==="renderer"||s.type==="array"&&s.array_type==="renderer")for(let r of s.renderers){let u=Ib[r];u&&i.set(r,u)}let o=Array.from(i).filter(([s])=>!Z0(s));return{key_info:e,unimplemented_dependencies:o}}n(Cb,"introspect");function zS(t){return typeof t=="string"&&yE.has(t)}n(zS,"isIgnoredKey");function $S(t,e,i){var o,s;i({error_type:"class_not_found",classname:t,key_info:e});let r=(o=n(class extends a{static set key_info(u){k(this,o,new Map(u),"f",s)}static get key_info(){return[...d(this,o,"f",s).entries()]}constructor(u){super();let{key_info:p,unimplemented_dependencies:f}=Cb(u),{resolved_key_info:m,changed_keys:h}=Mh(r.key_info,p);h.length>0&&(r.key_info=m,i({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:h}));for(let[b,T]of f)Dh(b,T,i);for(let[b,T]of p){let S=qo(b);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,Nb(b,T,u))}}},"_a"),Iw(o,"node"),o.type=t,s={value:new Map},o);return r.key_info=e,Object.defineProperty(r,"name",{value:t,writable:!1}),r}n($S,"createRuntimeClass");function Dh(t,e,i){let{key_info:o,unimplemented_dependencies:s}=Cb(e),r=$S(t,o,i);Rb(t,r);for(let[u,p]of s)Dh(u,p,i);return r}n(Dh,"generateRuntimeClass");function Q0(t,e){let i=[],o=["super();"];for(let[s,r]of e){let u=qo(s);r.type==="misc"&&r.misc_type==="NavigationEndpoint"&&(u="endpoint"),i.push(`${u}${r.optional?"?":""}: ${Eb(r)};`),o.push(`this.${u} = ${Pb(s,r)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(Q0,"generateTypescriptClass");function FS(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${qo(i)}${o.optional?"?":""}: ${Eb(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(FS,"toTypeDeclarationObject");function Eb(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${FS(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return FS(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(Eb,"toTypeDeclaration");function YS(t,e,i,o){let s=[...i,o];return`{
${e.map(([r,u])=>`${" ".repeat((t+2)*2)}${qo(r)}: ${Pb(r,u,s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(YS,"toParserObject");function Pb(t,e,i=["data"],o=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${t}, ${jS(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":s=`Parser.parse(${i.join(".")}.${t}, true, ${jS(e.renderers)})`;break;case"object":s=`${i.join(".")}.${t}.map((item: any) => (${YS(o,e.items.keys,[],"item")}))`;break;case"primitive":s=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":s=YS(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let r=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${r} : undefined`:r}default:s=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(s==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":s=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${s} : undefined`:s}n(Pb,"toParser");function jS(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(jS,"toParserValidTypes");function li(t,e){let i=t;for(let o of e)i=i[o];return i}n(li,"accessDataFromKeyPath");function US(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(US,"hasDataFromKeyPath");function WS(t,e,i,o,s){let r={},u=[...i,t];for(let[p,f]of o)r[p]=s?Nb(p,f,e,u):void 0;return r}n(WS,"parseObject");function Nb(t,e,i,o=["data"]){let s=!e.optional||US({data:i},[...o,t]);switch(e.type){case"renderer":return s?re(li({data:i},[...o,t]),e.renderers.map(r=>Oh(r))):void 0;case"array":{switch(e.array_type){case"renderer":return s?Ke(li({data:i},[...o,t]),!0,e.renderers.map(r=>Oh(r))):void 0;case"object":return s?li({data:i},[...o,t]).map((r,u)=>WS(`${u}`,i,[...o,t],e.items.keys,s)):void 0;case"primitive":return s?li({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return WS(t,i,o,e.keys,s);case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new g(li({data:i},[...o,t])):void 0;case"Text":return s?new l(li({data:i},[...o,t])):void 0;case"Thumbnail":return s?w.fromResponse(li({data:i},[...o,t])):void 0;case"Author":return!e.optional||US({data:i},[...o,e.params[0]])?new O(li({data:i},[...o,e.params[0]]),e.params[1]?li({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return li({data:i},[...o,t])}}n(Nb,"parse");function Mh(t,e){let i=new Map,o=new Set(t.map(([b])=>b)),s=new Set(e.map(([b])=>b)),r=e.filter(([b])=>!o.has(b)),u=t.filter(([b])=>!s.has(b)),p=t.filter(([b])=>s.has(b)),f=new Map(e);for(let[b,T]of p){let S=f.get(b);if(!!S){if(T.type!==S.type){i.set(b,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(T.type){case"object":{if(S.type!=="object")continue;let{resolved_key_info:C}=Mh(T.keys,S.keys),P={type:"object",keys:C,optional:T.optional||S.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(b,P)}break;case"renderer":{if(S.type!=="renderer")continue;let C=Object.assign(Object.assign({},T.renderers),S.renderers),P=T.optional||S.optional,R={type:"renderer",renderers:C,optional:P};JSON.stringify(Object.assign(Object.assign({},R),{renderers:Object.keys(R.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(b,R)}break;case"array":{if(S.type!=="array")continue;switch(T.array_type){case"renderer":{if(S.array_type!=="renderer"){i.set(b,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let C=Object.assign(Object.assign({},T.renderers),S.renderers),P=T.optional||S.optional,R={type:"array",array_type:"renderer",renderers:C,optional:P};JSON.stringify(Object.assign(Object.assign({},R),{renderers:Object.keys(R.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(b,R)}break;case"object":{if(S.array_type==="primitive"&&S.items.typeof.length==1&&S.items.typeof[0]==="never")continue;if(S.array_type!=="object"){i.set(b,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:C}=Mh(T.items.keys,S.items.keys),P={type:"array",array_type:"object",items:{type:"object",keys:C,optional:T.items.optional||S.items.optional},optional:T.optional||S.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(b,P)}break;case"primitive":{if(T.items.typeof.includes("never")&&S.array_type==="object"){i.set(b,S);continue}if(S.array_type!=="primitive"){i.set(b,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let C=new Set([...S.items.typeof,...T.items.typeof]);C.size>1&&C.has("never")&&C.delete("never");let P={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(C),optional:T.items.optional||S.items.optional},optional:T.optional||S.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(b,P)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(S.type!=="misc")continue;switch(T.misc_type!==S.misc_type&&i.set(b,{type:"primative",typeof:["unknown"],optional:!0}),T.misc_type){case"Author":{if(S.misc_type!=="Author")break;let C=T.params[1]||S.params[1],P=T.optional||S.optional,R={type:"misc",misc_type:"Author",optional:P,params:[S.params[0],C]};JSON.stringify(R)!==JSON.stringify(T)&&i.set(b,R)}break}}break;case"primative":{if(S.type!=="primative")continue;let C={type:"primative",typeof:Array.from(new Set([...S.typeof,...T.typeof])),optional:T.optional||S.optional};JSON.stringify(C)!==JSON.stringify(T)&&i.set(b,C)}break}}}for(let[b,T]of r)i.set(b,Object.assign(Object.assign({},T),{optional:!0}));for(let[b,T]of u)i.set(b,Object.assign(Object.assign({},T),{optional:!0}));let m=t.filter(([b])=>!i.has(b));return{resolved_key_info:[...new Map([...m,...i]).entries()],changed_keys:[...i.entries()]}}n(Mh,"mergeKeyInfo");var io=class extends a{constructor(e){var i,o,s;super(),this.contents=$e(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};n(io,"ItemSectionContinuation");io.type="itemSectionContinuation";var oo=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint)}};n(oo,"NavigateAction");oo.type="navigateAction";var Gs=class extends a{constructor(e){super(),this.miniplayer_command=new g(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(Gs,"ShowMiniplayerCommand");Gs.type="showMiniplayerCommand";var no=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=Ke(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(no,"ReloadContinuationItemsCommand");no.type="reloadContinuationItemsCommand";var dt=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.contents=Ke(e.contents,!0),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(u=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(dt,"SectionListContinuation");dt.type="sectionListContinuation";var so=class extends a{constructor(e){var i;super(),this.contents=Ke(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(so,"MusicPlaylistShelfContinuation");so.type="musicPlaylistShelfContinuation";var ci=class extends a{constructor(e){var i,o,s,r;super(),this.contents=$e(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(ci,"MusicShelfContinuation");ci.type="musicShelfContinuation";var ro=class extends a{constructor(e){var i;super(),this.items=Ke(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(ro,"GridContinuation");ro.type="gridContinuation";var zs=class extends a{constructor(e){var i,o,s,r,u,p;super(),this.contents=$e(e.contents),this.continuation=((s=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(u=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(zs,"PlaylistPanelContinuation");zs.type="playlistPanelContinuation";var Xo=class extends a{constructor(e){var i,o,s;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};n(Xo,"Continuation");Xo.type="continuation";var ao=class extends a{constructor(e){var i,o,s,r,u,p,f,m;super(),this.actions=Ke((i=e.actions)===null||i===void 0?void 0:i.map(b=>(delete b.clickTrackingParams,b)),!0)||$([]),this.action_panel=re(e.actionPanel),this.item_list=re(e.itemList,Ug),this.header=re(e.header,jg),this.participants_list=re(e.participantsList,Hg),this.popout_message=re(e.popoutMessage,He),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(b=>({emoji_id:b.emojiId,shortcuts:b.shortcuts,search_terms:b.searchTerms,image:w.fromResponse(b.image),is_custom_emoji:b.isCustomEmoji})))||[];let h,x;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(x="timed",h=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((u=e.continuations)===null||u===void 0)&&u[0].invalidationContinuationData?(x="invalidation",h=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(x="replay",h=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new Xo({continuation:h,type:x}),this.viewer_name=e.viewerName}};n(ao,"LiveChatContinuation");ao.type="liveChatContinuation";var Ii=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Ii,"ContinuationCommand");Ii.type="ContinuationCommand";var ex,tx=class{constructor(e,i){var o,s,r,u,p,f,m,h;if(ex.set(this,void 0),i&&k(this,ex,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(s=e.spatialAudioType)===null||s===void 0?void 0:s.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(r=e.colorInfo.primaries)===null||r===void 0?void 0:r.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(u=e.colorInfo.transferCharacteristics)===null||u===void 0?void 0:u.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=new URLSearchParams(this.cipher||this.signature_cipher),T=(f=new URLSearchParams(x.get("url")||this.url).get("xtags"))===null||f===void 0?void 0:f.split(":");if(this.language=((m=T==null?void 0:T.find(S=>S.startsWith("lang=")))===null||m===void 0?void 0:m.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(T!=null&&T.includes("drc=1"));let S=(h=T==null?void 0:T.find(C=>C.startsWith("acont=")))===null||h===void 0?void 0:h.split("=")[1];this.is_dubbed=S==="dubbed",this.is_descriptive=S==="descriptive",this.is_original=S==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new v("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,ex,"f"))}};n(tx,"Format");ex=new WeakMap;var ix=tx;var uo=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(uo,"VideoDetails");var Qo="Parser",kE=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Ob=new Map(Object.entries(Jo)),KS=new Map,Zo=null,lo=n(t=>{var{classname:e}=t,i=kw(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&B.warn(Qo,new v(`Something went wrong at ${e}!
This is a bug, please report it at ${U.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":B.warn(Qo,new It(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":B.warn(Qo,new v(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${U.shim.info.bugs_url}`));break;case"mutation_data_invalid":B.warn(Qo,new v(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${U.shim.info.bugs_url}`));break;case"class_not_found":B.warn(Qo,new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${U.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${U.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Q0(e,i.key_info)}`));break;case"class_changed":B.warn(Qo,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>qo(o)).join(", ")}
The class has changed to:
${Q0(e,i.key_info)}`);break;default:B.warn(Qo,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function IE(t){lo=t}n(IE,"setParserErrorHandler");function Ut(){Zo=null}n(Ut,"_clearMemo");function Wt(){Zo=new Oi}n(Wt,"_createMemo");function SE(t,e){if(!Zo)return;let i=Zo.get(t);if(!i)return Zo.set(t,[e]);i.push(e)}n(SE,"_addToMemo");function Ht(){if(!Zo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Zo}n(Ht,"_getMemo");function qS(t){return kE.has(t)}n(qS,"shouldIgnore");function Lh(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Lh,"sanitizeClassName");function Oh(t){let e=Ob.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Oh,"getParserByName");function Z0(t){return Ob.has(t)}n(Z0,"hasParser");function Rb(t,e){Ob.set(t,e),KS.set(t,e)}n(Rb,"addRuntimeParser");function CE(){return Object.fromEntries(KS)}n(CE,"getDynamicParsers");function EE(t){var e,i,o,s,r,u,p,f,m,h,x,b,T,S;let C={};Wt();let P=Ke(t.contents),R=Ht();P&&(C.contents=P,C.contents_memo=R),Ut(),Wt();let V=t.onResponseReceivedActions?ox(t.onResponseReceivedActions):null,H=Ht();V&&(C.on_response_received_actions=V,C.on_response_received_actions_memo=H),Ut(),Wt();let _e=t.onResponseReceivedEndpoints?ox(t.onResponseReceivedEndpoints):null,me=Ht();_e&&(C.on_response_received_endpoints=_e,C.on_response_received_endpoints_memo=me),Ut(),Wt();let Se=t.onResponseReceivedCommands?ox(t.onResponseReceivedCommands):null,K=Ht();Se&&(C.on_response_received_commands=Se,C.on_response_received_commands_memo=K),Ut(),Wt();let xe=t.continuationContents?Vb(t.continuationContents):null,X=Ht();xe&&(C.continuation_contents=xe,C.continuation_contents_memo=X),Ut(),Wt();let q=t.actions?QS(t.actions):null,ee=Ht();q&&(C.actions=q,C.actions_memo=ee),Ut(),Wt();let ue=t.liveChatItemContextMenuSupportedRenderers?re(t.liveChatItemContextMenuSupportedRenderers):null,De=Ht();ue&&(C.live_chat_item_context_menu_supported_renderers=ue,C.live_chat_item_context_menu_supported_renderers_memo=De),Ut(),Wt();let _t=t.header?Ke(t.header):null,Tt=Ht();_t&&(C.header=_t,C.header_memo=Tt),Ut(),Wt();let Q=t.sidebar?re(t.sidebar):null,Ge=Ht();Q&&(C.sidebar=Q,C.sidebar_memo=Ge),Ut(),Wt();let Xt=Ke(t.items);Xt&&(C.items=Xt,C.items_memo=Ht()),Ut(),Wt();let Qt=Ke(t.entries);Qt&&(C.entries=Qt,C.entries_memo=Ht()),Ut(),ZS(R,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),me&&e1(me,(s=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||s===void 0?void 0:s.mutations);let Ce=t.continuation?XS(t.continuation):null;Ce&&(C.continuation=Ce);let ut=t.continuationEndpoint?Vb(t.continuationEndpoint):null;ut&&(C.continuation_endpoint=ut);let Hn=Ke(t.metadata);Hn&&(C.metadata=Hn);let Jn=re(t.microformat);Jn&&(C.microformat=Jn);let Gn=re(t.overlay);Gn&&(C.overlay=Gn);let zn=$e(t.alerts,[ns,W_]);zn.length&&(C.alerts=zn);let $n=t.refinements;$n&&(C.refinements=$n);let Kn=t.estimatedResults?parseInt(t.estimatedResults):null;Kn&&(C.estimated_results=Kn);let qn=Ke(t.playerOverlays);qn&&(C.player_overlays=qn);let Xn=re(t.background,Je);Xn&&(C.background=Xn);let Qn=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Qn&&(C.playback_tracking=Qn);let Zn=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:re(t.playabilityStatus.audioOnlyPlayability,z_),error_screen:re(t.playabilityStatus.errorScreen)}:null;if(Zn&&(C.playability_status=Zn),t.streamingData){let Te=new Map,hC={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Mb(t.streamingData.formats,Te),adaptive_formats:Mb(t.streamingData.adaptiveFormats,Te),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};C.streaming_data=hC}if(t.playerConfig){let Te={audio_config:{loudness_db:(r=t.playerConfig.audioConfig)===null||r===void 0?void 0:r.loudnessDb,perceptual_loudness_db:(u=t.playerConfig.audioConfig)===null||u===void 0?void 0:u.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((f=t.playerConfig.streamSelectionConfig)===null||f===void 0?void 0:f.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((h=(m=t.playerConfig.mediaCommonConfig)===null||m===void 0?void 0:m.dynamicReadaheadConfig)===null||h===void 0?void 0:h.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((b=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||b===void 0?void 0:b.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((S=(T=t.playerConfig.mediaCommonConfig)===null||T===void 0?void 0:T.dynamicReadaheadConfig)===null||S===void 0?void 0:S.readAheadGrowthRateMs)||0}}};C.player_config=Te}let es=t.currentVideoEndpoint?new g(t.currentVideoEndpoint):null;es&&(C.current_video_endpoint=es);let pe=t.endpoint?new g(t.endpoint):null;pe&&(C.endpoint=pe);let kt=re(t.captions,v0);kt&&(C.captions=kt);let Ue=t.videoDetails?new uo(t.videoDetails):null;Ue&&(C.video_details=Ue);let xi=$e(t.annotations,_0);xi.length&&(C.annotations=xi);let Io=re(t.storyboards,[No,y0]);Io&&(C.storyboards=Io);let Pe=re(t.endscreen,ug);Pe&&(C.endscreen=Pe);let et=re(t.cards,kv);et&&(C.cards=et);let vt=$e(t.engagementPanels,Wi);return vt.length&&(C.engagement_panels=vt),C}n(EE,"parseResponse");function re(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Lh(i[0]);if(!qS(o))try{let r=Z0(o)?Oh(o):Dh(o,t[i[0]],lo);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===r.type))return lo({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(r.type!==e.type)return lo({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let u=new r(t[i[0]]);return SE(o,u),u}catch(s){return lo({classname:o,classdata:t[i[0]],error:s,error_type:"parse"}),null}return null}n(re,"parseItem");function $e(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let s=re(o,e);s&&i.push(s)}return $(i)}else if(!t)return $([]);throw new It("Expected array but got a single item")}n($e,"parseArray");function Ke(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let r of t){let u=re(r,i);u&&o.push(u)}let s=$(o);return e?s:new ei(s)}else if(e)throw new It("Expected array but got a single item");return new ei(re(t,i))}n(Ke,"parse");function XS(t){return t.timedContinuationData?new Xo({continuation:t.timedContinuationData,type:"timed"}):null}n(XS,"parseC");function Vb(t){return t.itemSectionContinuation?new io(t.itemSectionContinuation):t.sectionListContinuation?new dt(t.sectionListContinuation):t.liveChatContinuation?new ao(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new so(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new ci(t.musicShelfContinuation):t.gridContinuation?new ro(t.gridContinuation):t.playlistPanelContinuation?new zs(t.playlistPanelContinuation):t.continuationCommand?new Ii(t.continuationCommand):null}n(Vb,"parseLC");function ox(t){return $(t.map(e=>{if(e.navigateAction)return new oo(e.navigateAction);if(e.showMiniplayerCommand)return new Gs(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new no(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Mo(e.appendContinuationItemsAction)}).filter(e=>e))}n(ox,"parseRR");function QS(t){return Array.isArray(t)?Ke(t.map(e=>(delete e.clickTrackingParams,e))):new ei(re(t))}n(QS,"parseActions");function Mb(t,e){return(t==null?void 0:t.map(i=>new ix(i,e)))||[]}n(Mb,"parseFormats");function ZS(t,e){let i=t.getType(jt);if(i.length>0&&!e)lo({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let s of i){let r=e.find(p=>{var f,m;return((m=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||m===void 0?void 0:m.id)===s.form_item_entity_key}),u=r==null?void 0:r.payload.musicFormBooleanChoice;(u==null?void 0:u.selected)!==void 0&&(u==null?void 0:u.opaqueToken)?s.selected=u.selected:o.push(`'${s.title}'`)}o.length>0&&lo({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(ZS,"applyMutations");function e1(t,e){var i,o,s,r,u,p;let f=t.getType(Ki);if(f.length>0){e||lo({error_type:"mutation_data_missing",classname:"CommentView"});for(let m of f){let h=(o=(i=e.find(T=>{var S,C;return((C=(S=T.payload)===null||S===void 0?void 0:S.commentEntityPayload)===null||C===void 0?void 0:C.key)===m.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,x=(r=(s=e.find(T=>{var S,C;return((C=(S=T.payload)===null||S===void 0?void 0:S.engagementToolbarStateEntityPayload)===null||C===void 0?void 0:C.key)===m.keys.toolbar_state}))===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.engagementToolbarStateEntityPayload,b=(p=(u=e.find(T=>T.entityKey===m.keys.toolbar_surface))===null||u===void 0?void 0:u.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;m.applyMutations(h,x,b)}}}n(e1,"applyCommentsMutations");var jb={};L(jb,{AccountInfo:()=>sx,Analytics:()=>ax,Channel:()=>Ve,ChannelListContinuation:()=>rn,Comments:()=>dx,FilteredChannelList:()=>ho,Guide:()=>fx,HashtagFeed:()=>pi,History:()=>tr,HomeFeed:()=>Gt,ItemMenu:()=>vx,Library:()=>yx,LiveChat:()=>Cx,NotificationsMenu:()=>Ex,Playlist:()=>Si,Search:()=>Px,Settings:()=>Nx,SmoothedQueue:()=>Tx,TimeWatched:()=>Rx,TranscriptInfo:()=>cx,VideoInfo:()=>qh});var $s,nx=class{constructor(e){if($s.set(this,void 0),k(this,$s,c.parseResponse(e.data),"f"),!d(this,$s,"f").contents)throw new v("Page contents not found");let i=d(this,$s,"f").contents.array().as(D_).first();if(!i)throw new v("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,$s,"f")}};n(nx,"AccountInfo");$s=new WeakMap;var sx=nx;var Bh,rx=class{constructor(e){var i;Bh.set(this,void 0),k(this,Bh,c.parseResponse(e.data),"f"),this.sections=(i=d(this,Bh,"f").contents_memo)===null||i===void 0?void 0:i.getType(Ts).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,Bh,"f")}};n(rx,"Analytics");Bh=new WeakMap;var ax=rx;var Fh,qe,en,Yh,pt,t1,Db,co=class{constructor(e,i,o=!1){Fh.add(this),qe.set(this,void 0),en.set(this,void 0),Yh.set(this,void 0),pt.set(this,void 0),d(this,Fh,"m",t1).call(this,i)||o?k(this,qe,i,"f"):k(this,qe,c.parseResponse(i.data),"f");let s=Lb(d(this,qe,"f").contents_memo,d(this,qe,"f").continuation_contents_memo,d(this,qe,"f").on_response_received_commands_memo,d(this,qe,"f").on_response_received_endpoints_memo,d(this,qe,"f").on_response_received_actions_memo,d(this,qe,"f").sidebar_memo,d(this,qe,"f").header_memo);if(!s)throw new v("No memo found in feed");k(this,pt,s,"f"),k(this,Yh,e,"f")}static getVideosFromMemo(e){return e.getType(us,vg,Ls,ds,Ds,ki,G0)}static getPlaylistsFromMemo(e){let i=e.getType(ti,mg),o=e.getType(Gg).filter(s=>["PLAYLIST","ALBUM","PODCAST"].includes(s.content_type));return o.length>0&&i.push(...o),i}get videos(){return co.getVideosFromMemo(d(this,pt,"f"))}get posts(){return d(this,pt,"f").getType(Yi,C0,L0)}get channels(){return d(this,pt,"f").getType(Sv,fg)}get playlists(){return co.getPlaylistsFromMemo(d(this,pt,"f"))}get memo(){return d(this,pt,"f")}get page_contents(){var e;let i=(e=d(this,pt,"f").getType(we))===null||e===void 0?void 0:e.first().content,o=d(this,pt,"f").getType(no).first(),s=d(this,pt,"f").getType(Mo).first();return i||o||s}get shelves(){return d(this,pt,"f").getType(js,N0,fs)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,qe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,qe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(ui,U0))return o.secondary_contents}get actions(){return d(this,Yh,"f")}get page(){return d(this,qe,"f")}get has_continuation(){return d(this,Fh,"m",Db).call(this).length>0}getContinuationData(){return y(this,void 0,void 0,function*(){if(d(this,en,"f")){if(d(this,en,"f").length===0)throw new v("There are no continuations.");return yield d(this,en,"f")[0].endpoint.call(d(this,Yh,"f"),{parse:!0})}if(k(this,en,d(this,Fh,"m",Db).call(this),"f"),d(this,en,"f"))return this.getContinuationData()})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new co(this.actions,e,!0)})}};n(co,"Feed");qe=new WeakMap,en=new WeakMap,Yh=new WeakMap,pt=new WeakMap,Fh=new WeakSet,t1=n(function(e){return!("data"in e)},"_Feed_isParsed"),Db=n(function(){if(d(this,qe,"f").header_memo){let e=d(this,qe,"f").header_memo.getType(ve);return d(this,pt,"f").getType(ve).filter(i=>!e.includes(i))}return d(this,pt,"f").getType(ve)},"_Feed_getBodyContinuations");var ge=co;var Ks,ux=class extends ge{constructor(e,i,o=!1){super(e,i,o),Ks.set(this,void 0)}get filter_chips(){var e,i;if(d(this,Ks,"f"))return d(this,Ks,"f")||[];if(((e=this.memo.getType(Ti))===null||e===void 0?void 0:e.length)>1)throw new v("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Ti))===null||i===void 0?void 0:i.length)===0)throw new v("There are no feed filter chipbars");return k(this,Ks,this.memo.getType(ye),"f"),d(this,Ks,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return y(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new v("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new v("Invalid filter");if(!o)throw new v("Filter not found");if(o.is_selected)return this;let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new v("Failed to get filtered feed");return new ge(this.actions,s,!0)})}};n(ux,"FilterableFeed");Ks=new WeakMap;var po=ux;var Bb={};L(Bb,{Feed:()=>ge,FilterableFeed:()=>po,MediaInfo:()=>mo,TabbedFeed:()=>tn});var fo,Jt,qs,jh,lx=class{constructor(e,i,o){var s,r;fo.set(this,void 0),Jt.set(this,void 0),qs.set(this,void 0),jh.set(this,void 0),k(this,Jt,i,"f");let u=c.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?c.parseResponse(e[1].data):void 0;if(k(this,fo,[u,p],"f"),k(this,qs,o,"f"),((r=u.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new v("This video is unavailable",u.playability_status);this.streaming_data=u.streaming_data,this.playability_status=u.playability_status,this.player_config=u.player_config,k(this,jh,u.playback_tracking,"f")}toDash(e,i){return y(this,arguments,void 0,function*(o,s,r={include_thumbnails:!1}){var u,p;let f=d(this,fo,"f")[0];if(f.video_details&&f.video_details.is_live)throw new v("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let m,h;return r.include_thumbnails&&f.storyboards&&(m=f.storyboards),typeof r.captions_format=="string"&&((u=f.captions)===null||u===void 0?void 0:u.caption_tracks)&&(h=f.captions.caption_tracks),Ao.toDash(this.streaming_data,(p=this.page[0].video_details)===null||p===void 0?void 0:p.is_post_live_dvr,o,s,d(this,qs,"f"),d(this,Jt,"f").session.player,d(this,Jt,"f"),m,h,r)})}getStreamingInfo(e,i){var o;return T_(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,d(this,Jt,"f").session.player,d(this,Jt,"f"),d(this,fo,"f")[0].storyboards?d(this,fo,"f")[0].storyboards:void 0)}chooseFormat(e){return Ao.chooseFormat(e,this.streaming_data)}download(){return y(this,arguments,void 0,function*(e={}){let i=d(this,fo,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new v("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Ao.download(e,d(this,Jt,"f"),this.playability_status,this.streaming_data,d(this,Jt,"f").session.player,this.cpn)})}getTranscript(){return y(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new v("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new v("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new v("Transcript panel not found. Video likely has no transcript.");let s=(e=o.content)===null||e===void 0?void 0:e.as(ve);if(!s)throw new v("Transcript continuation not found.");let r=yield s.endpoint.call(this.actions);return new cx(this.actions,r)})}addToWatchHistory(){return y(this,arguments,void 0,function*(e=se.CLIENTS.WEB.NAME,i=se.CLIENTS.WEB.VERSION,o="https://www."){if(!d(this,jh,"f"))throw new v("Playback tracking not available");let s={cpn:d(this,qs,"f"),fmt:251,rtn:0,rt:0},r=d(this,jh,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,Jt,"f").stats(r,{client_name:e,client_version:i},s)})}get actions(){return d(this,Jt,"f")}get cpn(){return d(this,qs,"f")}get page(){return d(this,fo,"f")}};n(lx,"MediaInfo");fo=new WeakMap,Jt=new WeakMap,qs=new WeakMap,jh=new WeakMap;var mo=lx;var on,nn,sn=class extends ge{constructor(e,i,o=!1){var s;super(e,i,o),on.set(this,void 0),nn.set(this,void 0),k(this,nn,e,"f"),k(this,on,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(we),"f")}get tabs(){var e,i;return(i=(e=d(this,on,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return y(this,void 0,void 0,function*(){var i;let o=(i=d(this,on,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(d(this,nn,"f"));return new sn(d(this,nn,"f"),s,!1)})}getTabByURL(e){return y(this,void 0,void 0,function*(){var i;let o=(i=d(this,on,"f"))===null||i===void 0?void 0:i.find(r=>{var u;return((u=r.endpoint.metadata.url)===null||u===void 0?void 0:u.split("/").pop())===e});if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let s=yield o.endpoint.call(d(this,nn,"f"));return new sn(d(this,nn,"f"),s,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,on,"f"))===null||i===void 0?void 0:i.some(s=>{var r;return((r=s.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(we))===null||i===void 0?void 0:i.find(s=>s.selected))===null||o===void 0?void 0:o.title.toString()}};n(sn,"TabbedFeed");on=new WeakMap,nn=new WeakMap;var tn=sn;var Ve=class extends tn{constructor(e,i,o=!1){var s,r,u,p,f,m;super(e,i,o),this.header=(r=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||r===void 0?void 0:r.as(Hi,Iv,Ig,ri);let h=(u=this.page.metadata)===null||u===void 0?void 0:u.item().as(Cv),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(ii);if(this.page.alerts){let b=this.page.alerts.first();if((b==null?void 0:b.alert_type)==="ERROR")throw new Xs(b.text.toString())}if(!h&&!this.page.contents)throw new v("Invalid channel",this);this.metadata=Object.assign(Object.assign({},h),x||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(ze).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().as(ui).tabs.array().filterType(we,ks).get({selected:!0})}applyFilter(e){return y(this,void 0,void 0,function*(){var i;let o,s=this.memo.getType(Ti).first();if(typeof e=="string"){if(o=s==null?void 0:s.contents.get({text:e}),!o)throw new v(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof ye&&(o=e);if(!o)throw new v("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new v("No page returned",{filter:o});return new ho(this.actions,r,!0)})}applySort(e){return y(this,void 0,void 0,function*(){var i,o;let s=this.memo.getType(Ft).first();if(!s)throw new v("No sort filter sub menu found");let r=(i=s==null?void 0:s.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!r)throw new v(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let u=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ve(this.actions,u,!0)})}applyContentTypeFilter(e){return y(this,void 0,void 0,function*(){var i,o,s,r;let u=(s=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Z).sub_menu)===null||s===void 0?void 0:s.as(ml);if(!u)throw new v("Sub menu not found");let p=u.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new v(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(r=p.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Ve(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Ti))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(ye).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(Ft).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let s=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Z).sub_menu)===null||o===void 0?void 0:o.as(ml);return(s==null?void 0:s.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ve(this.actions,e.page,!0)})}getVideos(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ve(this.actions,e.page,!0)})}getShorts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ve(this.actions,e.page,!0)})}getLiveStreams(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ve(this.actions,e.page,!0)})}getReleases(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ve(this.actions,e.page,!0)})}getPodcasts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ve(this.actions,e.page,!0)})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ve(this.actions,e.page,!0)})}getCommunity(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ve(this.actions,e.page,!0)})}getAbout(){return y(this,void 0,void 0,function*(){var e,i,o,s,r;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(rl)[0];let u=((e=this.header)===null||e===void 0?void 0:e.is(Hi))&&this.header.tagline;if(u||((i=this.header)===null||i===void 0?void 0:i.is(ri))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(u&&u.more_endpoint instanceof g){let m=yield u.more_endpoint.call(this.actions);return new tn(this.actions,m,!1).memo.getType(rl)[0]}let p=(r=(s=this.page.header_memo)===null||s===void 0?void 0:s.getType(ve)[0])===null||r===void 0?void 0:r.endpoint;if(!p)throw new v("Failed to extract continuation to get channel about");let f=yield p.call(this.actions,{parse:!0});if(!f.on_response_received_endpoints_memo)throw new v("Unexpected response while fetching channel about",{response:f});return f.on_response_received_endpoints_memo.getType(R_)[0]}throw new v("About not found")})}search(e){return y(this,void 0,void 0,function*(){var i,o;let s=(i=this.memo.getType(ks))===null||i===void 0?void 0:i[0];if(!s)throw new v("Search tab not found",this);let r=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ve(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,s,r;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Hi))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(ri))&&((r=(s=this.header.content)===null||s===void 0?void 0:s.description)===null||r===void 0?void 0:r.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(ks))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new rn(this.actions,i,!0)})}};n(Ve,"Channel");var rn=class extends ge{constructor(e,i,o=!1){var s,r;super(e,i,o),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new rn(this.actions,i,!0)})}};n(rn,"ChannelListContinuation");var ho=class extends po{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ho(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new v("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Ti)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(ye)),new ho(this.actions,i,!0)})}};n(ho,"FilteredChannelList");var Qs,di,Zs,an=class{constructor(e,i,o=!1){var s,r,u;Qs.set(this,void 0),di.set(this,void 0),Zs.set(this,void 0),k(this,Qs,o?i:c.parseResponse(i),"f"),k(this,di,e,"f");let p=d(this,Qs,"f").on_response_received_endpoints;if(!p)throw new v("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.firstOfType($i);let h=((r=m==null?void 0:m.contents)===null||r===void 0?void 0:r.filterType(Kv))||[];this.contents=$(h.map(x=>{var b;return(b=x.comment)===null||b===void 0||b.setActions(d(this,di,"f")),x.setActions(d(this,di,"f")),x})),k(this,Zs,(u=m==null?void 0:m.contents)===null||u===void 0?void 0:u.firstOfType(ve),"f")}applySort(e){return y(this,void 0,void 0,function*(){var i,o,s,r;if(!this.header)throw new v("Page header is missing. Cannot apply sort option.");let u;if(e==="TOP_COMMENTS"?u=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(u=(r=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!u)throw new v("Could not find target button.");if(u.selected)return this;let p=yield u.endpoint.call(d(this,di,"f"),{parse:!0});return new an(d(this,di,"f"),p,!0)})}createComment(e){return y(this,void 0,void 0,function*(){var i;if(!this.header)throw new v("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as($v).submit_button;if(!o)throw new v("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new v("Button does not have an endpoint.");return yield o.endpoint.call(d(this,di,"f"),{commentText:e})})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,Zs,"f"))throw new v("Continuation not found");let e=yield d(this,Zs,"f").endpoint.call(d(this,di,"f"),{parse:!0}),i=Object.assign({},d(this,Qs,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new v("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new an(d(this,di,"f"),i,!0)})}get has_continuation(){return!!d(this,Zs,"f")}get page(){return d(this,Qs,"f")}};n(an,"Comments");Qs=new WeakMap,di=new WeakMap,Zs=new WeakMap;var dx=an;var Uh,px=class{constructor(e){Uh.set(this,void 0),k(this,Uh,c.parseResponse(e),"f"),this.contents=d(this,Uh,"f").items.array().as(Is,gg)}get page(){return d(this,Uh,"f")}};n(px,"Guide");Uh=new WeakMap;var fx=px;var er=class extends ge{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(be),this.feed_actions=this.memo.getType(X_).first()}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new er(this.actions,e,!0)})}};n(er,"History");var tr=er;var Gt=class extends po{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(dg).first(),this.contents=this.memo.getType(to).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Gt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return y(this,void 0,void 0,function*(){var i;let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Gt(this.actions,o.page,!0)})}};n(Gt,"HomeFeed");var pi=class extends po{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new v("Unexpected response",this.page);let o=this.page.contents_memo.getType(we).first();if(!o.content)throw new v("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(xg,ri)),this.contents=o.content.as(to)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new pi(this.actions,o.page)})}};n(pi,"HashtagFeed");var mx,hx,Wh,_x=class{constructor(e,i){mx.set(this,void 0),hx.set(this,void 0),Wh.set(this,void 0),k(this,mx,e,"f"),k(this,hx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(j))throw new v('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');k(this,Wh,o.as(j).items,"f")}selectItem(e){return y(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new v("Item does not have an endpoint.");i=e.endpoint}else{let s=d(this,Wh,"f").find(r=>r.is(Xi)?r.as(Xi).icon_type===e:!1);if(!s||!s.is(Xi))throw new v(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new v("Target button does not have an endpoint.");return yield i.call(d(this,hx,"f"),{parse:!0})})}items(){return d(this,Wh,"f")}page(){return d(this,mx,"f")}};n(_x,"ItemMenu");mx=new WeakMap,hx=new WeakMap,Wh=new WeakMap;var vx=_x;var Hh,gx,ir=class extends ge{constructor(e,i,o=!1){var s,r,u,p,f;super(e,i,o),Hh.add(this);let m=this.memo.getType(T0).first(),h=this.memo.getType(I0).first(),x=this.memo.getType(S0).first(),b=(s=this.page.alerts)===null||s===void 0?void 0:s.firstOfType(ns);if(b&&b.alert_type==="ERROR")throw new v(b.text.toString(),b);if(!h&&!x&&Object.keys(this.page).length===0)throw new v("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(r=this.page.metadata)===null||r===void 0?void 0:r.item().as(k0)),{subtitle:m?m.subtitle:null,author:(p=(u=x==null?void 0:x.owner)===null||u===void 0?void 0:u.as(Ws).author)!==null&&p!==void 0?p:m==null?void 0:m.author,thumbnails:(f=h==null?void 0:h.thumbnail_renderer)===null||f===void 0?void 0:f.as(bs,ys).thumbnail,total_items:d(this,Hh,"m",gx).call(this,0,h),views:d(this,Hh,"m",gx).call(this,1,h),last_updated:d(this,Hh,"m",gx).call(this,2,h),can_share:m==null?void 0:m.can_share,can_delete:m==null?void 0:m.can_delete,is_editable:m==null?void 0:m.is_editable,privacy:m==null?void 0:m.privacy}),this.menu=h==null?void 0:h.menu,this.endpoint=h==null?void 0:h.endpoint,this.messages=this.memo.getType(He)}get items(){return $(this.videos.as(Ds,Ls).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(Z).first();return e?!!this.memo.getType(ve).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=this.memo.getType(Z).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(ve).find(r=>!i.contents.includes(r));if(!o)throw new v("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new ir(this.actions,e,!0)})}};n(ir,"Playlist");Hh=new WeakSet,gx=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Si=ir;var Fb,i1,xx=class extends ge{constructor(e,i){if(super(e,i),Fb.add(this),!this.page.contents_memo)throw new v("Page contents not found");this.header=this.memo.getType(ri).first();let o=this.page.contents_memo.getType(js);this.sections=o.map(s=>{var r;return{type:s.icon_type,title:s.title,contents:((r=s.content)===null||r===void 0?void 0:r.key("items").array())||[],getAll:()=>d(this,Fb,"m",i1).call(this,s)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(xx,"Library");Fb=new WeakSet,i1=n(function(e){return y(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(j).hasKey("top_level_buttons")))throw new v(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(j).top_level_buttons.firstOfType(I);if(!o)throw new v("Did not find target button.");let s=yield o.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Si(this.actions,s,!0);case"WATCH_HISTORY":return new tr(this.actions,s,!0);case"CONTENT_CUT":return new ge(this.actions,s,!0);default:throw new v("Target shelf not implemented.")}})},"_Library_getAll");var yx=xx;var Ci,_o,un,Et,zt,ft;function PE(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(PE,"flattenQueue");var bx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(bx,"DelayQueue");var wx=class{constructor(){Ci.set(this,void 0),_o.set(this,void 0),un.set(this,void 0),Et.set(this,void 0),zt.set(this,void 0),ft.set(this,void 0),k(this,Ci,null,"f"),k(this,_o,null,"f"),k(this,un,null,"f"),k(this,Et,[],"f"),k(this,zt,null,"f"),k(this,ft,new bx,"f")}enqueueActionGroup(e){if(d(this,Ci,"f")!==null){let i=Date.now()-d(this,Ci,"f");d(this,ft,"f").back.push(i),5<d(this,ft,"f").front.length+d(this,ft,"f").back.length&&(d(this,ft,"f").front.length||(d(this,ft,"f").front=d(this,ft,"f").back,d(this,ft,"f").front.reverse(),d(this,ft,"f").back=[]),d(this,ft,"f").front.pop()),k(this,_o,Math.max(...d(this,ft,"f").getValues()),"f")}k(this,Ci,Date.now(),"f"),d(this,Et,"f").push(e),d(this,zt,"f")===null&&k(this,zt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(k(this,zt,null,"f"),d(this,Et,"f").length){let e=1e4;d(this,_o,"f")!==null&&d(this,Ci,"f")!==null&&(e=d(this,_o,"f")-Date.now()+d(this,Ci,"f")),e=d(this,Et,"f").length<e/80?1:Math.ceil(d(this,Et,"f").length/(e/80));let i=PE(d(this,Et,"f").splice(0,e));d(this,un,"f")&&d(this,un,"f").call(this,i),d(this,Et,"f")!==null&&(e==1?(e=d(this,_o,"f")/d(this,Et,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,k(this,zt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,zt,"f")!==null&&(clearTimeout(d(this,zt,"f")),k(this,zt,null,"f")),k(this,Et,[],"f")}set callback(e){k(this,un,e,"f")}get callback(){return d(this,un,"f")}get action_queue(){return d(this,Et,"f")}get estimated_update_interval(){return d(this,_o,"f")}get last_update_time(){return d(this,Ci,"f")}get next_update_id(){return d(this,zt,"f")}get poll_response_delay_queue(){return d(this,ft,"f")}};n(wx,"SmoothedQueue");Ci=new WeakMap,_o=new WeakMap,un=new WeakMap,Et=new WeakMap,zt=new WeakMap,ft=new WeakMap;var Tx=wx;var Ye,Ei,zh,kx,cn,Jh,Gh,Yb,Ix,o1,ln,Sx=class extends pa{constructor(e){var i,o;super(),Ye.add(this),Ei.set(this,void 0),zh.set(this,void 0),kx.set(this,void 0),cn.set(this,void 0),Jh.set(this,void 0),Gh.set(this,0),this.running=!1,this.is_replay=!1,k(this,zh,e.basic_info.id,"f"),k(this,kx,e.basic_info.channel_id,"f"),k(this,Ei,e.actions,"f"),k(this,cn,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new Tx,this.smoothed_queue.callback=s=>y(this,void 0,void 0,function*(){s.length?s.length<10?yield d(this,Ye,"m",Ix).call(this,s):this.is_replay?(d(this,Ye,"m",Ix).call(this,s),yield d(this,Ye,"m",ln).call(this,2e3)):d(this,Ye,"m",Ix).call(this,s):yield d(this,Ye,"m",ln).call(this,2e3),this.running&&d(this,Ye,"m",Yb).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,Ye,"m",Yb).call(this),d(this,Ye,"m",o1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Ei,"f").execute("/live_chat/send_message",{params:mb(d(this,kx,"f"),d(this,zh,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:U.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new v("Unexpected response from send_message",i);return i.actions.array().as(Vg)})}applyFilter(e){var i,o,s,r,u,p,f;if(!this.initial_info)throw new v("Cannot apply filter before initial info is retrieved.");let m=(s=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=m==null?void 0:m.at(0))===null||r===void 0)&&r.selected)return;k(this,cn,(u=m==null?void 0:m.at(0))===null||u===void 0?void 0:u.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;k(this,cn,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return y(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new v("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(d(this,Ei,"f"),{parse:!0});if(!i)throw new v("Could not retrieve item menu.",e);return new vx(i,d(this,Ei,"f"))})}selectButton(e){return y(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,Ei,"f"),{parse:!0})})}};n(Sx,"LiveChat");Ei=new WeakMap,zh=new WeakMap,kx=new WeakMap,cn=new WeakMap,Jh=new WeakMap,Gh=new WeakMap,Ye=new WeakSet,Yb=n(function t(){y(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,Ei,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,cn,"f"),parse:!0}),s=o.continuation_contents;if(s||(this.emit("error",new v("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(s instanceof ao)){this.stop(),this.emit("end");return}k(this,cn,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&d(this,Ye,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),k(this,Gh,0,"f")}catch(o){this.emit("error",o),k(this,Gh,(i=d(this,Gh,"f"),e=i++,i),"f"),e<10?(yield d(this,Ye,"m",ln).call(this,2e3),d(this,Ye,"m",t).call(this)):(this.emit("error",new v("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Ix=n(function(e){return y(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),s=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield d(this,Ye,"m",ln).call(this,s),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),o1=n(function t(){y(this,void 0,void 0,function*(){var e,i,o,s,r,u,p,f,m,h,x;try{let b={videoId:d(this,zh,"f")};d(this,Jh,"f")&&(b.continuation=d(this,Jh,"f"));let T=yield d(this,Ei,"f").execute("/updated_metadata",b),S=c.parseResponse(T.data);k(this,Jh,(e=S.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=S.actions)===null||i===void 0?void 0:i.array().firstOfType(Bg))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((s=S.actions)===null||s===void 0?void 0:s.array().firstOfType(Lg))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((u=S.actions)===null||u===void 0?void 0:u.array().firstOfType(Yg))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=S.actions)===null||f===void 0?void 0:f.array().firstOfType(Fg))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((h=S.actions)===null||h===void 0?void 0:h.array().firstOfType(Dg))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield d(this,Ye,"m",ln).call(this,5e3),this.running&&d(this,Ye,"m",t).call(this)}catch(b){yield d(this,Ye,"m",ln).call(this,2e3),this.running&&d(this,Ye,"m",t).call(this)}})},"_LiveChat_pollMetadata"),ln=n(function(e){return y(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Cx=Sx;var dn,$h,or=class{constructor(e,i){dn.set(this,void 0),$h.set(this,void 0),k(this,$h,e,"f"),k(this,dn,c.parseResponse(i.data),"f"),this.header=d(this,dn,"f").actions_memo.getType(qg).first(),this.contents=d(this,dn,"f").actions_memo.getType(p0)}getContinuation(){return y(this,void 0,void 0,function*(){let e=d(this,dn,"f").actions_memo.getType(ve).first();if(!e)throw new v("Continuation not found");let i=yield e.endpoint.call(d(this,$h,"f"),{parse:!1});return new or(d(this,$h,"f"),i)})}get page(){return d(this,dn,"f")}};n(or,"NotificationsMenu");dn=new WeakMap,$h=new WeakMap;var Ex=or;var pn=class extends ge{constructor(e,i,o=!1){var s,r,u,p,f,m;super(e,i,o);let h=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(Z).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!h)throw new v("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(R0)),this.results=(u=h.find(x=>x.is(be)&&x.contents&&x.contents.length>0))===null||u===void 0?void 0:u.as(be).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(V0).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(H0).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(ji)}selectRefinementCard(e){return y(this,void 0,void 0,function*(){var i,o;let s;if(typeof e=="string"){if(!this.refinement_cards)throw new v("No refinement cards found.");if(s=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Do),!s)throw new v(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new v("Invalid refinement card!");let r=yield s.endpoint.call(this.actions,{parse:!0});return new pn(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Do).map(i=>i.query))||[]}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new pn(this.actions,e,!0)})}};n(pn,"Search");var Px=pn;var fn,Kh,nr=class{constructor(e,i){var o,s,r,u;if(fn.set(this,void 0),Kh.set(this,void 0),k(this,Kh,e,"f"),k(this,fn,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,fn,"f").sidebar)===null||o===void 0?void 0:o.as(D0),!d(this,fn,"f").contents)throw new v("Page contents not found");let p=d(this,fn,"f").contents.item().as(ui).tabs.array().as(we).get({selected:!0});if(!p)throw new v("Target tab not found");let f=(s=p.content)===null||s===void 0?void 0:s.as(Z).contents.as(be);this.introduction=(u=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||u===void 0?void 0:u.firstOfType(m0),this.sections=f==null?void 0:f.map(m=>{var h;return{title:!((h=m.header)===null||h===void 0)&&h.is($i,Ss,Cs)?m.header.title.toString():null,contents:m.contents}})}selectSidebarItem(e){return y(this,void 0,void 0,function*(){if(!this.sidebar)throw new v("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new v(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(xs))i=e;else throw new v("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,Kh,"f"),{parse:!1});return new nr(d(this,Kh,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new v("Sections not available");for(let o of this.sections)if(!!o.contents)for(let s of o.contents){let r=s.as(Ys).options;if(r){for(let u of r)if(u.is(Fs)&&((i=u.title)===null||i===void 0?void 0:i.toString())===e)return u}}throw new v(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new v("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Ys).options&&(e=e.concat(o.as(Ys).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new v("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,fn,"f")}};n(nr,"Settings");fn=new WeakMap,Kh=new WeakMap;var Nx=nr;var sr,Ax=class{constructor(e){var i;if(sr.set(this,void 0),k(this,sr,c.parseResponse(e.data),"f"),!d(this,sr,"f").contents)throw new v("Page contents not found");let o=d(this,sr,"f").contents.item().as(ai).tabs.get({selected:!0});if(!o)throw new v("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Z).contents.as(be)}get page(){return d(this,sr,"f")}};n(Ax,"TimeWatched");sr=new WeakMap;var Rx=Ax;var vo,rr=class extends mo{constructor(e,i,o){var s,r,u,p,f,m,h,x,b,T,S,C,P,R,V,H,_e,me,Se,K,xe,X,q,ee,ue,De,_t,Tt,Q,Ge,Xt,Qt,Ce,ut,Hn,Jn,Gn,zn,$n,Kn,qn,Xn,Qn,Zn,es;super(e,i,o),vo.set(this,void 0);let[pe,kt]=this.page;if(pe.microformat&&!(!((s=pe.microformat)===null||s===void 0)&&s.is(Ct,ii)))throw new v("Invalid microformat",pe.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},pe.video_details),{embed:!((r=pe.microformat)===null||r===void 0)&&r.is(Ct)?(u=pe.microformat)===null||u===void 0?void 0:u.embed:null,channel:!((p=pe.microformat)===null||p===void 0)&&p.is(Ct)?(f=pe.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=pe.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(h=pe.microformat)===null||h===void 0?void 0:h.is_family_safe,category:!((x=pe.microformat)===null||x===void 0)&&x.is(Ct)?(b=pe.microformat)===null||b===void 0?void 0:b.category:null,has_ypc_metadata:!((T=pe.microformat)===null||T===void 0)&&T.is(Ct)?(S=pe.microformat)===null||S===void 0?void 0:S.has_ypc_metadata:null,start_timestamp:!((C=pe.microformat)===null||C===void 0)&&C.is(Ct)?pe.microformat.start_timestamp:null,end_timestamp:!((P=pe.microformat)===null||P===void 0)&&P.is(Ct)?pe.microformat.end_timestamp:null,view_count:((R=pe.microformat)===null||R===void 0?void 0:R.is(Ct))&&isNaN((V=pe.video_details)===null||V===void 0?void 0:V.view_count)?pe.microformat.view_count:(H=pe.video_details)===null||H===void 0?void 0:H.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=pe.annotations,this.storyboards=pe.storyboards,this.endscreen=pe.endscreen,this.captions=pe.captions,this.cards=pe.cards,this.streaming_data){let Pe=this.streaming_data.adaptive_formats.find(et=>{var vt;return(vt=et.audio_track)===null||vt===void 0?void 0:vt.audio_is_default});if(Pe)this.streaming_data.formats.forEach(et=>et.language=Pe.language);else if(((_e=this.captions)===null||_e===void 0?void 0:_e.caption_tracks)&&((me=this.captions)===null||me===void 0?void 0:me.caption_tracks.length)>0){let et=this.captions.caption_tracks.find(Te=>Te.kind==="asr"),vt=et==null?void 0:et.language_code;this.streaming_data.adaptive_formats.forEach(Te=>{Te.has_audio&&(Te.language=vt)}),this.streaming_data.formats.forEach(Te=>Te.language=vt)}}let Ue=(Se=kt==null?void 0:kt.contents)===null||Se===void 0?void 0:Se.item().as(Us),xi=Ue==null?void 0:Ue.results,Io=Ue==null?void 0:Ue.secondary_results;if(xi&&Io){if(((K=pe.microformat)===null||K===void 0?void 0:K.is(Ct))&&((xe=pe.microformat)===null||xe===void 0?void 0:xe.category)==="Gaming"){let Te=(ee=(q=(X=xi.firstOfType(bh))===null||X===void 0?void 0:X.metadata)===null||q===void 0?void 0:q.rows)===null||ee===void 0?void 0:ee.firstOfType(pm);Te!=null&&Te.is(pm)&&(this.game_info={title:(De=(ue=Te==null?void 0:Te.contents)===null||ue===void 0?void 0:ue.firstOfType(cm))===null||De===void 0?void 0:De.title,release_year:(Tt=(_t=Te==null?void 0:Te.contents)===null||_t===void 0?void 0:_t.firstOfType(cm))===null||Tt===void 0?void 0:Tt.subtitle})}this.primary_info=xi.firstOfType(J0),this.secondary_info=xi.firstOfType(bh),this.merchandise=xi.firstOfType(Xg),this.related_chip_cloud=(Q=Io.firstOfType(P0))===null||Q===void 0?void 0:Q.content.as(gt),Ue!=null&&Ue.playlist&&(this.playlist=Ue.playlist),this.watch_next_feed=((Ge=Io.firstOfType(be))===null||Ge===void 0?void 0:Ge.contents)||Io,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Xt=this.watch_next_feed.at(-1))===null||Xt===void 0?void 0:Xt.is(ve))&&k(this,vo,(Qt=this.watch_next_feed.pop())===null||Qt===void 0?void 0:Qt.as(ve),"f"),this.player_overlays=(Ce=kt==null?void 0:kt.player_overlays)===null||Ce===void 0?void 0:Ce.item().as(eo),Ue!=null&&Ue.autoplay&&(this.autoplay=Ue.autoplay);let Pe=(Hn=(ut=this.primary_info)===null||ut===void 0?void 0:ut.menu)===null||Hn===void 0?void 0:Hn.top_level_buttons.firstOfType($o);((Jn=Pe==null?void 0:Pe.like_button)===null||Jn===void 0?void 0:Jn.is(Ne))&&((Gn=Pe==null?void 0:Pe.dislike_button)===null||Gn===void 0?void 0:Gn.is(Ne))&&(this.basic_info.like_count=(zn=Pe==null?void 0:Pe.like_button)===null||zn===void 0?void 0:zn.like_count,this.basic_info.is_liked=($n=Pe==null?void 0:Pe.like_button)===null||$n===void 0?void 0:$n.is_toggled,this.basic_info.is_disliked=(Kn=Pe==null?void 0:Pe.dislike_button)===null||Kn===void 0?void 0:Kn.is_toggled);let et=(Xn=(qn=this.primary_info)===null||qn===void 0?void 0:qn.menu)===null||Xn===void 0?void 0:Xn.top_level_buttons.firstOfType(Ko);if(et&&(this.basic_info.like_count=et.like_count,et.like_button)){let Te=et.like_button.like_status_entity.like_status;this.basic_info.is_liked=Te==="LIKE",this.basic_info.is_disliked=Te==="DISLIKE"}let vt=(Qn=xi.get({target_id:"comments-entry-point"}))===null||Qn===void 0?void 0:Qn.as(be);this.comments_entry_point_header=(Zn=vt==null?void 0:vt.contents)===null||Zn===void 0?void 0:Zn.firstOfType(zv),this.livechat=(es=kt==null?void 0:kt.contents_memo)===null||es===void 0?void 0:es.getType(Ng).first()}}selectFilter(e){return y(this,void 0,void 0,function*(){var i,o,s,r;if(!this.related_chip_cloud)throw new v("Chip cloud not found, cannot apply filter");let u;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new v("Invalid filter",{available_filters:this.filters});u=m}else if(e!=null&&e.is(ye))u=e;else throw new v("Invalid cloud chip",e);if(u.is_selected)return this;let p=yield(s=u.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),f=(r=p==null?void 0:p.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){return y(this,void 0,void 0,function*(){var e,i,o,s,r;if(!d(this,vo,"f"))throw new v("Watch next feed continuation not found");let u=yield(e=d(this,vo,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=u==null?void 0:u.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new v("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||s===void 0)&&s.is(ve)?k(this,vo,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(ve),"f"):k(this,vo,void 0,"f"),this})}like(){return y(this,void 0,void 0,function*(){var e,i,o,s,r;let u=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ko);if(u){let h=(o=u==null?void 0:u.like_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!u.like_button)throw new v("Like button not found",{video_id:this.basic_info.id});if(u.like_button.like_status_entity.like_status==="LIKE")throw new v("This video is already liked",{video_id:this.basic_info.id});return yield new g(h.default_button.on_tap.payload.commands.find(S=>S.innertubeCommand)).call(this.actions)}let p=(r=(s=this.primary_info)===null||s===void 0?void 0:s.menu)===null||r===void 0?void 0:r.top_level_buttons.firstOfType($o),f=p==null?void 0:p.like_button;if(!f)throw new v("Like button not found",{video_id:this.basic_info.id});if(!f.is(Ne))throw new v("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new v("This video is already liked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}dislike(){return y(this,void 0,void 0,function*(){var e,i,o,s,r;let u=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ko);if(u){let h=(o=u==null?void 0:u.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!u.dislike_button||!u.like_button)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(u.like_button.like_status_entity.like_status==="DISLIKE")throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield new g(h.default_button.on_tap.payload.commands.find(S=>S.innertubeCommand)).call(this.actions)}let p=(r=(s=this.primary_info)===null||s===void 0?void 0:s.menu)===null||r===void 0?void 0:r.top_level_buttons.firstOfType($o),f=p==null?void 0:p.dislike_button;if(!f)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(!f.is(Ne))throw new v("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}removeRating(){return y(this,void 0,void 0,function*(){var e,i,o,s,r,u,p;let f,m=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ko);if(m){let S=(o=m==null?void 0:m.like_button)===null||o===void 0?void 0:o.toggle_button;if(!S||!S.default_button||!m.like_button)throw new v("Like button not found",{video_id:this.basic_info.id});let C=m.like_button.like_status_entity.like_status;if(C==="LIKE")f=(s=m==null?void 0:m.like_button)===null||s===void 0?void 0:s.toggle_button;else if(C==="DISLIKE")f=(r=m==null?void 0:m.dislike_button)===null||r===void 0?void 0:r.toggle_button;else throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});if(!f||!f.toggled_button)throw new v("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new g(f.toggled_button.on_tap.payload.commands.find(V=>V.innertubeCommand)).call(this.actions)}let h=(p=(u=this.primary_info)===null||u===void 0?void 0:u.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType($o),x=h==null?void 0:h.like_button,b=h==null?void 0:h.dislike_button;if(!(x!=null&&x.is(Ne))||!(b!=null&&b.is(Ne)))throw new v("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?f=x:b!=null&&b.is_toggled&&(f=b),!f)throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});return yield f.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new v("Live Chat is not available",{video_id:this.basic_info.id});return new Cx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Af).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new rr([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var s;return(s=o.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!d(this,vo,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Af))}get music_tracks(){var e,i,o,s,r,u;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var m;return(m=f.content)===null||m===void 0?void 0:m.is(Bo)});if(p!==void 0&&p.length>0){let f=(r=(s=(o=p[0].content)===null||o===void 0?void 0:o.as(Bo))===null||s===void 0?void 0:s.items)===null||r===void 0?void 0:r.filterType(ps);if(f!==void 0&&f.length>0)return(u=f[0].carousel_lockups)===null||u===void 0?void 0:u.map(m=>{var h,x,b,T,S,C,P,R,V,H,_e,me,Se,K,xe,X,q,ee,ue;let De,_t,Tt,Q,Ge,Xt;De=(x=(h=m.video_lockup)===null||h===void 0?void 0:h.title)===null||x===void 0?void 0:x.toString(),Ge=(b=m.video_lockup)===null||b===void 0?void 0:b.endpoint.payload.videoId;for(let Qt=0;Qt<m.info_rows.length;Qt++){let Ce=m.info_rows[Qt];if(Ce.info_row_expand_status_key===void 0)if(De===void 0){if(De=((T=Ce.default_metadata)===null||T===void 0?void 0:T.toString())||((S=Ce.expanded_metadata)===null||S===void 0?void 0:S.toString()),Ge===void 0){let ut=((C=Ce.default_metadata)===null||C===void 0?void 0:C.endpoint)||((P=Ce.expanded_metadata)===null||P===void 0?void 0:P.endpoint);Ge=(R=ut==null?void 0:ut.payload)===null||R===void 0?void 0:R.videoId}}else Tt=((V=Ce.default_metadata)===null||V===void 0?void 0:V.toString())||((H=Ce.expanded_metadata)===null||H===void 0?void 0:H.toString());else{if(((_e=Ce.info_row_expand_status_key)===null||_e===void 0?void 0:_e.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(_t=((me=Ce.default_metadata)===null||me===void 0?void 0:me.toString())||((Se=Ce.expanded_metadata)===null||Se===void 0?void 0:Se.toString()),Xt===void 0)){let ut=((K=Ce.default_metadata)===null||K===void 0?void 0:K.endpoint)||((xe=Ce.expanded_metadata)===null||xe===void 0?void 0:xe.endpoint);Xt=(X=ut==null?void 0:ut.payload)===null||X===void 0?void 0:X.browseId}((q=Ce.info_row_expand_status_key)===null||q===void 0?void 0:q.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(Q=((ee=Ce.default_metadata)===null||ee===void 0?void 0:ee.toString())||((ue=Ce.expanded_metadata)===null||ue===void 0?void 0:ue.toString()))}}return{song:De,artist:_t,album:Tt,license:Q,videoId:Ge,channelId:Xt}})}return[]}};n(rr,"VideoInfo");vo=new WeakMap;var qh=rr;var Xh,Qh,ar=class{constructor(e,i){Xh.set(this,void 0),Qh.set(this,void 0),k(this,Xh,c.parseResponse(i.data),"f"),k(this,Qh,e,"f"),this.transcript=d(this,Xh,"f").actions_memo.getType(os).first()}selectLanguage(e){return y(this,void 0,void 0,function*(){var i,o,s,r;let u=(r=(s=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||r===void 0?void 0:r.find(f=>f.title.toString()===e);if(!u)throw new Error(`Language not found: ${e}`);if(u.selected)return this;let p=yield d(this,Qh,"f").execute("/get_transcript",{params:u.continuation});return new ar(d(this,Qh,"f"),p)})}get languages(){var e,i,o,s;return((s=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||s===void 0?void 0:s.map(r=>r.title.toString()))||[]}get selectedLanguage(){var e,i,o,s,r;return((r=(s=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||s===void 0?void 0:s.find(u=>u.selected))===null||r===void 0?void 0:r.title.toString())||""}get page(){return d(this,Xh,"f")}};n(ar,"TranscriptInfo");Xh=new WeakMap,Qh=new WeakMap;var cx=ar;var Wb={};L(Wb,{Album:()=>Mx,Artist:()=>Lx,Explore:()=>Fx,HomeFeed:()=>Yx,Library:()=>jx,LibraryContinuation:()=>vn,Playlist:()=>hr,Recap:()=>Wx,Search:()=>Hx,TrackInfo:()=>n_});var fi,Vx=class{constructor(e){var i,o,s;if(fi.set(this,void 0),k(this,fi,c.parseResponse(e.data),"f"),!d(this,fi,"f").contents_memo)throw new Error("No contents found in the response");this.header=(i=d(this,fi,"f").contents_memo.getType(Vs,Os))===null||i===void 0?void 0:i.first(),this.contents=((o=d(this,fi,"f").contents_memo.getType(ke))===null||o===void 0?void 0:o.first().contents)||$([]),this.sections=d(this,fi,"f").contents_memo.getType(Fe)||$([]),this.background=d(this,fi,"f").background,this.url=(s=d(this,fi,"f").microformat)===null||s===void 0?void 0:s.as(ii).url_canonical}get page(){return d(this,fi,"f")}};n(Vx,"Album");fi=new WeakMap;var Mx=Vx;var ur,Ox,Dx=class{constructor(e,i){var o,s,r;ur.set(this,void 0),Ox.set(this,void 0),k(this,ur,c.parseResponse(e.data),"f"),k(this,Ox,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(r0,d0,Zi);let u=((s=d(this,ur,"f").contents_memo)===null||s===void 0?void 0:s.getType(ke))||[],p=((r=d(this,ur,"f").contents_memo)===null||r===void 0?void 0:r.getType(Fe))||[];this.sections=$([...u,...p])}getAllSongs(){return y(this,void 0,void 0,function*(){var e,i;let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new v("Could not find any node of type MusicShelf.");let s=o.find(p=>p.title.toString()==="Songs");if(!s)throw new v("Could not find target shelf (Songs).");if(!s.endpoint)throw new v("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield s.endpoint.call(d(this,Ox,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(zo))===null||i===void 0?void 0:i.first()})}get page(){return d(this,ur,"f")}};n(Dx,"Artist");ur=new WeakMap,Ox=new WeakMap;var Lx=Dx;var Zh,Bx=class{constructor(e){var i,o,s;Zh.set(this,void 0),k(this,Zh,c.parseResponse(e.data),"f");let r=(i=d(this,Zh,"f").contents)===null||i===void 0?void 0:i.item().as(ai).tabs.get({selected:!0});if(!r)throw new v("Could not find target tab.");let u=(o=r.content)===null||o===void 0?void 0:o.as(Z);if(!u)throw new v("Target tab did not have any content.");this.top_buttons=((s=u.contents.firstOfType(Wo))===null||s===void 0?void 0:s.items.as(Ns))||[],this.sections=u.contents.filterType(Fe)}get page(){return d(this,Zh,"f")}};n(Bx,"Explore");Zh=new WeakMap;var Fx=Bx;var go,mn,hn,_n=class{constructor(e,i){var o,s,r,u,p,f;go.set(this,void 0),mn.set(this,void 0),hn.set(this,void 0),k(this,mn,i,"f"),k(this,go,c.parseResponse(e.data),"f");let m=(o=d(this,go,"f").contents)===null||o===void 0?void 0:o.item().as(ai).tabs.get({selected:!0});if(!m)throw new v("Could not find Home tab.");if(m.content===null){if(!d(this,go,"f").continuation_contents)throw new v("Continuation did not have any content.");k(this,hn,d(this,go,"f").continuation_contents.as(dt).continuation,"f"),this.sections=(s=d(this,go,"f").continuation_contents.as(dt).contents)===null||s===void 0?void 0:s.as(Fe);return}this.header=(u=(r=m.content)===null||r===void 0?void 0:r.as(Z).header)===null||u===void 0?void 0:u.as(gt),k(this,hn,(p=m.content)===null||p===void 0?void 0:p.as(Z).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(Z).contents.as(Fe,c0)}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,hn,"f"))throw new v("Continuation not found.");let e=yield d(this,mn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,hn,"f")});return new _n(e,d(this,mn,"f"))})}applyFilter(e){return y(this,void 0,void 0,function*(){var i,o;let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ye).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ye)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(d(this,mn,"f"),{client:"YTMUSIC"});return new _n(r,d(this,mn,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ye).map(o=>o.text))||[]}get has_continuation(){return!!d(this,hn,"f")}get page(){return d(this,go,"f")}};n(_n,"HomeFeed");go=new WeakMap,mn=new WeakMap,hn=new WeakMap;var Yx=_n;var mi,xo,lr,cr,e_,dr,pr=class{constructor(e,i){var o,s,r,u,p;mi.set(this,void 0),xo.set(this,void 0),lr.set(this,void 0),k(this,mi,c.parseResponse(e.data),"f"),k(this,xo,i,"f");let f=(o=d(this,mi,"f").contents_memo)===null||o===void 0?void 0:o.getType(Z).first();this.header=(s=f==null?void 0:f.header)===null||s===void 0?void 0:s.as(u0),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Wo,ke),k(this,lr,(p=(u=this.contents)===null||u===void 0?void 0:u.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){return y(this,void 0,void 0,function*(){var i,o,s,r,u,p,f,m,h,x;let b;if(typeof e=="string"){let P=(i=d(this,mi,"f").contents_memo)===null||i===void 0?void 0:i.getType(mf).first(),R=(o=P==null?void 0:P.menu)===null||o===void 0?void 0:o.options.filter(V=>V instanceof jt);if(b=R==null?void 0:R.find(V=>V.title===e),!b)throw new v(`Sort option "${e}" not found`,{available_filters:R.map(V=>V.title)})}else e instanceof jt&&(b=e);if(!b)throw new v("Invalid sort option");if(b.selected)return this;let T=(p=(u=(r=(s=b.endpoint)===null||s===void 0?void 0:s.payload)===null||r===void 0?void 0:r.commands)===null||u===void 0?void 0:u.find(P=>P.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!T)throw new v("Failed to find sort option command");let S=yield d(this,xo,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),C=(m=(f=d(this,mi,"f").contents_memo)===null||f===void 0?void 0:f.getType(jt))===null||m===void 0?void 0:m.find(P=>P.selected);return C&&(C.selected=!1),b.selected=!0,this.contents=(x=(h=S.continuation_contents)===null||h===void 0?void 0:h.as(dt).contents)===null||x===void 0?void 0:x.as(Wo,ke),this})}applyFilter(e){return y(this,void 0,void 0,function*(){var i,o,s,r;let u,p=(i=d(this,mi,"f").contents_memo)===null||i===void 0?void 0:i.getType(gt).first();if(typeof e=="string"){if(u=p==null?void 0:p.chips.get({text:e}),!u)throw new v(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof ye&&(u=e);if(!u)throw new v("Invalid filter",e);let m=yield new g((r=(s=(o=u.endpoint)===null||o===void 0?void 0:o.payload)===null||s===void 0?void 0:s.commands)===null||r===void 0?void 0:r[0]).call(d(this,xo,"f"),{client:"YTMUSIC"});return new pr(m,d(this,xo,"f"))})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,lr,"f"))throw new v("No continuation available");let e=yield d(this,xo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,lr,"f")});return new vn(e,d(this,xo,"f"))})}get has_continuation(){return!!d(this,lr,"f")}get sort_options(){var e,i;let o=(e=d(this,mi,"f").contents_memo)===null||e===void 0?void 0:e.getType(mf).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof jt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=d(this,mi,"f").contents_memo)===null||e===void 0?void 0:e.getType(gt))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,mi,"f")}};n(pr,"Library");mi=new WeakMap,xo=new WeakMap,lr=new WeakMap;var vn=class{constructor(e,i){if(cr.set(this,void 0),e_.set(this,void 0),dr.set(this,void 0),k(this,cr,c.parseResponse(e.data),"f"),k(this,e_,i,"f"),!d(this,cr,"f").continuation_contents)throw new v("No continuation contents found");this.contents=d(this,cr,"f").continuation_contents.as(ci,ro),k(this,dr,this.contents.continuation||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,dr,"f"))throw new v("No continuation available");let e=yield d(this,e_,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,dr,"f")});return new vn(e,d(this,e_,"f"))})}get has_continuation(){return!!d(this,dr,"f")}get page(){return d(this,cr,"f")}};n(vn,"LibraryContinuation");cr=new WeakMap,e_=new WeakMap,dr=new WeakMap;var jx=pr;var Ub,yt,xn,gn,fr,t_,n1,mr=class{constructor(e,i){var o,s,r,u,p,f;if(Ub.add(this),yt.set(this,void 0),xn.set(this,void 0),gn.set(this,void 0),fr.set(this,void 0),t_.set(this,void 0),k(this,xn,i,"f"),k(this,yt,c.parseResponse(e.data),"f"),k(this,fr,null,"f"),k(this,t_,null,"f"),d(this,yt,"f").continuation_contents){let m=(o=d(this,yt,"f").continuation_contents)===null||o===void 0?void 0:o.as(so);if(!m.contents)throw new v("No contents found in the response");this.contents=m.contents.as(ni),k(this,gn,m.continuation,"f")}else{if(!d(this,yt,"f").contents_memo)throw new v("No contents found in the response");this.header=(s=d(this,yt,"f").contents_memo.getType(Os,s0,Vs))===null||s===void 0?void 0:s.first(),this.contents=((u=(r=d(this,yt,"f").contents_memo.getType(zo))===null||r===void 0?void 0:r.first())===null||u===void 0?void 0:u.contents)||$([]),this.background=d(this,yt,"f").background,k(this,gn,((f=(p=d(this,yt,"f").contents_memo.getType(zo))===null||p===void 0?void 0:p.first())===null||f===void 0?void 0:f.continuation)||null,"f")}}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,gn,"f"))throw new v("Continuation not found.");let e=yield d(this,xn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,gn,"f")});return new mr(e,d(this,xn,"f"))})}getRelated(){return y(this,void 0,void 0,function*(){var e,i,o,s;let r=(e=d(this,yt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Z).find(p=>p.continuation);if(!r)throw new v('Could not find "Related" section.');let u=r.continuation;for(;u;){let f=(i=(yield d(this,xn,"f").execute("/browse",{client:"YTMUSIC",continuation:u,parse:!0})).continuation_contents)===null||i===void 0?void 0:i.as(dt),m=(o=f==null?void 0:f.contents)===null||o===void 0?void 0:o.as(Fe,ke),h=(s=m==null?void 0:m.find(x=>x.is(Fe)))===null||s===void 0?void 0:s.as(Fe);if(h)return h;u=f==null?void 0:f.continuation}throw new v("Could not fetch related playlists.")})}getSuggestions(){return y(this,arguments,void 0,function*(e=!0){let s=yield e||!d(this,fr,"f")?d(this,Ub,"m",n1).call(this):Promise.resolve(null);return s&&(k(this,fr,s.items,"f"),k(this,t_,s.continuation,"f")),(s==null?void 0:s.items)||d(this,fr,"f")||$([])})}get page(){return d(this,yt,"f")}get items(){return this.contents||$([])}get has_continuation(){return!!d(this,gn,"f")}};n(mr,"Playlist");yt=new WeakMap,xn=new WeakMap,gn=new WeakMap,fr=new WeakMap,t_=new WeakMap,Ub=new WeakSet,n1=n(function(){return y(this,void 0,void 0,function*(){var e,i,o,s;let r=(e=d(this,yt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Z).find(p=>p.continuation),u=d(this,t_,"f")||(r==null?void 0:r.continuation);if(u){let f=(i=(yield d(this,xn,"f").execute("/browse",{client:"YTMUSIC",continuation:u,parse:!0})).continuation_contents)===null||i===void 0?void 0:i.as(dt),m=(o=f==null?void 0:f.contents)===null||o===void 0?void 0:o.as(Fe,ke),h=(s=m==null?void 0:m.find(x=>x.is(ke)))===null||s===void 0?void 0:s.as(ke);return{items:(h==null?void 0:h.contents)||$([]),continuation:(h==null?void 0:h.continuation)||null}}return{items:$([]),continuation:null}})},"_Playlist_fetchSuggestions");var hr=mr;var yo,i_,Ux=class{constructor(e,i){var o,s,r,u,p,f,m;yo.set(this,void 0),i_.set(this,void 0),k(this,yo,c.parseResponse(e.data),"f"),k(this,i_,i,"f");let h=(o=d(this,yo,"f").header)===null||o===void 0?void 0:o.item();this.header=h!=null&&h.is(Xp)?(u=(r=(s=d(this,yo,"f").header)===null||s===void 0?void 0:s.item().as(Xp).element)===null||r===void 0?void 0:r.model)===null||u===void 0?void 0:u.as(td):(p=d(this,yo,"f").header)===null||p===void 0?void 0:p.item().as(Zi);let x=(f=d(this,yo,"f").contents)===null||f===void 0?void 0:f.item().as(ai).tabs.firstOfType(we);if(!x)throw new v("Target tab not found");this.sections=(m=x.content)===null||m===void 0?void 0:m.as(Z).contents.as(be,Fe,He)}getPlaylist(){return y(this,void 0,void 0,function*(){if(!this.header)throw new v("Header not found");if(!this.header.is(td))throw new v("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,i_,"f"),{client:"YTMUSIC"});return new hr(i,d(this,i_,"f"))})}get page(){return d(this,yo,"f")}};n(Ux,"Recap");yo=new WeakMap,i_=new WeakMap;var Wx=Ux;var hi,Pi,_r,o_,vr,yn=class{constructor(e,i,o){var s,r,u;if(hi.set(this,void 0),Pi.set(this,void 0),_r.set(this,void 0),k(this,Pi,i,"f"),k(this,hi,c.parseResponse(e.data),"f"),!d(this,hi,"f").contents||!d(this,hi,"f").contents_memo)throw new v("Response did not contain any contents.");let p=d(this,hi,"f").contents.item().as(j0).tabs.get({selected:!0});if(!p)throw new v("Could not find target tab.");let f=(s=p.content)===null||s===void 0?void 0:s.as(Z);if(!f)throw new v("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(gt),this.contents=f.contents.as(ke,e0,be),o&&k(this,_r,(u=this.contents.firstOfType(ke))===null||u===void 0?void 0:u.continuation,"f")}getMore(e){return y(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new v("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,Pi,"f"),{client:"YTMUSIC"});if(!i)throw new v("Endpoint did not return any data");return new yn(i,d(this,Pi,"f"),!0)})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,_r,"f"))throw new v("Continuation not found.");let e=yield d(this,Pi,"f").execute("/search",{continuation:d(this,_r,"f"),client:"YTMUSIC"});return new gr(d(this,Pi,"f"),e)})}applyFilter(e){return y(this,void 0,void 0,function*(){var i,o;let s;if(typeof e=="string"){if(s=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ye).get({text:e}),!s)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ye)&&(s=e);if(!s)throw new v("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new v("Selected filter does not have an endpoint.");let r=yield s.endpoint.call(d(this,Pi,"f"),{client:"YTMUSIC"});return new yn(r,d(this,Pi,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ye).map(o=>o.text))||[]}get has_continuation(){return!!d(this,_r,"f")}get did_you_mean(){var e;return(e=d(this,hi,"f").contents_memo)===null||e===void 0?void 0:e.getType(og).first()}get showing_results_for(){var e;return(e=d(this,hi,"f").contents_memo)===null||e===void 0?void 0:e.getType(B0).first()}get message(){var e;return(e=d(this,hi,"f").contents_memo)===null||e===void 0?void 0:e.getType(He).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ke).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ke).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ke).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ke).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ke).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(ke))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(ke)}get page(){return d(this,hi,"f")}};n(yn,"Search");hi=new WeakMap,Pi=new WeakMap,_r=new WeakMap;var Hx=yn,gr=class{constructor(e,i){var o,s;o_.set(this,void 0),vr.set(this,void 0),k(this,o_,e,"f"),k(this,vr,c.parseResponse(i.data),"f"),this.header=(o=d(this,vr,"f").header)===null||o===void 0?void 0:o.item().as(Zi),this.contents=(s=d(this,vr,"f").continuation_contents)===null||s===void 0?void 0:s.as(ci)}getContinuation(){return y(this,void 0,void 0,function*(){var e;if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new v("Continuation not found.");let i=yield d(this,o_,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new gr(d(this,o_,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,vr,"f")}};n(gr,"SearchContinuation");o_=new WeakMap,vr=new WeakMap;var Jx=class extends mo{constructor(e,i,o){var s,r,u,p,f,m,h,x,b;super(e,i,o);let[T,S]=this.page;if(!(!((s=T.microformat)===null||s===void 0)&&s.is(ii)))throw new v("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(r=T.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(u=T.microformat)===null||u===void 0?void 0:u.is_unlisted,is_family_safe:(p=T.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=T.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,S){let C=(x=(h=S.contents_memo)===null||h===void 0?void 0:h.getType(z0))===null||x===void 0?void 0:x[0];this.tabs=C==null?void 0:C.tabs.array().as(we),this.current_video_endpoint=S.current_video_endpoint,this.player_overlays=(b=S.player_overlays)===null||b===void 0?void 0:b.item().as(eo)}}getTab(e){return y(this,void 0,void 0,function*(){var i,o;if(!this.tabs)throw new v("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(u=>{var p,f;return((f=(p=u.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!s)throw new v(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let r=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().type)==="Message")return r.contents.item().as(He);if(!r.contents)throw new v("Page contents was empty",r);return r.contents.item().as(Z).contents})}getUpNext(){return y(this,arguments,void 0,function*(e=!0){var i,o;let s=yield this.getTab("Up next");if(!s||!s.content)throw new v("Music queue was empty, the video id is probably invalid.",s);let r=s.content.as(si);if(!r.playlist_id&&e){let u=r.contents.firstOfType(Fi);if(!u)throw new v("Automix item not found");let p=yield(i=u.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new v("Could not fetch automix");return(o=p.contents_memo.getType(si))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return y(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return y(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(Qi)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,se.CLIENTS.YTMUSIC.NAME,se.CLIENTS.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(Jx,"TrackInfo");var n_=Jx;var Hb={};L(Hb,{Channel:()=>Gx,HomeFeed:()=>zx,Search:()=>Kx,VideoInfo:()=>Xx});var xr=class extends ge{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(Hi),this.contents=this.memo.getType(be).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(io))}getContinuation(){return y(this,void 0,void 0,function*(){var e;let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new xr(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(xr,"Channel");var Gx=xr;var yr=class extends ge{constructor(e,i,o=!1){var s,r;super(e,i,o),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(K0),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(q0)}selectCategoryTab(e){return y(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(Js)&&(o=e),!o)throw new v(`Tab "${e}" not found`);let s=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new yr(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(yr,"HomeFeed");var zx=yr;var $x=class extends ge{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(be).first();if(!o)throw new v("No item section found in search response.");this.contents=o.contents}};n($x,"Search");var Kx=$x;var qx=class extends mo{constructor(e,i,o){var s,r,u,p,f;super(e,i,o);let[m,h]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let x=(s=h==null?void 0:h.contents)===null||s===void 0?void 0:s.item().as(Us),b=x==null?void 0:x.results,T=x==null?void 0:x.secondary_results;b&&T&&(this.slim_video_metadata=(u=(r=b.firstOfType(be))===null||r===void 0?void 0:r.contents)===null||u===void 0?void 0:u.firstOfType(F0),this.watch_next_feed=((p=T.firstOfType(be))===null||p===void 0?void 0:p.contents)||T,this.current_video_endpoint=h==null?void 0:h.current_video_endpoint,this.player_overlays=(f=h==null?void 0:h.player_overlays)===null||f===void 0?void 0:f.item().as(eo))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(qx,"VideoInfo");var Xx=qx;var Gb={};L(Gb,{VideoInfo:()=>my});var Jb={};L(Jb,{Account:()=>Tn,Browse:()=>Zx,BrowseEndpoint:()=>F,Channel:()=>Ni,Comment:()=>iy,GetNotificationMenuEndpoint:()=>bn,GuideEndpoint:()=>br,Kids:()=>dy,Like:()=>oy,Music:()=>ny,NextEndpoint:()=>Ee,Notification:()=>wr,PlayerEndpoint:()=>st,Playlist:()=>ry,Reel:()=>Pt,ResolveURLEndpoint:()=>wn,SearchEndpoint:()=>bt,Subscription:()=>ay,Upload:()=>cy});var F={};L(F,{PATH:()=>NE,build:()=>AE});var NE="/browse";function AE(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(AE,"build");var bn={};L(bn,{PATH:()=>RE,build:()=>VE});var RE="/notification/get_notification_menu";function VE(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(VE,"build");var br={};L(br,{PATH:()=>ME});var ME="/guide";var Ee={};L(Ee,{PATH:()=>OE,build:()=>DE});var OE="/next";function DE(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(DE,"build");var st={};L(st,{PATH:()=>LE,build:()=>BE});var LE="/player";function BE(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:t.params})}n(BE,"build");var wn={};L(wn,{PATH:()=>FE,build:()=>YE});var FE="/navigation/resolve_url";function YE(t){return Object.assign({url:t.url})}n(YE,"build");var bt={};L(bt,{PATH:()=>jE,build:()=>UE});var jE="/search";function UE(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(UE,"build");var Tn={};L(Tn,{AccountListEndpoint:()=>Qx});var Qx={};L(Qx,{PATH:()=>WE,build:()=>HE});var WE="/account/accounts_list";function HE(){return{client:"ANDROID"}}n(HE,"build");var Zx={};L(Zx,{EditPlaylistEndpoint:()=>rt});var rt={};L(rt,{PATH:()=>JE,build:()=>GE});var JE="/browse/edit_playlist";function GE(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(GE,"build");var Ni={};L(Ni,{EditDescriptionEndpoint:()=>ty,EditNameEndpoint:()=>ey});var ey={};L(ey,{PATH:()=>zE,build:()=>$E});var zE="/channel/edit_name";function $E(t){return{givenName:t.given_name,client:"ANDROID"}}n($E,"build");var ty={};L(ty,{PATH:()=>KE,build:()=>qE});var KE="/channel/edit_description";function qE(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(qE,"build");var iy={};L(iy,{CreateCommentEndpoint:()=>In,PerformCommentActionEndpoint:()=>kn});var kn={};L(kn,{PATH:()=>XE,build:()=>QE});var XE="/comment/perform_comment_action";function QE(t){return Object.assign({actions:t.actions},{client:t.client})}n(QE,"build");var In={};L(In,{PATH:()=>ZE,build:()=>eP});var ZE="/comment/create_comment";function eP(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n(eP,"build");var oy={};L(oy,{DislikeEndpoint:()=>Cn,LikeEndpoint:()=>Sn,RemoveLikeEndpoint:()=>En});var Sn={};L(Sn,{PATH:()=>tP,build:()=>iP});var tP="/like/like";function iP(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(iP,"build");var Cn={};L(Cn,{PATH:()=>oP,build:()=>nP});var oP="/like/dislike";function nP(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(nP,"build");var En={};L(En,{PATH:()=>sP,build:()=>rP});var sP="/like/removelike";function rP(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(rP,"build");var ny={};L(ny,{GetSearchSuggestionsEndpoint:()=>Pn});var Pn={};L(Pn,{PATH:()=>aP,build:()=>uP});var aP="/music/get_search_suggestions";function uP(t){return{input:t.input,client:"YTMUSIC"}}n(uP,"build");var wr={};L(wr,{GetUnseenCountEndpoint:()=>sy,ModifyChannelPreferenceEndpoint:()=>Nn});var sy={};L(sy,{PATH:()=>lP});var lP="/notification/get_unseen_count";var Nn={};L(Nn,{PATH:()=>cP,build:()=>dP});var cP="/notification/modify_channel_preference";function dP(t){return Object.assign({params:t.params},{client:t.client})}n(dP,"build");var ry={};L(ry,{CreateEndpoint:()=>An,DeleteEndpoint:()=>Rn});var An={};L(An,{PATH:()=>pP,build:()=>fP});var pP="/playlist/create";function fP(t){return{title:t.title,ids:t.ids}}n(fP,"build");var Rn={};L(Rn,{PATH:()=>mP,build:()=>hP});var mP="/playlist/delete";function hP(t){return{playlistId:t.playlist_id}}n(hP,"build");var ay={};L(ay,{SubscribeEndpoint:()=>Vn,UnsubscribeEndpoint:()=>Mn});var Vn={};L(Vn,{PATH:()=>_P,build:()=>vP});var _P="/subscription/subscribe";function vP(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(vP,"build");var Mn={};L(Mn,{PATH:()=>gP,build:()=>xP});var gP="/subscription/unsubscribe";function xP(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(xP,"build");var Pt={};L(Pt,{WatchEndpoint:()=>uy,WatchSequenceEndpoint:()=>ly});var uy={};L(uy,{PATH:()=>yP,build:()=>bP});var yP="/reel/reel_item_watch";function bP(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(bP,"build");var ly={};L(ly,{PATH:()=>wP,build:()=>TP});var wP="/reel/reel_watch_sequence";function TP(t){return{sequenceParams:t.sequenceParams}}n(TP,"build");var cy={};L(cy,{CreateVideoEndpoint:()=>On});var On={};L(On,{PATH:()=>kP,build:()=>IP});var kP="/upload/createvideo";function IP(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(IP,"build");var dy={};L(dy,{BlocklistPickerEndpoint:()=>Dn});var Dn={};L(Dn,{PATH:()=>SP,build:()=>CP});var SP="/kids/get_kids_blocklist_picker";function CP(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(CP,"build");var Tr,py,fy=class{constructor(e,i){var o,s;Tr.set(this,void 0),py.set(this,void 0),k(this,py,i,"f");let r=c.parseResponse(e[0].data),u=c.parseResponse(e[1].data);this.basic_info=r.video_details,this.watch_next_feed=(o=u.entries)===null||o===void 0?void 0:o.array(),k(this,Tr,(s=u.continuation_endpoint)===null||s===void 0?void 0:s.as(Ii),"f")}getWatchNextContinuation(){return y(this,void 0,void 0,function*(){var e,i;if(!d(this,Tr,"f"))throw new v("Watch next feed continuation not found");let o=yield d(this,py,"f").execute(Pt.WatchSequenceEndpoint.PATH,Pt.WatchSequenceEndpoint.build({sequenceParams:d(this,Tr,"f").token}));if(!o.success)throw new v("Continue failed ",o.status_code);let s=c.parseResponse(o.data);return this.watch_next_feed=(e=s.entries)===null||e===void 0?void 0:e.array(),k(this,Tr,(i=s.continuation_endpoint)===null||i===void 0?void 0:i.as(Ii),"f"),this})}};n(fy,"VideoInfo");Tr=new WeakMap,py=new WeakMap;var my=fy;var O=class{constructor(e,i,o,s){var r,u,p,f,m,h,x,b,T,S,C,P,R,V,H,_e,me,Se,K,xe,X,q,ee,ue,De,_t,Tt;let Q=new l(e);this.id=s||((f=(p=(u=(r=Q==null?void 0:Q.runs)===null||r===void 0?void 0:r[0])===null||u===void 0?void 0:u.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((h=(m=Q==null?void 0:Q.endpoint)===null||m===void 0?void 0:m.payload)===null||h===void 0?void 0:h.browseId)||"N/A",this.name=(Q==null?void 0:Q.text)||"N/A",this.thumbnails=o?w.fromResponse(o):[],this.endpoint=((b=(x=Q==null?void 0:Q.runs)===null||x===void 0?void 0:x[0])===null||b===void 0?void 0:b.endpoint)||(Q==null?void 0:Q.endpoint),i?Array.isArray(i)?(this.badges=c.parseArray(i),this.is_moderator=(T=this.badges)===null||T===void 0?void 0:T.some(Ge=>Ge.icon_type=="MODERATOR"),this.is_verified=(S=this.badges)===null||S===void 0?void 0:S.some(Ge=>Ge.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(C=this.badges)===null||C===void 0?void 0:C.some(Ge=>Ge.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=$([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=$([]),this.url=((H=(V=(R=(P=Q==null?void 0:Q.runs)===null||P===void 0?void 0:P[0])===null||R===void 0?void 0:R.endpoint)===null||V===void 0?void 0:V.metadata)===null||H===void 0?void 0:H.api_url)==="/browse"&&`${it.YT_BASE}${((K=(Se=(me=(_e=Q==null?void 0:Q.runs)===null||_e===void 0?void 0:_e[0])===null||me===void 0?void 0:me.endpoint)===null||Se===void 0?void 0:Se.payload)===null||K===void 0?void 0:K.canonicalBaseUrl)||`/u/${(ee=(q=(X=(xe=Q==null?void 0:Q.runs)===null||xe===void 0?void 0:xe[0])===null||X===void 0?void 0:X.endpoint)===null||q===void 0?void 0:q.payload)===null||ee===void 0?void 0:ee.browseId}`}`||`${it.YT_BASE}${((De=(ue=Q==null?void 0:Q.endpoint)===null||ue===void 0?void 0:ue.payload)===null||De===void 0?void 0:De.canonicalBaseUrl)||`/u/${(Tt=(_t=Q==null?void 0:Q.endpoint)===null||_t===void 0?void 0:_t.payload)===null||Tt===void 0?void 0:Tt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(O,"Author");var s1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Ln,hy,EP="Utils",U=class{static load(e){k(Ln,Ln,e,"f",hy)}static get shim(){if(!d(Ln,Ln,"f",hy))throw new Error("Platform is not loaded");return d(Ln,Ln,"f",hy)}};n(U,"Platform");Ln=U;hy={value:void 0};var v=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=U.shim.info.version}};n(v,"InnertubeError");var It=class extends v{};n(It,"ParsingError");var Bn=class extends v{};n(Bn,"MissingParamError");var Ae=class extends v{};n(Ae,"OAuth2Error");var $t=class extends Error{};n($t,"PlayerError");var Fn=class extends Error{};n(Fn,"SessionError");var Xs=class extends Error{};n(Xs,"ChannelError");function y_(t,e){return Reflect.ownKeys(t).some(o=>{let s=e[o]instanceof l;return!s&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(s?e[o].toString():e[o])})}n(y_,"deepCompare");function We(t,e,i){let o=new RegExp(`${$b(e)}(.*?)${$b(i)}`,"s"),s=t.match(o);return s?s[1]:void 0}n(We,"getStringBetweenStrings");function $b(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n($b,"escapeStringRegexp");function Ro(t){let e=s1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Ro,"getRandomUserAgent");function Qy(t){return y(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),s=yield U.shim.sha1Hash(o);return["SAPISIDHASH",[i,s].join("_")].join(" ")})}n(Qy,"generateSidAuth");function Nt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Nt,"generateRandomString");function Be(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Be,"timeToSeconds");function Lb(...t){let e=new Oi;for(let i of t)if(!!i)for(let o of i){let s=e.get(o[0]);if(s){e.set(o[0],[...s,...o[1]]);continue}e.set(...o)}return e}n(Lb,"concatMemos");function oe(t){for(let[e,i]of Object.entries(t))if(!i)throw new Bn(`${e} is missing`)}n(oe,"throwIfMissing");function PP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(PP,"hasKeys");function Ky(t){return Sw(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:s}=yield So(i.read());if(o)return yield So(void 0);yield yield So(s)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Ky,"streamToIterable");var NP=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,s=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",u=s.length>0?`${s.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return B.warn(EP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${u}
' + 
    '  body:
${r}`),U.shim.fetch(t,e)},"debugFetch");function ct(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(ct,"u8ToBase64");function wb(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(wb,"base64ToU8");function nt(t){return!("emoji"in t)}n(nt,"isTextRun");function Zy(t,e,i=!1){let o=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,s=t.match(new RegExp(o));return s?s[2]:void 0}n(Zy,"getCookie");function Kb(t){return y(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let s=new Uint8Array(o),r=[];for(let u=0;u<s.length;++u)r.push(e[s[u]]);return r.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Kb,"sha1Hash");var _y={name:"youtubei.js",version:"10.1.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",clean:"npx rimraf ./dist/src ./dist/package.json ./bundle/browser.js ./bundle/browser.js.map ./bundle/browser.min.js ./bundle/browser.min.js.map ./bundle/node.cjs ./bundle/node.cjs.map ./bundle/cf-worker.js ./bundle/cf-worker.js.map ./bundle/react-native.js ./bundle/react-native.js.map ./deno",build:"npm run clean && npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"npx esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^2.0.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^29.7.0",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var a_={};L(a_,{ArrayExpression:()=>kr,ArrowFunctionExpression:()=>Ir,AssignmentExpression:()=>Sr,BinaryExpression:()=>Cr,BlockStatement:()=>Er,BreakStatement:()=>Pr,CallExpression:()=>Nr,ConditionalExpression:()=>Rr,ContinueStatement:()=>Vr,ExpressionStatement:()=>Mr,ForOfStatement:()=>Or,ForStatement:()=>Dr,FunctionDeclaration:()=>Lr,FunctionExpression:()=>Br,Identifier:()=>Fr,IfStatement:()=>Yr,Literal:()=>jr,LogicalExpression:()=>Ur,MemberExpression:()=>Wr,NewExpression:()=>Hr,ObjectExpression:()=>Jr,Property:()=>Gr,ReturnStatement:()=>zr,SequenceExpression:()=>$r,SwitchCase:()=>Kr,SwitchStatement:()=>qr,ThisExpression:()=>Xr,ThrowStatement:()=>Qr,TryStatement:()=>Zr,UnaryExpression:()=>ea,UpdateExpression:()=>ta,VariableDeclaration:()=>ia,WhileStatement:()=>oa});var M=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(M,"BaseJSNode");var kr=class extends M{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(kr,"ArrayExpression");var qb={};L(qb,{JinterError:()=>Ai,namedFunction:()=>Yn});var Yn=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),Ai=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};n(Ai,"JinterError");var Ir=class extends M{run(){let{params:e,body:i}=this.node;return Yn("anonymous function",s=>{let r=0;for(let u of e)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,s[r]):console.warn("Unhandled param type",u.type),r++;return this.visitor.visitNode(i)})}};n(Ir,"ArrowFunctionExpression");var Sr=class extends M{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),s=this.visitor.visitNode(this.node.left.property);return o[s]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Sr,"AssignmentExpression");var Cr=class extends M{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Cr,"BinaryExpression");var Er=class extends M{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Er,"BlockStatement");var Pr=class extends M{run(){return"break"}};n(Pr,"BreakStatement");var s_=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},jn,vy,r1,Nr=class extends M{constructor(){super(...arguments),jn.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="__continue_exec")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="__continue_exec")return r}if(this.node.callee.type==="MemberExpression"){if(Ar.has(this.node,this.visitor))return Ar.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),u=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return r||s_(this,jn,"m",vy).call(this),typeof r[u]!="function"&&s_(this,jn,"m",vy).call(this),r[u].toString().includes("[native code]")?r[u](...p):r[u](p)}let o=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&s_(this,jn,"m",vy).call(this),o(s)}};n(Nr,"CallExpression");jn=new WeakSet,vy=n(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=s_(this,jn,"m",r1).call(this,this.node.callee);throw new Ai(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Ai(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),r1=n(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=s_(this,jn,"m",t).call(this,e.object),o=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${o}`}return"<unknown>"},"_CallExpression_getCalleeString");var Ar=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Ar,"Builtins");Ar.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(let r of o)i[0]([r,s++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Rr=class extends M{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Rr,"ConditionalExpression");var Vr=class extends M{run(){return"continue"}};n(Vr,"ContinueStatement");var Mr=class extends M{run(){return this.visitor.visitNode(this.node.expression)}};n(Mr,"ExpressionStatement");var Or=class extends M{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let s of this.node.left.declarations[0].id.properties)s.type==="Property"&&s.value.type==="Identifier"&&s.key.type==="Identifier"&&this.visitor.scope.set(s.value.name,i[s.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Or,"ForOfStatement");var Dr=class extends M{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Dr,"ForStatement");var Lr=class extends M{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),s=Yn(o,r=>{let u=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,r[u]):console.warn("Unhandled param type",p.type),u++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,s)}};n(Lr,"FunctionDeclaration");var Br=class extends M{run(){let{params:e,body:i}=this.node;return Yn("anonymous function",s=>{let r=0;for(let u of e)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,s[r]):console.warn("Unhandled param type",u.type),r++;return this.visitor.visitNode(i)})}};n(Br,"FunctionExpression");var Fr=class extends M{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Fr,"Identifier");var Yr=class extends M{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Yr,"IfStatement");var jr=class extends M{run(){return this.node.value}};n(jr,"Literal");var Ur=class extends M{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Ur,"LogicalExpression");var Wr=class extends M{run(){let{object:e,property:i,computed:o}=this.node,s=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let u=this.visitor.listeners[r](this.node,this.visitor);if(u!=="__continue_exec")return u}return s==null?void 0:s[r]}}};n(Wr,"MemberExpression");var Hr=class extends M{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return i.length?new e(i):new e}};n(Hr,"NewExpression");var Jr=class extends M{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(Jr,"ObjectExpression");var Xb=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},r_,a1,u1,l1,Gr=class extends M{constructor(){super(...arguments),r_.add(this)}run(){switch(this.node.kind){case"init":return Xb(this,r_,"m",a1).call(this);case"get":return Xb(this,r_,"m",u1).call(this);case"set":return Xb(this,r_,"m",l1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Gr,"Property");r_=new WeakSet,a1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),u1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),l1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var zr=class extends M{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(zr,"ReturnStatement");var $r=class extends M{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n($r,"SequenceExpression");var Kr=class extends M{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(Kr,"SwitchCase");var qr=class extends M{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,s=0;for(;;){let r=this.node.cases[s];if(i){let u=this.visitor.visitNode(r);if(u==="break")break;if(u==="continue")return u;if(++s,s>=this.node.cases.length){s=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&s>this.node.cases.length)break;if(r&&!i&&!r.test){o=s,s+=1;continue}if(!r&&!i&&o!==-1){i=!0,s=o;continue}i||++s}}};n(qr,"SwitchStatement");var Xr=class extends M{run(){return this.visitor.scope.get("_this")}};n(Xr,"ThisExpression");var Qr=class extends M{run(){throw this.visitor.visitNode(this.node.argument)}};n(Qr,"ThrowStatement");var Zr=class extends M{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(Zr,"TryStatement");var ea=class extends M{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(ea,"UnaryExpression");var ta=class extends M{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(ta,"UpdateExpression");var ia=class extends M{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,s=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;s&&this.visitor.scope.set(s,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};n(ia,"VariableDeclaration");var oa=class extends M{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(oa,"WhileStatement");var RP=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Qb,c1,na=class{constructor(){Qb.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=RP(this,Qb,"m",c1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(na,"Visitor");Qb=new WeakSet,c1=n(function(e){let i=a_[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var VP=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],_1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],MP="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",v1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Zb={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ew="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",OP={5:ew,"5module":ew+" export import",6:ew+" const class extends export import super"},DP=/^in(stanceof)?$/,LP=new RegExp("["+v1+"]"),BP=new RegExp("["+v1+MP+"]");function iw(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(iw,"isInAstralSet");function Ri(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&LP.test(String.fromCharCode(t)):e===!1?!1:iw(t,_1)}n(Ri,"isIdentifierStart");function sa(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&BP.test(String.fromCharCode(t)):e===!1?!1:iw(t,_1)||iw(t,VP)}n(sa,"isIdentifierChar");var de=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function At(t,e){return new de(t,{beforeExpr:!0,binop:e})}n(At,"binop");var Rt={beforeExpr:!0},mt={startsExpr:!0},sw={};function ae(t,e){return e===void 0&&(e={}),e.keyword=t,sw[t]=new de(t,e)}n(ae,"kw");var _={num:new de("num",mt),regexp:new de("regexp",mt),string:new de("string",mt),name:new de("name",mt),privateId:new de("privateId",mt),eof:new de("eof"),bracketL:new de("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new de("]"),braceL:new de("{",{beforeExpr:!0,startsExpr:!0}),braceR:new de("}"),parenL:new de("(",{beforeExpr:!0,startsExpr:!0}),parenR:new de(")"),comma:new de(",",Rt),semi:new de(";",Rt),colon:new de(":",Rt),dot:new de("."),question:new de("?",Rt),questionDot:new de("?."),arrow:new de("=>",Rt),template:new de("template"),invalidTemplate:new de("invalidTemplate"),ellipsis:new de("...",Rt),backQuote:new de("`",mt),dollarBraceL:new de("${",{beforeExpr:!0,startsExpr:!0}),eq:new de("=",{beforeExpr:!0,isAssign:!0}),assign:new de("_=",{beforeExpr:!0,isAssign:!0}),incDec:new de("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new de("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:At("||",1),logicalAND:At("&&",2),bitwiseOR:At("|",3),bitwiseXOR:At("^",4),bitwiseAND:At("&",5),equality:At("==/!=/===/!==",6),relational:At("</>/<=/>=",7),bitShift:At("<</>>/>>>",8),plusMin:new de("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:At("%",10),star:At("*",10),slash:At("/",10),starstar:new de("**",{beforeExpr:!0}),coalesce:At("??",1),_break:ae("break"),_case:ae("case",Rt),_catch:ae("catch"),_continue:ae("continue"),_debugger:ae("debugger"),_default:ae("default",Rt),_do:ae("do",{isLoop:!0,beforeExpr:!0}),_else:ae("else",Rt),_finally:ae("finally"),_for:ae("for",{isLoop:!0}),_function:ae("function",mt),_if:ae("if"),_return:ae("return",Rt),_switch:ae("switch"),_throw:ae("throw",Rt),_try:ae("try"),_var:ae("var"),_const:ae("const"),_while:ae("while",{isLoop:!0}),_with:ae("with"),_new:ae("new",{beforeExpr:!0,startsExpr:!0}),_this:ae("this",mt),_super:ae("super",mt),_class:ae("class",mt),_extends:ae("extends",Rt),_export:ae("export"),_import:ae("import",mt),_null:ae("null",mt),_true:ae("true",mt),_false:ae("false",mt),_in:ae("in",{beforeExpr:!0,binop:7}),_instanceof:ae("instanceof",{beforeExpr:!0,binop:7}),_typeof:ae("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ae("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ae("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ot=/\r\n?|\n|\u2028|\u2029/,FP=new RegExp(Ot.source,"g");function ra(t){return t===10||t===13||t===8232||t===8233}n(ra,"isNewLine");function g1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var s=t.charCodeAt(o);if(ra(s))return o<i-1&&s===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(g1,"nextLineBreak");var x1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Vt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,y1=Object.prototype,YP=y1.hasOwnProperty,jP=y1.toString,d_=Object.hasOwn||function(t,e){return YP.call(t,e)},d1=Array.isArray||function(t){return jP.call(t)==="[object Array]"},p1=Object.create(null);function bo(t){return p1[t]||(p1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}n(bo,"wordsRegexp");function wo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(wo,"codePointToString");var UP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,l_=n(function(e,i){this.line=e,this.column=i},"Position");l_.prototype.offset=n(function(e){return new l_(this.line,this.column+e)},"offset");var wy=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function b1(t,e){for(var i=1,o=0;;){var s=g1(t,o,e);if(s<0)return new l_(i,e-o);++i,o=s}}n(b1,"getLineInfo");var ow={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},f1=!1;function WP(t){var e={};for(var i in ow)e[i]=t&&d_(t,i)?t[i]:ow[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!f1&&typeof console=="object"&&console.warn&&(f1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),d1(e.onToken)){var o=e.onToken;e.onToken=function(s){return o.push(s)}}return d1(e.onComment)&&(e.onComment=HP(e,e.onComment)),e}n(WP,"getOptions");function HP(t,e){return function(i,o,s,r,u,p){var f={type:i?"Block":"Line",value:o,start:s,end:r};t.locations&&(f.loc=new wy(this,u,p)),t.ranges&&(f.range=[s,r]),e.push(f)}}n(HP,"pushComment");var c_=1,aa=2,rw=4,w1=8,T1=16,k1=32,aw=64,I1=128,p_=256,uw=c_|aa|p_;function lw(t,e){return aa|(t?rw:0)|(e?w1:0)}n(lw,"functionFlags");var xy=0,cw=1,Mi=2,S1=3,C1=4,E1=5,Oe=n(function(e,i,o){this.options=e=WP(e),this.sourceFile=e.sourceFile,this.keywords=bo(OP[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var s="";e.allowReserved!==!0&&(s=Zb[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(s+=" await")),this.reservedWords=bo(s);var r=(s?s+" ":"")+Zb.strict;this.reservedWordsStrict=bo(r),this.reservedWordsStrictBind=bo(r+" "+Zb.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ot).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(c_),this.regexpState=null,this.privateNameStack=[]},"Parser"),_i={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Oe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");_i.inFunction.get=function(){return(this.currentVarScope().flags&aa)>0};_i.inGenerator.get=function(){return(this.currentVarScope().flags&w1)>0&&!this.currentVarScope().inClassFieldInit};_i.inAsync.get=function(){return(this.currentVarScope().flags&rw)>0&&!this.currentVarScope().inClassFieldInit};_i.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&p_)return!1;if(e.flags&aa)return(e.flags&rw)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};_i.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&aw)>0||i||this.options.allowSuperOutsideMethod};_i.allowDirectSuper.get=function(){return(this.currentThisScope().flags&I1)>0};_i.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};_i.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(aa|p_))>0||i};_i.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&p_)>0};Oe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,s=0;s<e.length;s++)o=e[s](o);return o},"extend");Oe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Oe.parseExpressionAt=n(function(e,i,o){var s=new this(o,e,i);return s.nextToken(),s.parseExpression()},"parseExpressionAt");Oe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Oe.prototype,_i);var at=Oe.prototype,JP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;at.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Vt.lastIndex=t,t+=Vt.exec(this.input)[0].length;var e=JP.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Vt.lastIndex=t+e[0].length;var i=Vt.exec(this.input),o=i.index+i[0].length,s=this.input.charAt(o);return s===";"||s==="}"||Ot.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Vt.lastIndex=t,t+=Vt.exec(this.input)[0].length,this.input[t]===";"&&t++}};at.eat=function(t){return this.type===t?(this.next(),!0):!1};at.isContextual=function(t){return this.type===_.name&&this.value===t&&!this.containsEsc};at.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};at.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};at.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||Ot.test(this.input.slice(this.lastTokEnd,this.start))};at.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};at.semicolon=function(){!this.eat(_.semi)&&!this.insertSemicolon()&&this.unexpected()};at.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};at.expect=function(t){this.eat(t)||this.unexpected()};at.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Ty=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");at.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};at.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};at.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};at.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var Y=Oe.prototype;Y.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==_.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,s=Object.keys(this.undefinedExports);o<s.length;o+=1){var r=s[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var dw={kind:"loop"},GP={kind:"switch"};Y.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Vt.lastIndex=this.pos;var e=Vt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Ri(o,!0)){for(var s=i+1;sa(o=this.input.charCodeAt(s),!0);)++s;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,s);if(!DP.test(r))return!0}return!1};Y.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Vt.lastIndex=this.pos;var t=Vt.exec(this.input),e=this.pos+t[0].length,i;return!Ot.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(sa(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};Y.parseStatement=function(t,e,i){var o=this.type,s=this.startNode(),r;switch(this.isLet(t)&&(o=_._var,r="let"),o){case _._break:case _._continue:return this.parseBreakContinueStatement(s,o.keyword);case _._debugger:return this.parseDebuggerStatement(s);case _._do:return this.parseDoStatement(s);case _._for:return this.parseForStatement(s);case _._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!t);case _._class:return t&&this.unexpected(),this.parseClass(s,!0);case _._if:return this.parseIfStatement(s);case _._return:return this.parseReturnStatement(s);case _._switch:return this.parseSwitchStatement(s);case _._throw:return this.parseThrowStatement(s);case _._try:return this.parseTryStatement(s);case _._const:case _._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(s,r);case _._while:return this.parseWhileStatement(s);case _._with:return this.parseWithStatement(s);case _.braceL:return this.parseBlock(!0,s);case _.semi:return this.parseEmptyStatement(s);case _._export:case _._import:if(this.options.ecmaVersion>10&&o===_._import){Vt.lastIndex=this.pos;var u=Vt.exec(this.input),p=this.pos+u[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===_._import?this.parseImport(s):this.parseExport(s,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!t);var m=this.value,h=this.parseExpression();return o===_.name&&h.type==="Identifier"&&this.eat(_.colon)?this.parseLabeledStatement(s,m,h,t):this.parseExpressionStatement(s,h)}};Y.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(_.semi)||this.insertSemicolon()?t.label=null:this.type!==_.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var s=this.labels[o];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(i||s.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};Y.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};Y.parseDoStatement=function(t){return this.next(),this.labels.push(dw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};Y.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(dw),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===_._var||this.type===_._const||i){var o=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(o,!0,s),this.finishNode(o,"VariableDeclaration"),(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===_._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),u=!1,p=new Ty,f=this.parseExpression(e>-1?"await":!0,p);return this.type===_._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===_._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&u&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};Y.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,u_|(i?0:nw),!1,e)};Y.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};Y.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};Y.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(_.braceL),this.labels.push(GP),this.enterScope(0);for(var e,i=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var o=this.type===_._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(_.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};Y.parseThrowStatement=function(t){return this.next(),Ot.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var zP=[];Y.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?k1:0),this.checkLValPattern(t,e?C1:Mi),this.expect(_.parenR),t};Y.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===_._catch){var e=this.startNode();this.next(),this.eat(_.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(_._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};Y.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};Y.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(dw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};Y.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};Y.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};Y.parseLabeledStatement=function(t,e,i,o){for(var s=0,r=this.labels;s<r.length;s+=1){var u=r[s];u.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===_._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};Y.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};Y.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(_.braceL),t&&this.enterScope(0);this.type!==_.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};Y.parseFor=function(t,e){return t.init=e,this.expect(_.semi),t.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),t.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};Y.parseForIn=function(t,e){var i=this.type===_._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};Y.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(_.eq)?s.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&s.id.type!=="Identifier"&&!(e&&(this.type===_._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,t.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(_.comma))break}return t};Y.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?cw:Mi,!1)};var u_=1,nw=2,P1=4;Y.parseFunction=function(t,e,i,o,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===_.star&&e&nw&&this.unexpected(),t.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&u_&&(t.id=e&P1&&this.type!==_.name?null:this.parseIdent(),t.id&&!(e&nw)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?cw:Mi:S1));var r=this.yieldPos,u=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lw(t.async,t.generator)),e&u_||(t.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=r,this.awaitPos=u,this.awaitIdentPos=p,this.finishNode(t,e&u_?"FunctionDeclaration":"FunctionExpression")};Y.parseFunctionParams=function(t){this.expect(_.parenL),t.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Y.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),s=this.startNode(),r=!1;for(s.body=[],this.expect(_.braceL);this.type!==_.braceR;){var u=this.parseClassElement(t.superClass!==null);u&&(s.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(r&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),r=!0):u.key&&u.key.type==="PrivateIdentifier"&&$P(o,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};Y.parseClassElement=function(t){if(this.eat(_.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",s=!1,r=!1,u="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===_.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===_.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(_.star)&&(s=!0),!o&&!r&&!s){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===_.parenL||u!=="method"||s||r){var m=!i.static&&yy(i,"constructor"),h=m&&t;m&&u!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":u,this.parseClassMethod(i,s,r,h)}else this.parseClassField(i);return i};Y.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword};Y.parseClassElementName=function(t){this.type===_.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};Y.parseClassMethod=function(t,e,i,o){var s=t.key;t.kind==="constructor"?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&yy(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};Y.parseClassField=function(t){if(yy(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&yy(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};Y.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(p_|aw);this.type!==_.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};Y.parseClassId=function(t,e){this.type===_.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Mi,!1)):(e===!0&&this.unexpected(),t.id=null)};Y.parseClassSuper=function(t){t.superClass=this.eat(_._extends)?this.parseExprSubscripts(null,!1):null};Y.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};Y.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,s=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var u=i[r];d_(e,u.name)||(s?s.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function $P(t,e){var i=e.key.name,o=t[i],s="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(s=(e.static?"s":"i")+e.kind),o==="iget"&&s==="iset"||o==="iset"&&s==="iget"||o==="sget"&&s==="sset"||o==="sset"&&s==="sget"?(t[i]="true",!1):o?!0:(t[i]=s,!1)}n($P,"isPrivateNameConflicted");function yy(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(yy,"checkKeyName");Y.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==_.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};Y.parseExport=function(t,e){if(this.next(),this.eat(_.star))return this.parseExportAllDeclaration(t,e);if(this.eat(_._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var s=o[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};Y.parseExportDeclaration=function(t){return this.parseStatement(null)};Y.parseExportDefaultDeclaration=function(){var t;if(this.type===_._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,u_|P1,!1,t)}else if(this.type===_._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};Y.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),d_(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};Y.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,s=e.properties;o<s.length;o+=1){var r=s[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var u=0,p=e.elements;u<p.length;u+=1){var f=p[u];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};Y.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var s=o[i];this.checkPatternExport(t,s.id)}};Y.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Y.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};Y.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(i)i=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;e.push(this.parseExportSpecifier(t))}return e};Y.parseImport=function(t){return this.next(),this.type===_.string?(t.specifiers=zP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};Y.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Mi),this.finishNode(t,"ImportSpecifier")};Y.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Mi),this.finishNode(t,"ImportDefaultSpecifier")};Y.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Mi),this.finishNode(t,"ImportNamespaceSpecifier")};Y.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===_.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(_.comma)))return t;if(this.type===_.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(_.braceL);!this.eat(_.braceR);){if(e)e=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;t.push(this.parseImportSpecifier())}return t};Y.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var t=this.parseLiteral(this.value);return UP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};Y.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};Y.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Dt=Oe.prototype;Dt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Dt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var s=t[o];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};Dt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Dt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==_.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()};Dt.parseBindingList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(_.comma),e&&this.type===_.comma)s.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===_.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),s.push(u),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else s.push(this.parseAssignableListItem(o))}return s};Dt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Dt.parseBindingListItem=function(t){return t};Dt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Dt.checkLValSimple=function(t,e,i){e===void 0&&(e=xy);var o=e!==xy;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Mi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(d_(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==E1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Dt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=xy),t.type){case"ObjectPattern":for(var o=0,s=t.properties;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var u=0,p=t.elements;u<p.length;u+=1){var f=p[u];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Dt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=xy),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Kt=n(function(e,i,o,s,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=s,this.generator=!!r},"TokContext"),Ie={b_stat:new Kt("{",!1),b_expr:new Kt("{",!0),b_tmpl:new Kt("${",!1),p_stat:new Kt("(",!1),p_expr:new Kt("(",!0),q_tmpl:new Kt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Kt("function",!1),f_expr:new Kt("function",!0),f_expr_gen:new Kt("function",!0,!1,null,!0),f_gen:new Kt("function",!1,!1,null,!0)},ua=Oe.prototype;ua.initialContext=function(){return[Ie.b_stat]};ua.curContext=function(){return this.context[this.context.length-1]};ua.braceIsBlock=function(t){var e=this.curContext();return e===Ie.f_expr||e===Ie.f_stat?!0:t===_.colon&&(e===Ie.b_stat||e===Ie.b_expr)?!e.isExpr:t===_._return||t===_.name&&this.exprAllowed?Ot.test(this.input.slice(this.lastTokEnd,this.start)):t===_._else||t===_.semi||t===_.eof||t===_.parenR||t===_.arrow?!0:t===_.braceL?e===Ie.b_stat:t===_._var||t===_._const||t===_.name?!1:!this.exprAllowed};ua.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};ua.updateContext=function(t){var e,i=this.type;i.keyword&&t===_.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};ua.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};_.parenR.updateContext=_.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Ie.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};_.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Ie.b_stat:Ie.b_expr),this.exprAllowed=!0};_.dollarBraceL.updateContext=function(){this.context.push(Ie.b_tmpl),this.exprAllowed=!0};_.parenL.updateContext=function(t){var e=t===_._if||t===_._for||t===_._with||t===_._while;this.context.push(e?Ie.p_stat:Ie.p_expr),this.exprAllowed=!0};_.incDec.updateContext=function(){};_._function.updateContext=_._class.updateContext=function(t){t.beforeExpr&&t!==_._else&&!(t===_.semi&&this.curContext()!==Ie.p_stat)&&!(t===_._return&&Ot.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===_.colon||t===_.braceL)&&this.curContext()===Ie.b_stat)?this.context.push(Ie.f_expr):this.context.push(Ie.f_stat),this.exprAllowed=!1};_.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};_.backQuote.updateContext=function(){this.curContext()===Ie.q_tmpl?this.context.pop():this.context.push(Ie.q_tmpl),this.exprAllowed=!1};_.star.updateContext=function(t){if(t===_._function){var e=this.context.length-1;this.context[e]===Ie.f_expr?this.context[e]=Ie.f_expr_gen:this.context[e]=Ie.f_gen}this.exprAllowed=!0};_.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==_.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var z=Oe.prototype;z.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,s;switch(o.type){case"Identifier":s=o.name;break;case"Literal":s=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}s="$"+s;var u=e[s];if(u){var p;r==="init"?p=this.strict&&u.init||u.get||u.set:p=u.init||u[r],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else u=e[s]={init:!1,get:!1,set:!1};u[r]=!0}};z.parseExpression=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===_.comma){var r=this.startNodeAt(i,o);for(r.expressions=[s];this.eat(_.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s};z.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,s=-1,r=-1,u=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,u=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Ty,o=!0);var p=this.start,f=this.startLoc;(this.type===_.parenL||this.type===_.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var h=this.startNodeAt(p,f);return h.operator=this.value,this.type===_.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===_.eq?this.checkLValPattern(m):this.checkLValSimple(m),h.left=m,this.next(),h.right=this.parseMaybeAssign(t),u>-1&&(e.doubleProto=u),this.finishNode(h,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),m};z.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(_.question)){var r=this.startNodeAt(i,o);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(_.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s};z.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,i,o,-1,t)};z.parseExprOp=function(t,e,i,o,s){var r=this.type.binop;if(r!=null&&(!s||this.type!==_._in)&&r>o){var u=this.type===_.logicalOR||this.type===_.logicalAND,p=this.type===_.coalesce;p&&(r=_.logicalAND.binop);var f=this.value;this.next();var m=this.start,h=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),m,h,r,s),b=this.buildBinary(e,i,t,x,f,u||p);return(u&&this.type===_.coalesce||p&&(this.type===_.logicalOR||this.type===_.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(b,e,i,o,s)}return t};z.buildBinary=function(t,e,i,o,s,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(t,e);return u.left=i,u.operator=s,u.right=o,this.finishNode(u,r?"LogicalExpression":"BinaryExpression")};z.parseMaybeUnary=function(t,e,i,o){var s=this.start,r=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===_.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&N1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,u=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===_.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==_._in&&this.unexpected();else{if(u=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(s,r);m.operator=this.value,m.prefix=!1,m.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(_.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(s,r,u,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return u};function N1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&N1(t.expression)}n(N1,"isPrivateFieldAccess");z.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,s=this.parseExprAtom(t,e);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var r=this.parseSubscripts(s,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};z.parseSubscripts=function(t,e,i,o,s){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,u=!1;;){var p=this.parseSubscript(t,e,i,o,r,u,s);if(p.optional&&(u=!0),p===t||p.type==="ArrowFunctionExpression"){if(u){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};z.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_.arrow)};z.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};z.parseSubscript=function(t,e,i,o,s,r,u){var p=this.options.ecmaVersion>=11,f=p&&this.eat(_.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(_.bracketL);if(m||f&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var h=this.startNodeAt(e,i);h.object=t,m?(h.property=this.parseExpression(),this.expect(_.bracketR)):this.type===_.privateId&&t.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!m,p&&(h.optional=f),t=this.finishNode(h,"MemberExpression")}else if(!o&&this.eat(_.parenL)){var x=new Ty,b=this.yieldPos,T=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var C=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,x);if(s&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=b,this.awaitPos=T,this.awaitIdentPos=S,this.parseSubscriptAsyncArrow(e,i,C,u);this.checkExpressionErrors(x,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=C,p&&(P.optional=f),t=this.finishNode(P,"CallExpression")}else if(this.type===_.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var R=this.startNodeAt(e,i);R.tag=t,R.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(R,"TaggedTemplateExpression")}return t};z.parseExprAtom=function(t,e,i){this.type===_.slash&&this.readRegexp();var o,s=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===_.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(o,"Super");case _._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case _.name:var r=this.start,u=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(Ie.f_expr),this.parseFunction(this.startNodeAt(r,u),0,!1,!0,e);if(s&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(r,u),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===_.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(_.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,u),[f],!0,e)}return f;case _.regexp:var m=this.value;return o=this.parseLiteral(m.value),o.regex={pattern:m.pattern,flags:m.flags},o;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return o=this.startNode(),o.value=this.type===_._null?null:this.type===_._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case _.parenL:var h=this.start,x=this.parseParenAndDistinguishExpression(s,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),x;case _.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(_.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case _.braceL:return this.overrideContext(Ie.b_expr),this.parseObj(!1,t);case _._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};z.parseExprAtomDefault=function(){this.unexpected()};z.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===_.parenL&&!t)return this.parseDynamicImport(e);if(this.type===_.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};z.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(_.parenR)){var e=this.start;this.eat(_.comma)&&this.eat(_.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};z.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};z.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};z.parseParenExpression=function(){this.expect(_.parenL);var t=this.parseExpression();return this.expect(_.parenR),t};z.shouldParseArrow=function(t){return!this.canInsertSemicolon()};z.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,s,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,p=this.startLoc,f=[],m=!0,h=!1,x=new Ty,b=this.yieldPos,T=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;)if(m?m=!1:this.expect(_.comma),r&&this.afterTrailingComma(_.parenR,!0)){h=!0;break}else if(this.type===_.ellipsis){S=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var C=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(_.parenR),t&&this.shouldParseArrow(f)&&this.eat(_.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=b,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||h)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(x,!0),this.yieldPos=b||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(s=this.startNodeAt(u,p),s.expressions=f,this.finishNodeAt(s,"SequenceExpression",C,P)):s=f[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var R=this.startNodeAt(i,o);return R.expression=s,this.finishNode(R,"ParenthesizedExpression")}else return s};z.parseParenItem=function(t){return t};z.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var KP=[];z.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===_.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,s,!0,!1),this.eat(_.parenL)?t.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1):t.arguments=KP,this.finishNode(t,"NewExpression")};z.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===_.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===_.backQuote,this.finishNode(i,"TemplateElement")};z.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(_.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};z.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!Ot.test(this.input.slice(this.lastTokEnd,this.start))};z.parseObj=function(t,e){var i=this.startNode(),o=!0,s={};for(i.properties=[],this.next();!this.eat(_.braceR);){if(o)o=!1;else if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};z.parseProperty=function(t,e){var i=this.startNode(),o,s,r,u;if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===_.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,u=this.startLoc),t||(o=this.eat(_.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(s=!0,o=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(i)):s=!1,this.parsePropertyValue(i,t,o,s,r,u,e,p),this.finishNode(i,"Property")};z.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};z.parsePropertyValue=function(t,e,i,o,s,r,u,p){(i||o)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),t.kind="init"):this.options.ecmaVersion>=6&&this.type===_.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==_.comma&&this.type!==_.braceR&&this.type!==_.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key)):this.type===_.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};z.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(_.bracketR),t.key;t.computed=!1}return t.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};z.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};z.parseMethod=function(t,e,i){var o=this.startNode(),s=this.yieldPos,r=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(lw(e,o.generator)|aw|(i?I1:0)),this.expect(_.parenL),o.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=u,this.finishNode(o,"FunctionExpression")};z.parseArrowExpression=function(t,e,i,o){var s=this.yieldPos,r=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(lw(i,!1)|T1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=u,this.finishNode(t,"ArrowFunctionExpression")};z.parseFunctionBody=function(t,e,i,o){var s=e&&this.type!==_.braceL,r=this.strict,u=!1;if(s)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||p)&&(u=this.strictDirective(this.end),u&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(t,!r&&!u&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,E1),t.body=this.parseBlock(!1,void 0,u&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};z.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};z.checkParams=function(t,e){for(var i=Object.create(null),o=0,s=t.params;o<s.length;o+=1){var r=s[o];this.checkLValInnerPattern(r,cw,e?null:i)}};z.parseExprList=function(t,e,i,o){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(_.comma),e&&this.afterTrailingComma(t))break;var u=void 0;i&&this.type===_.comma?u=null:this.type===_.ellipsis?(u=this.parseSpread(o),o&&this.type===_.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):u=this.parseMaybeAssign(!1,o),s.push(u)}return s};z.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};z.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};z.parseIdentNode=function(){var t=this.startNode();return this.type===_.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=_.name):this.unexpected(),t};z.parsePrivateIdent=function(){var t=this.startNode();return this.type===_.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};z.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(_.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};z.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var by=Oe.prototype;by.raise=function(t,e){var i=b1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};by.raiseRecoverable=by.raise;by.curPosition=function(){if(this.options.locations)return new l_(this.curLine,this.pos-this.lineStart)};var To=Oe.prototype,qP=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");To.enterScope=function(t){this.scopeStack.push(new qP(t))};To.exitScope=function(){this.scopeStack.pop()};To.treatFunctionsAsVarInScope=function(t){return t.flags&aa||!this.inModule&&t.flags&c_};To.declareName=function(t,e,i){var o=!1;if(e===Mi){var s=this.currentScope();o=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&s.flags&c_&&delete this.undefinedExports[t]}else if(e===C1){var r=this.currentScope();r.lexical.push(t)}else if(e===S1){var u=this.currentScope();this.treatFunctionsAsVar?o=u.lexical.indexOf(t)>-1:o=u.lexical.indexOf(t)>-1||u.var.indexOf(t)>-1,u.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&k1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&c_&&delete this.undefinedExports[t],f.flags&uw)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};To.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};To.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};To.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&uw)return e}};To.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&uw&&!(e.flags&T1))return e}};var ky=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new wy(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),f_=Oe.prototype;f_.startNode=function(){return new ky(this,this.start,this.startLoc)};f_.startNodeAt=function(t,e){return new ky(this,t,e)};function A1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(A1,"finishNodeAt");f_.finishNode=function(t,e){return A1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};f_.finishNodeAt=function(t,e,i,o){return A1.call(this,t,e,i,o)};f_.copyNode=function(t){var e=new ky(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var R1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",V1=R1+" Extended_Pictographic",M1=V1,O1=M1+" EBase EComp EMod EPres ExtPict",D1=O1,XP=D1,QP={9:R1,10:V1,11:M1,12:O1,13:D1,14:XP},ZP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",eN={9:"",10:"",11:"",12:"",13:"",14:ZP},m1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",L1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",B1=L1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",F1=B1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Y1=F1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",j1=Y1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",tN=j1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",iN={9:L1,10:B1,11:F1,12:Y1,13:j1,14:tN},U1={};function oN(t){var e=U1[t]={binary:bo(QP[t]+" "+m1),binaryOfStrings:bo(eN[t]),nonBinary:{General_Category:bo(m1),Script:bo(iN[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(oN,"buildUnicodeData");for(gy=0,tw=[9,10,11,12,13,14];gy<tw.length;gy+=1)h1=tw[gy],oN(h1);var h1,gy,tw,D=Oe.prototype,vi=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=U1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");vi.prototype.reset=n(function(e,i,o){var s=o.indexOf("v")!==-1,r=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},"reset");vi.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");vi.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=s)return r;var u=o.charCodeAt(e+1);return u>=56320&&u<=57343?(r<<10)+u-56613888:r},"at");vi.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,s=o.length;if(e>=s)return s;var r=o.charCodeAt(e),u;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=s||(u=o.charCodeAt(e+1))<56320||u>57343?e+1:e+2},"nextIndex");vi.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");vi.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");vi.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");vi.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");vi.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,s=0,r=e;s<r.length;s+=1){var u=r[s],p=this.at(o,i);if(p===-1||p!==u)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");D.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,s=!1,r=0;r<i.length;r++){var u=i.charAt(r);e.indexOf(u)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(u,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),u==="u"&&(o=!0),u==="v"&&(s=!0)}this.options.ecmaVersion>=15&&o&&s&&this.raise(t.start,"Invalid regular expression flag")};D.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};D.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};D.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};D.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};D.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};D.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};D.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};D.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};D.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return s!==-1&&s<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};D.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};D.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};D.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};D.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};D.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};D.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};D.regexp_eatSyntaxCharacter=function(t){var e=t.current();return W1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function W1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(W1,"isSyntaxCharacter");D.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!W1(i);)t.advance();return t.pos!==e};D.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};D.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};D.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};D.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=wo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=wo(t.lastIntValue);return!0}return!1};D.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),nN(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function nN(t){return Ri(t,!0)||t===36||t===95}n(nN,"isRegExpIdentifierStart");D.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),sN(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function sN(t){return sa(t,!0)||t===36||t===95||t===8204||t===8205}n(sN,"isRegExpIdentifierPart");D.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};D.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};D.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};D.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};D.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};D.regexp_eatZero=function(t){return t.current()===48&&!Iy(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};D.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};D.regexp_eatControlLetter=function(t){var e=t.current();return H1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function H1(t){return t>=65&&t<=90||t>=97&&t<=122}n(H1,"isControlLetter");D.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var s=t.lastIntValue;if(o&&s>=55296&&s<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var u=t.lastIntValue;if(u>=56320&&u<=57343)return t.lastIntValue=(s-55296)*1024+(u-56320)+65536,!0}t.pos=r,t.lastIntValue=s}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&rN(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function rN(t){return t>=0&&t<=1114111}n(rN,"isValidUnicode");D.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};D.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var J1=0,Vi=1,Mt=2;D.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(aN(e))return t.lastIntValue=-1,t.advance(),Vi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Mt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return J1};function aN(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(aN,"isCharacterClassEscape");D.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Vi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s)}return J1};D.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){d_(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};D.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Vi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Mt;t.raise("Invalid property name")};D.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";G1(e=t.current());)t.lastStringValue+=wo(e),t.advance();return t.lastStringValue!==""};function G1(t){return H1(t)||t===95}n(G1,"isUnicodePropertyNameCharacter");D.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";uN(e=t.current());)t.lastStringValue+=wo(e),t.advance();return t.lastStringValue!==""};function uN(t){return G1(t)||Iy(t)}n(uN,"isUnicodePropertyValueCharacter");D.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};D.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===Mt&&t.raise("Negated character class may contain strings"),!0}return!1};D.regexp_classContents=function(t){return t.current()===93?Vi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Vi)};D.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};D.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||K1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};D.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};D.regexp_classSetExpression=function(t){var e=Vi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Mt&&(e=Mt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Mt&&(e=Vi);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===Mt&&(e=Mt)}};D.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};D.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Vi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};D.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Mt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var s=this.regexp_eatCharacterClassEscape(t);if(s)return s;t.pos=e}return null};D.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};D.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Mt&&(e=Mt);return e};D.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Vi:Mt};D.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&lN(i)||cN(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function lN(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(lN,"isClassSetReservedDoublePunctuatorCharacter");function cN(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(cN,"isClassSetSyntaxCharacter");D.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return dN(e)?(t.lastIntValue=e,t.advance(),!0):!1};function dN(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(dN,"isClassSetReservedPunctuator");D.regexp_eatClassControlLetter=function(t){var e=t.current();return Iy(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};D.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};D.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Iy(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Iy(t){return t>=48&&t<=57}n(Iy,"isDecimalDigit");D.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;z1(i=t.current());)t.lastIntValue=16*t.lastIntValue+$1(i),t.advance();return t.pos!==e};function z1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(z1,"isHexDigit");function $1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n($1,"hexToInt");D.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};D.regexp_eatOctalDigit=function(t){var e=t.current();return K1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function K1(t){return t>=48&&t<=55}n(K1,"isOctalDigit");D.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var s=t.current();if(!z1(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+$1(s),t.advance()}return!0};var pw=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new wy(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),ne=Oe.prototype;ne.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new pw(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ne.getToken=function(){return this.next(),new pw(this)};typeof Symbol<"u"&&(ne[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===_.eof,value:e}}}});ne.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(_.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ne.readToken=function(t){return Ri(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ne.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ne.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,s=e;(o=g1(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ne.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!ra(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ne.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&x1.test(String.fromCharCode(t)))++this.pos;else break e}}};ne.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ne.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))};ne.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(_.assign,2):this.finishOp(_.slash,1)};ne.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?_.star:_.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=_.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(_.assign,i+1):this.finishOp(o,i)};ne.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(_.assign,3)}return this.finishOp(t===124?_.logicalOR:_.logicalAND,2)}return e===61?this.finishOp(_.assign,2):this.finishOp(t===124?_.bitwiseOR:_.bitwiseAND,1)};ne.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)};ne.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ot.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(_.incDec,2):e===61?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)};ne.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(_.assign,i+1):this.finishOp(_.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(_.relational,i))};ne.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(_.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(t===61?_.eq:_.prefix,1)};ne.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(_.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(_.assign,3)}return this.finishOp(_.coalesce,2)}}return this.finishOp(_.question,1)};ne.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ri(e,!0)||e===92))return this.finishToken(_.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+wo(e)+"'")};ne.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+wo(t)+"'")};ne.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ne.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(Ot.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(r);var p=this.regexpState||(this.regexpState=new vi(this));p.reset(i,s,u),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(s,u)}catch(m){}return this.finishToken(_.regexp,{pattern:s,flags:u,value:f})};ne.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,s=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,u=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var h=this.input.charCodeAt(this.pos),x=void 0;if(o&&h===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=h;continue}if(h>=97?x=h-97+10:h>=65?x=h-65+10:h>=48&&h<=57?x=h-48:x=1/0,x>=t)break;p=h,u=u*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:u};function pN(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(pN,"stringToNumber");function q1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(q1,"stringToBigInt");ne.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=q1(this.input.slice(e,this.pos)),++this.pos):Ri(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,i)};ne.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var s=q1(this.input.slice(e,this.pos));return++this.pos,Ri(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ri(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=pN(this.input.slice(e,this.pos),i);return this.finishToken(_.num,r)};ne.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ne.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ra(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(_.string,e)};var X1={};ne.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===X1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ne.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw X1;this.raise(t,e)};ne.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===_.template||this.type===_.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(_.dollarBraceL)):(++this.pos,this.finishToken(_.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(_.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(ra(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ne.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};ne.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return wo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(o,8);return s>255&&(o=o.slice(0,-1),s=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return ra(e)?"":String.fromCharCode(e)}};ne.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ne.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(sa(s,o))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(e?Ri:sa)(u,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=wo(u),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ne.readWord=function(){var t=this.readWord1(),e=_.name;return this.keywords.test(t)&&(e=sw[t]),this.finishToken(e,t)};var fN="8.11.3";Oe.acorn={Parser:Oe,version:fN,defaultOptions:ow,Position:l_,SourceLocation:wy,getLineInfo:b1,Node:ky,TokenType:de,tokTypes:_,keywordTypes:sw,TokContext:Kt,tokContexts:Ie,isIdentifierChar:sa,isIdentifierStart:Ri,Token:pw,isNewLine:ra,lineBreak:Ot,lineBreakG:FP,nonASCIIwhitespace:x1};function Q1(t,e){return Oe.parse(t,e)}n(Q1,"parse");var mN=function(t,e,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,i):s?s.value=i:e.set(t,i),i},hN=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Sy,Un=class{constructor(){Sy.set(this,[]),this.visitor=new na,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(o,s)=>{if(o.type==="Identifier")return i;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=s.visitNode(o.callee.property),u=o.arguments.map(f=>s.visitNode(f)),p=i[r];return p?p.apply(i,u):"__continue_exec"}return"__continue_exec"})}evaluate(e){try{let i=Q1(e,{ecmaVersion:2020});mN(this,Sy,i.body,"f")}catch(i){throw new Ai(i.message)}return this.visitor.setAST(hN(this,Sy,"f")),this.visitor.run()}};n(Un,"Jinter");Sy=new WeakMap;var ko,Xe,Z1,la,m_="OAuth2",Cy=class{constructor(e){ko.add(this),Xe.set(this,void 0),k(this,Xe,e,"f"),this.YTTV_URL=new URL("/tv",se.URLS.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",se.URLS.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",se.URLS.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",se.URLS.YT_BASE)}init(e){return y(this,void 0,void 0,function*(){if(e){this.setTokens(e),this.shouldRefreshToken()&&(yield this.refreshAccessToken()),d(this,Xe,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(yield d(this,ko,"m",Z1).call(this)){B.info(m_,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=yield this.getClientID());let o=yield this.getDeviceAndUserCode();d(this,Xe,"f").emit("auth-pending",o),this.pollForAccessToken(o)})}setTokens(e){let i=e;if(i.expires_in&&(i.expiry_date=new Date(Date.now()+i.expires_in*1e3).toISOString(),delete i.expires_in),!this.validateTokens(i))throw new Ae("Invalid tokens provided.");this.oauth2_tokens=i,i.client&&(B.info(m_,"Using provided client id and secret."),this.client_id=i.client)}cacheCredentials(){return y(this,void 0,void 0,function*(){var e;let o=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));yield(e=d(this,Xe,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){return y(this,void 0,void 0,function*(){var e;yield(e=d(this,Xe,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}pollForAccessToken(e){return y(this,void 0,void 0,function*(){if(!this.client_id)throw new Ae("Client ID is missing.");let{device_code:i,interval:o}=e,{client_id:s,client_secret:r}=this.client_id,u={client_id:s,client_secret:r,code:i,grant_type:"http://oauth.net/grant_type/device/1.0"},p=setInterval(()=>y(this,void 0,void 0,function*(){let m=yield(yield d(this,ko,"a",la).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(u),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(m.error){switch(m.error){case"access_denied":d(this,Xe,"f").emit("auth-error",new Ae("Access was denied.",m)),clearInterval(p);break;case"expired_token":d(this,Xe,"f").emit("auth-error",new Ae("The device code has expired.",m)),clearInterval(p);break;case"authorization_pending":case"slow_down":B.info(m_,"Polling for access token...");break;default:d(this,Xe,"f").emit("auth-error",new Ae("Server returned an unexpected error.",m)),clearInterval(p);break}return}this.setTokens(m),d(this,Xe,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(p)}),o*1e3)})}revokeCredentials(){return y(this,void 0,void 0,function*(){if(!this.oauth2_tokens)throw new Ae("Access token not found");yield this.removeCache();let e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),d(this,Xe,"f").http.fetch_function(e,{method:"POST"})})}refreshAccessToken(){return y(this,void 0,void 0,function*(){if(this.client_id||(this.client_id=yield this.getClientID()),!this.oauth2_tokens)throw new Ae("No tokens available to refresh.");let{client_id:e,client_secret:i}=this.client_id,{refresh_token:o}=this.oauth2_tokens,s={client_id:e,client_secret:i,refresh_token:o,grant_type:"refresh_token"},r=yield d(this,ko,"a",la).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Ae(`Failed to refresh access token: ${r.status}`);let u=yield r.json();if(u.error_code)throw new Ae("Authorization server returned an error",u);this.oauth2_tokens.access_token=u.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+u.expires_in*1e3).toISOString(),d(this,Xe,"f").emit("update-credentials",{credentials:this.oauth2_tokens})})}getDeviceAndUserCode(){return y(this,void 0,void 0,function*(){if(!this.client_id)throw new Ae("Client ID is missing.");let{client_id:e}=this.client_id,i={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:U.shim.uuidv4(),device_model:"ytlr::"},o=yield d(this,ko,"a",la).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Ae(`Failed to get device/user code: ${o.status}`);let s=yield o.json();if(s.error_code)throw new Ae("Authorization server returned an error",s);return s})}getClientID(){return y(this,void 0,void 0,function*(){let e=yield d(this,ko,"a",la).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new Ae(`Failed to get client ID: ${e.status}`);let i=yield e.text(),o;if((o=se.OAUTH.REGEX.TV_SCRIPT.exec(i))!==null){B.info(m_,`Got YouTubeTV script URL (${o[1]})`);let s=yield d(this,ko,"a",la).fetch(o[1],{baseURL:se.URLS.YT_BASE});if(!s.ok)throw new Ae(`TV script request failed with status code ${s.status}`);let u=(yield s.text()).match(se.OAUTH.REGEX.CLIENT_IDENTITY);if(!u||!u.groups)throw new Ae("Could not obtain client ID.");let{client_id:p,client_secret:f}=u.groups;return B.info(m_,`Client identity retrieved (clientId=${p}, clientSecret=${f}).`),{client_id:p,client_secret:f}}throw new Ae("Could not obtain script URL.")})}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){let i=Boolean(e.access_token)&&Boolean(e.expiry_date)&&Boolean(e.refresh_token);return typeof e.access_token=="string"&&typeof e.expiry_date=="string"&&typeof e.refresh_token=="string"&&i}};n(Cy,"OAuth2");Xe=new WeakMap,ko=new WeakSet,Z1=n(function(){return y(this,void 0,void 0,function*(){var e;let i=yield(e=d(this,Xe,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,s=JSON.parse(o.decode(i));return this.setTokens(s),d(this,Xe,"f").emit("auth",{credentials:s}),!0})},"_OAuth2_loadFromCache"),la=n(function(){return d(this,Xe,"f").http},"_OAuth2_http_get");var fw=Cy;var h_,eC,tC,iC,Ey=class{constructor(e){h_.add(this),this.session=e}stats(e,i,o){return y(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",i.client_name.toLowerCase()),s.searchParams.set("cbrver",i.client_version),s.searchParams.set("cver",i.client_version);for(let u of Object.keys(o))s.searchParams.set(u,o[u]);return yield this.session.http.fetch(s)})}execute(e,i){return y(this,void 0,void 0,function*(){var o,s;let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&d(this,h_,"m",iC).call(this,r.browseId)&&!this.session.logged_in)throw new v("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let u=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(u,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,h_,"m",tC).call(this,f)&&((s=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(oo);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return d(this,h_,"m",eC).call(this,p)})}};n(Ey,"Actions");h_=new WeakSet,eC=n(function(e){return y(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),tC=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),iC=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var mw=Ey;var gi="Player",ht=class{constructor(e,i,o,s){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=s}static create(e){return y(this,arguments,void 0,function*(i,o=U.shim.fetch){let s=new URL("/iframe_api",se.URLS.YT_BASE),r=yield o(s);if(r.status!==200)throw new $t("Failed to request player id");let u=yield r.text(),p=We(u,"player\\/","\\/");if(B.info(gi,`Got player id (${p}). Checking for cached players..`),!p)throw new $t("Failed to get player id");if(i){let S=yield ht.fromCache(i,p);if(S)return B.info(gi,"Found up-to-date player data in cache."),S}let f=new URL(`/s/player/${p}/player_ias.vflset/en_US/base.js`,se.URLS.YT_BASE);B.info(gi,`Could not find any cached player. Will download a new player from ${f}.`);let m=yield o(f,{headers:{"user-agent":Ro("desktop")}});if(!m.ok)throw new $t(`Failed to get player data: ${m.status}`);let h=yield m.text(),x=this.extractSigTimestamp(h),b=this.extractSigSourceCode(h),T=this.extractNSigSourceCode(h);return B.info(gi,`Got signature timestamp (${x}) and algorithms needed to decipher signatures.`),yield ht.fromSource(i,x,b,T,p)})}decipher(e,i,o,s){if(e=e||i||o,!e)throw new $t("No valid URL to decipher");let r=new URLSearchParams(e),u=new URL(r.get("url")||e);if(i||o){let h=U.shim.eval(this.sig_sc,{sig:r.get("s")});if(B.info(gi,`Transformed signature from ${r.get("s")} to ${h}.`),typeof h!="string")throw new $t("Failed to decipher signature");let x=r.get("sp");x?u.searchParams.set(x,h):u.searchParams.set("signature",h)}let p=u.searchParams.get("n");if(p){let h;if(s&&s.has(p))h=s.get(p);else{if(h=U.shim.eval(this.nsig_sc,{nsig:p}),B.info(gi,`Transformed n signature from ${p} to ${h}.`),typeof h!="string")throw new $t("Failed to decipher nsig");h.startsWith("enhanced_except_")?B.warn(gi,"Could not transform nsig, download may be throttled."):s&&s.set(p,h)}u.searchParams.set("n",h)}switch(u.searchParams.get("c")){case"WEB":u.searchParams.set("cver",se.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":u.searchParams.set("cver",se.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":u.searchParams.set("cver",se.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":u.searchParams.set("cver",se.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":u.searchParams.set("cver",se.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":u.searchParams.set("cver",se.CLIENTS.TV_EMBEDDED.VERSION);break}let m=u.toString();return B.info(gi,`Deciphered URL: ${m}`),u.toString()}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let s=new DataView(o);if(s.getUint32(0,!0)!==ht.LIBRARY_VERSION)return null;let u=s.getUint32(4,!0),p=s.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),h=Bt.decompress(new TextDecoder().decode(f)),x=Bt.decompress(new TextDecoder().decode(m));return new ht(u,h,x,i)})}static fromSource(e,i,o,s,r){return y(this,void 0,void 0,function*(){let u=new ht(i,o,s,r);return yield u.cache(e),u})}cache(e){return y(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(Bt.compress(this.sig_sc)),s=i.encode(Bt.compress(this.nsig_sc)),r=new ArrayBuffer(12+o.byteLength+s.byteLength),u=new DataView(r);u.setUint32(0,ht.LIBRARY_VERSION,!0),u.setUint32(4,this.sts,!0),u.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(s,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(We(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,s;let r=We(e,'function(a){a=a.split("")','return a.join("")}'),u=(s=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||s===void 0?void 0:s.trim(),p=We(e,`var ${u}={`,"};");return(!p||!r)&&B.warn(gi,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${u}={${p}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=We(e,'b=a.split("")','}return b.join("")}');return i?`function descramble_nsig(a) { let b=a.split("")${i}} return b.join(""); } descramble_nsig(nsig)`:(i=We(e,'b=String.prototype.split.call(a,"")','}return Array.prototype.join.call(b,"")}'),i?`function descramble_nsig(a) { let b=String.prototype.split.call(a, "")${i}} return Array.prototype.join.call(b, ""); } descramble_nsig(nsig)`:(B.warn(gi,"Failed to extract n-token decipher algorithm"),"function descramble_nsig(a) { return a; } descramble_nsig(nsig)"))}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,se.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 10}};n(ht,"Player");var Wn,nC,sC,rC,oC,hw;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(hw||(hw={}));var ca="Session",__=class extends pa{constructor(e,i,o,s,r,u,p,f){super(),this.http=new Xy(this,u,p),this.actions=new mw(this),this.oauth=new fw(this),this.logged_in=!!u,this.cache=f,this.account_index=s,this.key=i,this.api_version=o,this.context=e,this.player=r}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(){return y(this,arguments,void 0,function*(e={}){let{context:i,api_key:o,api_version:s,account_index:r}=yield Wn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache);return new Wn(i,o,s,r,e.retrieve_player===!1?void 0:yield ht.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get("innertube_session_data");if(!o)return null;let s=new TextDecoder().decode(o.slice(4));try{let r=JSON.parse(Bt.decompress(s));return i.visitor_data&&(r.context.client.visitorData=i.visitor_data),i.lang&&(r.context.client.hl=i.lang),i.location&&(r.context.client.gl=i.location),i.on_behalf_of_user&&(r.context.user.onBehalfOfUser=i.on_behalf_of_user),r.context.client.timeZone=i.time_zone,r.context.client.platform=i.device_category.toUpperCase(),r.context.client.clientName=i.client_name,r.context.user.enableSafetyMode=i.enable_safety_mode,r}catch(r){return B.error(ca,"Failed to parse session data from cache.",r),null}})}static getSessionData(){return y(this,arguments,void 0,function*(e="",i="",o=0,s="",r=!1,u=!1,p="desktop",f=hw.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,h=U.shim.fetch,x,b,T=!0){let S={lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:r,visitor_data:s,on_behalf_of_user:x},C;if(b&&T){let P=yield this.fromCache(b,S);P&&(B.info(ca,"Found session data in cache."),C=P)}if(!C){B.info(ca,"Generating session data.");let P=le.WEB.API_KEY,R=le.WEB.API_VERSION,V={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:s||lb(Nt(11),Math.floor(Date.now()/1e3)),client_name:f,client_version:le.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:m,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:r};if(!u)try{let H=yield d(this,Wn,"m",sC).call(this,S,h);P=H.api_key,R=H.api_version,V=H.context_data}catch(H){B.error(ca,"Failed to retrieve session data from server. Session data generated locally will be used instead.",H)}C={api_key:P,api_version:R,context:d(this,Wn,"m",rC).call(this,V)},T&&(yield d(this,Wn,"m",nC).call(this,C,b))}return B.debug(ca,"Session data:",C),Object.assign(Object.assign({},C),{account_index:o})})}signIn(e){return y(this,void 0,void 0,function*(){return new Promise((i,o)=>y(this,void 0,void 0,function*(){let s=n(r=>o(r),"error_handler");this.once("auth-error",s),this.once("auth",()=>{this.off("auth-error",s),this.logged_in=!0,i()});try{yield this.oauth.init(e)}catch(r){o(r)}}))})}signOut(){return y(this,void 0,void 0,function*(){if(!this.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};n(__,"Session");Wn=__,nC=n(function(e,i){return y(this,void 0,void 0,function*(){if(!i)return;B.info(ca,"Compressing and caching session data.");let o=new TextEncoder().encode(Bt.compress(JSON.stringify(e))),s=new ArrayBuffer(4+o.byteLength);new DataView(s).setUint32(0,o.byteLength,!0),new Uint8Array(s).set(o,4),yield i.set("innertube_session_data",new Uint8Array(s))})},"_Session_storeSession"),sC=n(function(e){return y(this,arguments,void 0,function*(i,o=U.shim.fetch){let s=Nt(11);i.visitor_data&&(s=d(this,Wn,"m",oC).call(this,i.visitor_data));let r=new URL("/sw.js_data",it.YT_BASE),u=yield o(r,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":Ro("desktop"),Accept:"*/*",Referer:`${it.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!u.ok)throw new Fn(`Failed to retrieve session data: ${u.status}`);let p=yield u.text();if(!p.startsWith(")]}'"))throw new Fn("Invalid JSPB response");let m=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],h=le.WEB.API_VERSION,[[x],b]=m,T=x[61],S=T[T.length-1];return{context_data:{hl:i.lang||x[0],gl:i.location||x[2],remote_host:x[3],visitor_data:x[13],client_name:i.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||i.time_zone,device_category:i.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:S,enable_safety_mode:i.enable_safety_mode},api_key:b,api_version:h}})},"_Session_getSessionData"),rC=n(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:it.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:it.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),oC=n(function(e){return cb(e).id},"_Session_getVisitorID");var _w=__;var vw={};L(vw,{Kids:()=>Ny,Music:()=>Vy,Studio:()=>Oy});var Qe,Py=class{constructor(e){Qe.set(this,void 0),k(this,Qe,e,"f")}search(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Qe,"f").actions.execute(bt.PATH,bt.build({client:"YTKIDS",query:e}));return new Kx(d(this,Qe,"f").actions,i)})}getInfo(e){return y(this,void 0,void 0,function*(){var i;let o=st.build({sts:(i=d(this,Qe,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),s=Ee.build({video_id:e,client:"YTKIDS"}),r=d(this,Qe,"f").actions.execute(st.PATH,o),u=d(this,Qe,"f").actions.execute(Ee.PATH,s),p=yield Promise.all([r,u]),f=Nt(16);return new Xx(p,d(this,Qe,"f").actions,f)})}getChannel(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Qe,"f").actions.execute(F.PATH,F.build({browse_id:e,client:"YTKIDS"}));return new Gx(d(this,Qe,"f").actions,i)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,Qe,"f").actions.execute(F.PATH,F.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new zx(d(this,Qe,"f").actions,e)})}blockChannel(e){return y(this,void 0,void 0,function*(){var i,o;if(!d(this,Qe,"f").logged_in)throw new v("You must be signed in to perform this operation.");let s=Dn.build({channel_id:e}),p={contents:(yield d(this,Qe,"f").actions.execute(Dn.PATH,s)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},m=(i=c.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(Hs);if(!m)throw new v("Could not find any kids profiles or supervised accounts.");let h=[];for(let x of m)!((o=x.block_button)===null||o===void 0)&&o.is_toggled||(x.setActions(d(this,Qe,"f").actions),h.push(yield x.blockChannel()));return h})}};n(Py,"Kids");Qe=new WeakMap;var Ny=Py;var Ay,v_,fe,aC,uC,Ry=class{constructor(e){Ay.add(this),v_.set(this,void 0),fe.set(this,void 0),k(this,v_,e,"f"),k(this,fe,e.actions,"f")}getInfo(e){if(e instanceof Rs)return d(this,Ay,"m",uC).call(this,e);if(typeof e=="string")return d(this,Ay,"m",aC).call(this,e);throw new v("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e){return y(this,arguments,void 0,function*(i,o={}){oe({query:i});let s=yield d(this,fe,"f").execute(bt.PATH,bt.build({query:i,client:"YTMUSIC",params:o.type&&o.type!=="all"?fb(o):void 0}));return new Hx(s,d(this,fe,"f"),Reflect.has(o,"type")&&o.type!=="all")})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(F.PATH,F.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Yx(e,d(this,fe,"f"))})}getExplore(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Fx(e)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new jx(e,d(this,fe,"f"))})}getArtist(e){return y(this,void 0,void 0,function*(){if(oe({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new v("Invalid artist id",e);let i=yield d(this,fe,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new Lx(i,d(this,fe,"f"))})}getAlbum(e){return y(this,void 0,void 0,function*(){if(oe({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new v("Invalid album id",e);let i=yield d(this,fe,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new Mx(i)})}getPlaylist(e){return y(this,void 0,void 0,function*(){oe({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield d(this,fe,"f").execute(F.PATH,F.build({client:"YTMUSIC",browse_id:e}));return new hr(i,d(this,fe,"f"))})}getUpNext(e){return y(this,arguments,void 0,function*(i,o=!0){var s,r,u;oe({video_id:i});let f=(s=(yield d(this,fe,"f").execute(Ee.PATH,Object.assign(Object.assign({},Ee.build({video_id:i,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||s===void 0?void 0:s.getType(we),m=f==null?void 0:f.first();if(!m)throw new v("Could not find target tab.");let h=(r=m.content)===null||r===void 0?void 0:r.as(Ms);if(!h||!h.content)throw new v("Music queue was empty, the given id is probably invalid.",h);let x=h.content.as(si);if(!x.playlist_id&&o){let b=x.contents.firstOfType(Fi);if(!b)throw new v("Automix item not found");let T=yield(u=b.playlist_video)===null||u===void 0?void 0:u.endpoint.call(d(this,fe,"f"),{videoId:i,client:"YTMUSIC",parse:!0});if(!T||!T.contents_memo)throw new v("Could not fetch automix");return T.contents_memo.getType(si).first()}return x})}getRelated(e){return y(this,void 0,void 0,function*(){var i;oe({video_id:e});let s=(i=(yield d(this,fe,"f").execute(Ee.PATH,Object.assign(Object.assign({},Ee.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(we),r=s==null?void 0:s.matchCondition(f=>{var m,h;return((h=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new v("Could not find target tab.");let u=yield r.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",parse:!0});if(!u.contents)throw new v("Unexpected response",u);return u.contents.item().as(Z,He)})}getLyrics(e){return y(this,void 0,void 0,function*(){var i;oe({video_id:e});let s=(i=(yield d(this,fe,"f").execute(Ee.PATH,Object.assign(Object.assign({},Ee.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(we),r=s==null?void 0:s.matchCondition(f=>{var m,h;return((h=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new v("Could not find target tab.");let u=yield r.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",parse:!0});if(!u.contents)throw new v("Unexpected response",u);if(u.contents.item().type==="Message")throw new v(u.contents.item().as(He).text.toString(),e);return u.contents.item().as(Z).contents.firstOfType(Qi)})}getRecap(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(F.PATH,F.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new Wx(e,d(this,fe,"f"))})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){let i=yield d(this,fe,"f").execute(Pn.PATH,Object.assign(Object.assign({},Pn.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(M0):[]})}};n(Ry,"Music");v_=new WeakMap,fe=new WeakMap,Ay=new WeakSet,aC=n(function(e){return y(this,void 0,void 0,function*(){var i;let o=st.build({video_id:e,sts:(i=d(this,v_,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),s=Ee.build({video_id:e,client:"YTMUSIC"}),r=d(this,fe,"f").execute(st.PATH,o),u=d(this,fe,"f").execute(Ee.PATH,s),p=yield Promise.all([r,u]),f=Nt(16);return new n_(p,d(this,fe,"f"),f)})},"_Music_fetchInfoFromVideoId"),uC=n(function(e){return y(this,void 0,void 0,function*(){var i;if(!e)throw new v("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=d(this,v_,"f").player)===null||i===void 0?void 0:i.sts})}}),s=e.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),r=Nt(16),u=yield Promise.all([o,s]);return new n_(u,d(this,fe,"f"),r)})},"_Music_fetchInfoFromListItem");var Vy=Ry;var g_,qt,lC,cC,dC,My=class{constructor(e){g_.add(this),qt.set(this,void 0),k(this,qt,e,"f")}setThumbnail(e,i){return y(this,void 0,void 0,function*(){if(!d(this,qt,"f").logged_in)throw new v("You must be signed in to perform this operation.");if(!e||!i)throw new Bn("One or more parameters are missing.");let o=xb(e,i);return yield d(this,qt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return y(this,void 0,void 0,function*(){if(!d(this,qt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=gb(e,i);return yield d(this,qt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e){return y(this,arguments,void 0,function*(i,o={}){if(!d(this,qt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let s=yield d(this,g_,"m",lC).call(this),r=yield d(this,g_,"m",cC).call(this,s.upload_url,i);if(r.status!=="STATUS_SUCCESS")throw new v("Could not process video.");return yield d(this,g_,"m",dC).call(this,s,r,o)})}};n(My,"Studio");qt=new WeakMap,g_=new WeakSet,lC=n(function(){return y(this,void 0,void 0,function*(){let e=`innertube_android:${U.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${U.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield d(this,qt,"f").http.fetch("/upload/youtubei",{baseURL:se.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new v("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),cC=n(function(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,qt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new v("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),dC=n(function(e,i,o){return y(this,void 0,void 0,function*(){return yield d(this,qt,"f").actions.execute(On.PATH,On.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Oy=My;var gw={};L(gw,{AccountManager:()=>Ly,InteractionManager:()=>jy,PlaylistManager:()=>Fy});var wt,Dy=class{constructor(e){wt.set(this,void 0),k(this,wt,e,"f"),this.channel={editName:i=>{if(!d(this,wt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return d(this,wt,"f").execute(Ni.EditNameEndpoint.PATH,Ni.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!d(this,wt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return d(this,wt,"f").execute(Ni.EditDescriptionEndpoint.PATH,Ni.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return y(this,void 0,void 0,function*(){if(!d(this,wt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield d(this,wt,"f").execute(Tn.AccountListEndpoint.PATH,Tn.AccountListEndpoint.build());return new sx(e)})}getTimeWatched(){return y(this,void 0,void 0,function*(){let e=yield d(this,wt,"f").execute(F.PATH,F.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new Rx(e)})}getSettings(){return y(this,void 0,void 0,function*(){let e=yield d(this,wt,"f").execute(F.PATH,F.build({browse_id:"SPaccount_overview"}));return new Nx(d(this,wt,"f"),e)})}getAnalytics(){return y(this,void 0,void 0,function*(){var e;let i=yield this.getInfo(),o=yield d(this,wt,"f").execute(F.PATH,F.build({browse_id:"FEanalytics_screen",params:db((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new ax(o)})}};n(Dy,"AccountManager");wt=new WeakMap;var Ly=Dy;var Re,By=class{constructor(e){Re.set(this,void 0),k(this,Re,e,"f")}create(e,i){return y(this,void 0,void 0,function*(){if(oe({title:e,video_ids:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Re,"f").execute(An.PATH,An.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let i=yield d(this,Re,"f").execute(Rn.PATH,Rn.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Re,"f").execute(rt.PATH,rt.build({actions:i.map(s=>({action:"ACTION_ADD_VIDEO",added_video_id:s})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Re,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),s=new Si(d(this,Re,"f"),o,!0);if(!s.info.is_editable)throw new v("This playlist cannot be edited.",e);let r={playlist_id:e,actions:[]},u=n(f=>y(this,void 0,void 0,function*(){if(f.videos.filter(h=>i.includes(h.key("id").string())).forEach(h=>r.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:h.key("set_video_id").string()})),r.actions.length<i.length){let h=yield f.getContinuation();return u(h)}}),"getSetVideoIds");if(yield u(s),!r.actions.length)throw new v("Given video ids were not found in this playlist.",i);let p=yield d(this,Re,"f").execute(rt.PATH,rt.build(r));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let s=yield d(this,Re,"f").execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:`VL${e}`})),{parse:!0})),r=new Si(d(this,Re,"f"),s,!0);if(!r.info.is_editable)throw new v("This playlist cannot be edited.",e);let u={playlist_id:e,actions:[]},p,f,m=n(x=>y(this,void 0,void 0,function*(){let b=x.videos.find(S=>i===S.key("id").string()),T=x.videos.find(S=>o===S.key("id").string());if(p=p||(b==null?void 0:b.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!p||!f){let S=yield x.getContinuation();return m(S)}}),"getSetVideoIds");yield m(r),u.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let h=yield d(this,Re,"f").execute(rt.PATH,rt.build(u));return{playlist_id:e,action_result:h.data.actions}})}setName(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,name:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let s=yield d(this,Re,"f").execute(rt.PATH,rt.build(o));return{playlist_id:e,action_result:s.data.actions}})}setDescription(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,description:i}),!d(this,Re,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let s=yield d(this,Re,"f").execute(rt.PATH,rt.build(o));return{playlist_id:e,action_result:s.data.actions}})}};n(By,"PlaylistManager");Re=new WeakMap;var Fy=By;var je,Yy=class{constructor(e){je.set(this,void 0),k(this,je,e,"f")}like(e){return y(this,void 0,void 0,function*(){if(oe({video_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Sn.PATH,Sn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return y(this,void 0,void 0,function*(){if(oe({video_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Cn.PATH,Cn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return y(this,void 0,void 0,function*(){if(oe({video_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(En.PATH,En.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return y(this,void 0,void 0,function*(){if(oe({channel_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Vn.PATH,Vn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return y(this,void 0,void 0,function*(){if(oe({channel_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Mn.PATH,Mn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return y(this,void 0,void 0,function*(){if(oe({video_id:e,text:i}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(In.PATH,In.build({comment_text:i,create_comment_params:_b(e),client:"ANDROID"}))})}translate(e,i){return y(this,arguments,void 0,function*(o,s,r={}){oe({text:o,target_language:s});let u=Fo(22,Object.assign({text:o,target_language:s},r)),p=yield d(this,je,"f").execute(kn.PATH,kn.build({client:"ANDROID",actions:[u]})),f=p.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:p.success,status_code:p.status_code,translated_content:f.translatedContent.content,data:p.data}})}setNotificationPreferences(e,i){return y(this,void 0,void 0,function*(){if(oe({channel_id:e,type:i}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield d(this,je,"f").execute(Nn.PATH,Nn.build({client:"WEB",params:vb(e,o[i.toUpperCase()])}))})}};n(Yy,"InteractionManager");je=new WeakMap;var jy=Yy;var Ze,da=class{constructor(e){Ze.set(this,void 0),k(this,Ze,e,"f")}static create(){return y(this,arguments,void 0,function*(e={}){return new da(yield _w.create(e))})}getInfo(e,i){return y(this,void 0,void 0,function*(){var o,s,r,u,p;oe({target:e});let f;if(e instanceof g)f=Ee.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(r=e.payload)===null||r===void 0?void 0:r.params,playlist_index:(u=e.payload)===null||u===void 0?void 0:u.index});else if(typeof e=="string")f=Ee.build({video_id:e});else throw new v("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new v("Video id cannot be empty",f);let m=st.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,Ze,"f").player)===null||p===void 0?void 0:p.sts}),h=this.actions.execute(st.PATH,m),x=this.actions.execute(Ee.PATH,f),b=yield Promise.all([h,x]),T=Nt(16);return new qh(b,this.actions,T)})}getBasicInfo(e,i){return y(this,void 0,void 0,function*(){var o;oe({video_id:e});let s=yield this.actions.execute(st.PATH,st.build({video_id:e,client:i,sts:(o=d(this,Ze,"f").player)===null||o===void 0?void 0:o.sts})),r=Nt(16);return new qh([s],this.actions,r)})}getShortsWatchItem(e,i){return y(this,void 0,void 0,function*(){oe({short_id:e});let o=this.actions.execute(Pt.WatchEndpoint.PATH,Pt.WatchEndpoint.build({short_id:e,client:i})),s=this.actions.execute(Pt.WatchSequenceEndpoint.PATH,Pt.WatchSequenceEndpoint.build({sequenceParams:bb(e)})),r=yield Promise.all([o,s]);return new my(r,this.actions)})}search(e){return y(this,arguments,void 0,function*(i,o={}){oe({query:i});let s=yield this.actions.execute(bt.PATH,bt.build({query:i,params:o?pb(o):void 0}));return new Px(this.actions,s)})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){oe({query:e});let i=new URL(`${it.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",d(this,Ze,"f").context.client.hl),i.searchParams.set("gl",d(this,Ze,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let s=yield(yield d(this,Ze,"f").http.fetch(i)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return y(this,void 0,void 0,function*(){oe({video_id:e});let o=yield this.actions.execute(Ee.PATH,Ee.build({continuation:hb(e,{sort_by:i||"TOP_COMMENTS"})}));return new dx(this.actions,o.data)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEwhat_to_watch"}));return new Gt(this.actions,e)})}getGuide(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(br.PATH);return new fx(e.data)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FElibrary"}));return new yx(this.actions,e)})}getHistory(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhistory"}));return new tr(this.actions,e)})}getTrending(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEtrending"})),{parse:!0}));return new tn(this.actions,e)})}getSubscriptionsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new ge(this.actions,e)})}getChannelsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEchannels"})),{parse:!0}));return new ge(this.actions,e)})}getChannel(e){return y(this,void 0,void 0,function*(){oe({id:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new Ve(this.actions,i)})}getNotifications(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(bn.PATH,bn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new Ex(this.actions,e)})}getUnseenNotificationsCount(){return y(this,void 0,void 0,function*(){var e,i,o,s;let r=yield this.actions.execute(wr.GetUnseenCountEndpoint.PATH);return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((s=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||s===void 0?void 0:s.unseenCount)||0})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(F.PATH,Object.assign(Object.assign({},F.build({browse_id:"FEplaylist_aggregation"})),{parse:!0}));return new ge(this.actions,e)})}getPlaylist(e){return y(this,void 0,void 0,function*(){oe({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(F.PATH,F.build({browse_id:e}));return new Si(this.actions,i)})}getHashtag(e){return y(this,void 0,void 0,function*(){oe({hashtag:e});let i=yield this.actions.execute(F.PATH,F.build({browse_id:"FEhashtag",params:yb(e)}));return new pi(this.actions,i)})}getStreamingData(e){return y(this,arguments,void 0,function*(i,o={}){return(yield this.getBasicInfo(i)).chooseFormat(o)})}download(e,i){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return y(this,void 0,void 0,function*(){return(yield this.actions.execute(wn.PATH,Object.assign(Object.assign({},wn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Vy(d(this,Ze,"f"))}get studio(){return new Oy(d(this,Ze,"f"))}get kids(){return new Ny(d(this,Ze,"f"))}get account(){return new Ly(d(this,Ze,"f").actions)}get playlist(){return new Fy(d(this,Ze,"f").actions)}get interact(){return new jy(d(this,Ze,"f").actions)}get actions(){return d(this,Ze,"f").actions}get session(){return d(this,Ze,"f")}};n(da,"Innertube");Ze=new WeakMap;var xw=da;var pC={};var fC=xw;var mC="JsRuntime";function yw(t,e){B.debug(mC,`Evaluating JavaScript:
`,t);let i=new Un;for(let[s,r]of Object.entries(e))i.scope.set(s,r);let o=i.evaluate(t);return B.debug(mC,"Done. Result:",o),o}n(yw,"evaluate");var x_,bw,Uy,Wy,Hy,Jy=class{constructor(e=!1,i){x_.add(this),bw.set(this,"Cache"),Uy.set(this,void 0),Wy.set(this,void 0),k(this,Uy,i||"","f"),k(this,Wy,e,"f")}get cache_dir(){return d(this,Wy,"f")?d(this,Uy,"f"):""}get(e){return y(this,void 0,void 0,function*(){let i=yield d(this,x_,"m",Hy).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=s,r.onsuccess=function(){var u;let p=(u=this.result)===null||u===void 0?void 0:u.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,x_,"m",Hy).call(this);if(!!o)return new Promise((s,r)=>{let u=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});u.onerror=r,u.onsuccess=()=>s()})})}remove(e){return y(this,void 0,void 0,function*(){let i=yield d(this,x_,"m",Hy).call(this);if(!!i)return new Promise((o,s)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=s,r.onsuccess=()=>o()})})}};n(Jy,"Cache");bw=new WeakMap,Uy=new WeakMap,Wy=new WeakMap,x_=new WeakSet,Hy=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let s=e.open("youtubei.js",1);s.onsuccess=function(){i(this.result)},s.onerror=function(r){o("indexedDB request error"),console.error(r)},s.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):B.warn(d(this,bw,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");U.load({runtime:"browser",server:!1,info:{version:_y.version,bugs_url:_y.bugs.url,repo_url:_y.homepage.split("#")[0]},Cache:Jy,sha1Hash:Kb,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:yw,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var rAe=fC;export{mw as Actions,Mo as AppendContinuationItemsAction,hw as ClientType,vw as Clients,se as Constants,Xo as Continuation,Ii as ContinuationCommand,Jb as Endpoints,pa as EventEmitter,Ao as FormatUtils,Ab as Generator,ro as GridContinuation,Xy as HTTPClient,$y as Helpers,xw as Innertube,io as ItemSectionContinuation,Bt as LZW,ao as LiveChatContinuation,B as Log,gw as Managers,zb as Misc,Bb as Mixins,so as MusicPlaylistShelfContinuation,ci as MusicShelfContinuation,oo as NavigateAction,fw as OAuth2,c as Parser,U as Platform,ht as Player,zs as PlaylistPanelContinuation,St as Proto,no as ReloadContinuationItemsCommand,dt as SectionListContinuation,_w as Session,Gs as ShowMiniplayerCommand,pC as Types,gC as UniversalCache,eb as Utils,jb as YT,Hb as YTKids,Wb as YTMusic,Jo as YTNodes,Gb as YTShorts,rAe as default};
//# sourceMappingURL=browser.min.js.map
